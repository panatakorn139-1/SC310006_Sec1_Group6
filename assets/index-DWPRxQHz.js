(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function G2(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var tp={exports:{}},du={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aw;function $2(){if(Aw)return du;Aw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:n,type:s,key:f,ref:o!==void 0?o:null,props:u}}return du.Fragment=e,du.jsx=t,du.jsxs=t,du}var Sw;function K2(){return Sw||(Sw=1,tp.exports=$2()),tp.exports}var N=K2(),np={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rw;function Q2(){if(Rw)return Ie;Rw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function b(P){return P===null||typeof P!="object"?null:(P=E&&P[E]||P["@@iterator"],typeof P=="function"?P:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,L={};function M(P,ie,de){this.props=P,this.context=ie,this.refs=L,this.updater=de||R}M.prototype.isReactComponent={},M.prototype.setState=function(P,ie){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,ie,"setState")},M.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function K(){}K.prototype=M.prototype;function Z(P,ie,de){this.props=P,this.context=ie,this.refs=L,this.updater=de||R}var $=Z.prototype=new K;$.constructor=Z,x($,M.prototype),$.isPureReactComponent=!0;var oe=Array.isArray,ae={H:null,A:null,T:null,S:null},we=Object.prototype.hasOwnProperty;function U(P,ie,de,ue,le,xe){return de=xe.ref,{$$typeof:n,type:P,key:ie,ref:de!==void 0?de:null,props:xe}}function C(P,ie){return U(P.type,ie,void 0,void 0,void 0,P.props)}function S(P){return typeof P=="object"&&P!==null&&P.$$typeof===n}function O(P){var ie={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(de){return ie[de]})}var V=/\/+/g;function k(P,ie){return typeof P=="object"&&P!==null&&P.key!=null?O(""+P.key):ie.toString(36)}function I(){}function De(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(I,I):(P.status="pending",P.then(function(ie){P.status==="pending"&&(P.status="fulfilled",P.value=ie)},function(ie){P.status==="pending"&&(P.status="rejected",P.reason=ie)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function Me(P,ie,de,ue,le){var xe=typeof P;(xe==="undefined"||xe==="boolean")&&(P=null);var Ce=!1;if(P===null)Ce=!0;else switch(xe){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(P.$$typeof){case n:case e:Ce=!0;break;case v:return Ce=P._init,Me(Ce(P._payload),ie,de,ue,le)}}if(Ce)return le=le(P),Ce=ue===""?"."+k(P,0):ue,oe(le)?(de="",Ce!=null&&(de=Ce.replace(V,"$&/")+"/"),Me(le,ie,de,"",function(ft){return ft})):le!=null&&(S(le)&&(le=C(le,de+(le.key==null||P&&P.key===le.key?"":(""+le.key).replace(V,"$&/")+"/")+Ce)),ie.push(le)),1;Ce=0;var St=ue===""?".":ue+":";if(oe(P))for(var $e=0;$e<P.length;$e++)ue=P[$e],xe=St+k(ue,$e),Ce+=Me(ue,ie,de,xe,le);else if($e=b(P),typeof $e=="function")for(P=$e.call(P),$e=0;!(ue=P.next()).done;)ue=ue.value,xe=St+k(ue,$e++),Ce+=Me(ue,ie,de,xe,le);else if(xe==="object"){if(typeof P.then=="function")return Me(De(P),ie,de,ue,le);throw ie=String(P),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function re(P,ie,de){if(P==null)return P;var ue=[],le=0;return Me(P,ue,"","",function(xe){return ie.call(de,xe,le++)}),ue}function ge(P){if(P._status===-1){var ie=P._result;ie=ie(),ie.then(function(de){(P._status===0||P._status===-1)&&(P._status=1,P._result=de)},function(de){(P._status===0||P._status===-1)&&(P._status=2,P._result=de)}),P._status===-1&&(P._status=0,P._result=ie)}if(P._status===1)return P._result.default;throw P._result}var me=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function Ne(){}return Ie.Children={map:re,forEach:function(P,ie,de){re(P,function(){ie.apply(this,arguments)},de)},count:function(P){var ie=0;return re(P,function(){ie++}),ie},toArray:function(P){return re(P,function(ie){return ie})||[]},only:function(P){if(!S(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Ie.Component=M,Ie.Fragment=t,Ie.Profiler=o,Ie.PureComponent=Z,Ie.StrictMode=s,Ie.Suspense=d,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ae,Ie.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ie.cache=function(P){return function(){return P.apply(null,arguments)}},Ie.cloneElement=function(P,ie,de){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var ue=x({},P.props),le=P.key,xe=void 0;if(ie!=null)for(Ce in ie.ref!==void 0&&(xe=void 0),ie.key!==void 0&&(le=""+ie.key),ie)!we.call(ie,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&ie.ref===void 0||(ue[Ce]=ie[Ce]);var Ce=arguments.length-2;if(Ce===1)ue.children=de;else if(1<Ce){for(var St=Array(Ce),$e=0;$e<Ce;$e++)St[$e]=arguments[$e+2];ue.children=St}return U(P.type,le,void 0,void 0,xe,ue)},Ie.createContext=function(P){return P={$$typeof:f,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:u,_context:P},P},Ie.createElement=function(P,ie,de){var ue,le={},xe=null;if(ie!=null)for(ue in ie.key!==void 0&&(xe=""+ie.key),ie)we.call(ie,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(le[ue]=ie[ue]);var Ce=arguments.length-2;if(Ce===1)le.children=de;else if(1<Ce){for(var St=Array(Ce),$e=0;$e<Ce;$e++)St[$e]=arguments[$e+2];le.children=St}if(P&&P.defaultProps)for(ue in Ce=P.defaultProps,Ce)le[ue]===void 0&&(le[ue]=Ce[ue]);return U(P,xe,void 0,void 0,null,le)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(P){return{$$typeof:p,render:P}},Ie.isValidElement=S,Ie.lazy=function(P){return{$$typeof:v,_payload:{_status:-1,_result:P},_init:ge}},Ie.memo=function(P,ie){return{$$typeof:g,type:P,compare:ie===void 0?null:ie}},Ie.startTransition=function(P){var ie=ae.T,de={};ae.T=de;try{var ue=P(),le=ae.S;le!==null&&le(de,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Ne,me)}catch(xe){me(xe)}finally{ae.T=ie}},Ie.unstable_useCacheRefresh=function(){return ae.H.useCacheRefresh()},Ie.use=function(P){return ae.H.use(P)},Ie.useActionState=function(P,ie,de){return ae.H.useActionState(P,ie,de)},Ie.useCallback=function(P,ie){return ae.H.useCallback(P,ie)},Ie.useContext=function(P){return ae.H.useContext(P)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(P,ie){return ae.H.useDeferredValue(P,ie)},Ie.useEffect=function(P,ie){return ae.H.useEffect(P,ie)},Ie.useId=function(){return ae.H.useId()},Ie.useImperativeHandle=function(P,ie,de){return ae.H.useImperativeHandle(P,ie,de)},Ie.useInsertionEffect=function(P,ie){return ae.H.useInsertionEffect(P,ie)},Ie.useLayoutEffect=function(P,ie){return ae.H.useLayoutEffect(P,ie)},Ie.useMemo=function(P,ie){return ae.H.useMemo(P,ie)},Ie.useOptimistic=function(P,ie){return ae.H.useOptimistic(P,ie)},Ie.useReducer=function(P,ie,de){return ae.H.useReducer(P,ie,de)},Ie.useRef=function(P){return ae.H.useRef(P)},Ie.useState=function(P){return ae.H.useState(P)},Ie.useSyncExternalStore=function(P,ie,de){return ae.H.useSyncExternalStore(P,ie,de)},Ie.useTransition=function(){return ae.H.useTransition()},Ie.version="19.0.0",Ie}var Cw;function ng(){return Cw||(Cw=1,np.exports=Q2()),np.exports}var F=ng();const Lt=G2(F);var ip={exports:{}},mu={},rp={exports:{}},sp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iw;function Y2(){return Iw||(Iw=1,function(n){function e(re,ge){var me=re.length;re.push(ge);e:for(;0<me;){var Ne=me-1>>>1,P=re[Ne];if(0<o(P,ge))re[Ne]=ge,re[me]=P,me=Ne;else break e}}function t(re){return re.length===0?null:re[0]}function s(re){if(re.length===0)return null;var ge=re[0],me=re.pop();if(me!==ge){re[0]=me;e:for(var Ne=0,P=re.length,ie=P>>>1;Ne<ie;){var de=2*(Ne+1)-1,ue=re[de],le=de+1,xe=re[le];if(0>o(ue,me))le<P&&0>o(xe,ue)?(re[Ne]=xe,re[le]=me,Ne=le):(re[Ne]=ue,re[de]=me,Ne=de);else if(le<P&&0>o(xe,me))re[Ne]=xe,re[le]=me,Ne=le;else break e}}return ge}function o(re,ge){var me=re.sortIndex-ge.sortIndex;return me!==0?me:re.id-ge.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();n.unstable_now=function(){return f.now()-p}}var d=[],g=[],v=1,E=null,b=3,R=!1,x=!1,L=!1,M=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function $(re){for(var ge=t(g);ge!==null;){if(ge.callback===null)s(g);else if(ge.startTime<=re)s(g),ge.sortIndex=ge.expirationTime,e(d,ge);else break;ge=t(g)}}function oe(re){if(L=!1,$(re),!x)if(t(d)!==null)x=!0,De();else{var ge=t(g);ge!==null&&Me(oe,ge.startTime-re)}}var ae=!1,we=-1,U=5,C=-1;function S(){return!(n.unstable_now()-C<U)}function O(){if(ae){var re=n.unstable_now();C=re;var ge=!0;try{e:{x=!1,L&&(L=!1,K(we),we=-1),R=!0;var me=b;try{t:{for($(re),E=t(d);E!==null&&!(E.expirationTime>re&&S());){var Ne=E.callback;if(typeof Ne=="function"){E.callback=null,b=E.priorityLevel;var P=Ne(E.expirationTime<=re);if(re=n.unstable_now(),typeof P=="function"){E.callback=P,$(re),ge=!0;break t}E===t(d)&&s(d),$(re)}else s(d);E=t(d)}if(E!==null)ge=!0;else{var ie=t(g);ie!==null&&Me(oe,ie.startTime-re),ge=!1}}break e}finally{E=null,b=me,R=!1}ge=void 0}}finally{ge?V():ae=!1}}}var V;if(typeof Z=="function")V=function(){Z(O)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,I=k.port2;k.port1.onmessage=O,V=function(){I.postMessage(null)}}else V=function(){M(O,0)};function De(){ae||(ae=!0,V())}function Me(re,ge){we=M(function(){re(n.unstable_now())},ge)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_continueExecution=function(){x||R||(x=!0,De())},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(re){switch(b){case 1:case 2:case 3:var ge=3;break;default:ge=b}var me=b;b=ge;try{return re()}finally{b=me}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(re,ge){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var me=b;b=re;try{return ge()}finally{b=me}},n.unstable_scheduleCallback=function(re,ge,me){var Ne=n.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Ne+me:Ne):me=Ne,re){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=me+P,re={id:v++,callback:ge,priorityLevel:re,startTime:me,expirationTime:P,sortIndex:-1},me>Ne?(re.sortIndex=me,e(g,re),t(d)===null&&re===t(g)&&(L?(K(we),we=-1):L=!0,Me(oe,me-Ne))):(re.sortIndex=P,e(d,re),x||R||(x=!0,De())),re},n.unstable_shouldYield=S,n.unstable_wrapCallback=function(re){var ge=b;return function(){var me=b;b=ge;try{return re.apply(this,arguments)}finally{b=me}}}}(sp)),sp}var Dw;function X2(){return Dw||(Dw=1,rp.exports=Y2()),rp.exports}var ap={exports:{}},an={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xw;function W2(){if(xw)return an;xw=1;var n=ng();function e(d){var g="https://react.dev/errors/"+d;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+d+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(d,g,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:d,containerInfo:g,implementation:v}}var f=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(d,g){if(d==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,an.createPortal=function(d,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(d,g,null,v)},an.flushSync=function(d){var g=f.T,v=s.p;try{if(f.T=null,s.p=2,d)return d()}finally{f.T=g,s.p=v,s.d.f()}},an.preconnect=function(d,g){typeof d=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(d,g))},an.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},an.preinit=function(d,g){if(typeof d=="string"&&g&&typeof g.as=="string"){var v=g.as,E=p(v,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,R=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(d,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:b,fetchPriority:R}):v==="script"&&s.d.X(d,{crossOrigin:E,integrity:b,fetchPriority:R,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},an.preinitModule=function(d,g){if(typeof d=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=p(g.as,g.crossOrigin);s.d.M(d,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(d)},an.preload=function(d,g){if(typeof d=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,E=p(v,g.crossOrigin);s.d.L(d,v,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},an.preloadModule=function(d,g){if(typeof d=="string")if(g){var v=p(g.as,g.crossOrigin);s.d.m(d,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(d)},an.requestFormReset=function(d){s.d.r(d)},an.unstable_batchedUpdates=function(d,g){return d(g)},an.useFormState=function(d,g,v){return f.H.useFormState(d,g,v)},an.useFormStatus=function(){return f.H.useHostTransitionStatus()},an.version="19.0.0",an}var Ow;function Z2(){if(Ow)return ap.exports;Ow=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ap.exports=W2(),ap.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nw;function J2(){if(Nw)return mu;Nw=1;var n=X2(),e=ng(),t=Z2();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),R=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),$=Symbol.for("react.offscreen"),oe=Symbol.for("react.memo_cache_sentinel"),ae=Symbol.iterator;function we(i){return i===null||typeof i!="object"?null:(i=ae&&i[ae]||i["@@iterator"],typeof i=="function"?i:null)}var U=Symbol.for("react.client.reference");function C(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===U?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case d:return"Fragment";case p:return"Portal";case v:return"Profiler";case g:return"StrictMode";case L:return"Suspense";case M:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case R:return(i.displayName||"Context")+".Provider";case b:return(i._context.displayName||"Context")+".Consumer";case x:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case K:return r=i.displayName||null,r!==null?r:C(i.type)||"Memo";case Z:r=i._payload,i=i._init;try{return C(i(r))}catch{}}return null}var S=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=Object.assign,V,k;function I(i){if(V===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);V=r&&r[1]||"",k=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+V+i+k}var De=!1;function Me(i,r){if(!i||De)return"";De=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(X){var G=X}Reflect.construct(i,[],ne)}else{try{ne.call()}catch(X){G=X}i.call(ne.prototype)}}else{try{throw Error()}catch(X){G=X}(ne=i())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(X){if(X&&G&&typeof X.stack=="string")return[X.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),w=m[0],T=m[1];if(w&&T){var D=w.split(`
`),j=T.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===j.length)for(l=D.length-1,h=j.length-1;1<=l&&0<=h&&D[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==j[h]){var W=`
`+D[l].replace(" at new "," at ");return i.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",i.displayName)),W}while(1<=l&&0<=h);break}}}finally{De=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?I(a):""}function re(i){switch(i.tag){case 26:case 27:case 5:return I(i.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 15:return i=Me(i.type,!1),i;case 11:return i=Me(i.type.render,!1),i;case 1:return i=Me(i.type,!0),i;default:return""}}function ge(i){try{var r="";do r+=re(i),i=i.return;while(i);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function me(i){var r=i,a=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,r.flags&4098&&(a=r.return),i=r.return;while(i)}return r.tag===3?a:null}function Ne(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function P(i){if(me(i)!==i)throw Error(s(188))}function ie(i){var r=i.alternate;if(!r){if(r=me(i),r===null)throw Error(s(188));return r!==i?null:i}for(var a=i,l=r;;){var h=a.return;if(h===null)break;var m=h.alternate;if(m===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===a)return P(h),i;if(m===l)return P(h),r;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=m;else{for(var w=!1,T=h.child;T;){if(T===a){w=!0,a=h,l=m;break}if(T===l){w=!0,l=h,a=m;break}T=T.sibling}if(!w){for(T=m.child;T;){if(T===a){w=!0,a=m,l=h;break}if(T===l){w=!0,l=m,a=h;break}T=T.sibling}if(!w)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?i:r}function de(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=de(i),r!==null)return r;i=i.sibling}return null}var ue=Array.isArray,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xe={pending:!1,data:null,method:null,action:null},Ce=[],St=-1;function $e(i){return{current:i}}function ft(i){0>St||(i.current=Ce[St],Ce[St]=null,St--)}function Je(i,r){St++,Ce[St]=i.current,i.current=r}var dn=$e(null),Hi=$e(null),jn=$e(null),xr=$e(null);function Or(i,r){switch(Je(jn,r),Je(Hi,i),Je(dn,null),i=r.nodeType,i){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?J_(r):0;break;default:if(i=i===8?r.parentNode:r,r=i.tagName,i=i.namespaceURI)i=J_(i),r=ew(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ft(dn),Je(dn,r)}function qi(){ft(dn),ft(Hi),ft(jn)}function ll(i){i.memoizedState!==null&&Je(xr,i);var r=dn.current,a=ew(r,i.type);r!==a&&(Je(Hi,i),Je(dn,a))}function Va(i){Hi.current===i&&(ft(dn),ft(Hi)),xr.current===i&&(ft(xr),lu._currentValue=xe)}var La=Object.prototype.hasOwnProperty,js=n.unstable_scheduleCallback,Ua=n.unstable_cancelCallback,id=n.unstable_shouldYield,ul=n.unstable_requestPaint,En=n.unstable_now,ac=n.unstable_getCurrentPriorityLevel,Ot=n.unstable_ImmediatePriority,zt=n.unstable_UserBlockingPriority,Fi=n.unstable_NormalPriority,oc=n.unstable_LowPriority,cl=n.unstable_IdlePriority,rd=n.log,zs=n.unstable_setDisableYieldValue,Nr=null,rn=null;function hl(i){if(rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(Nr,i,void 0,(i.current.flags&128)===128)}catch{}}function gi(i){if(typeof rd=="function"&&zs(i),rn&&typeof rn.setStrictMode=="function")try{rn.setStrictMode(Nr,i)}catch{}}var mn=Math.clz32?Math.clz32:uc,fl=Math.log,lc=Math.LN2;function uc(i){return i>>>=0,i===0?32:31-(fl(i)/lc|0)|0}var yi=128,kr=4194304;function ai(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function zn(i,r){var a=i.pendingLanes;if(a===0)return 0;var l=0,h=i.suspendedLanes,m=i.pingedLanes,w=i.warmLanes;i=i.finishedLanes!==0;var T=a&134217727;return T!==0?(a=T&~h,a!==0?l=ai(a):(m&=T,m!==0?l=ai(m):i||(w=T&~w,w!==0&&(l=ai(w))))):(T=a&~h,T!==0?l=ai(T):m!==0?l=ai(m):i||(w=a&~w,w!==0&&(l=ai(w)))),l===0?0:r!==0&&r!==l&&!(r&h)&&(h=l&-l,w=r&-r,h>=w||h===32&&(w&4194176)!==0)?r:l}function Mr(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Ba(i,r){switch(i){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dl(){var i=yi;return yi<<=1,!(yi&4194176)&&(yi=128),i}function Pr(){var i=kr;return kr<<=1,!(kr&62914560)&&(kr=4194304),i}function ja(i){for(var r=[],a=0;31>a;a++)r.push(i);return r}function vt(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function cc(i,r,a,l,h,m){var w=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var T=i.entanglements,D=i.expirationTimes,j=i.hiddenUpdates;for(a=w&~a;0<a;){var W=31-mn(a),ne=1<<W;T[W]=0,D[W]=-1;var G=j[W];if(G!==null)for(j[W]=null,W=0;W<G.length;W++){var X=G[W];X!==null&&(X.lane&=-536870913)}a&=~ne}l!==0&&Vr(i,l,0),m!==0&&h===0&&i.tag!==0&&(i.suspendedLanes|=m&~(w&~r))}function Vr(i,r,a){i.pendingLanes|=r,i.suspendedLanes&=~r;var l=31-mn(r);i.entangledLanes|=r,i.entanglements[l]=i.entanglements[l]|1073741824|a&4194218}function Lr(i,r){var a=i.entangledLanes|=r;for(i=i.entanglements;a;){var l=31-mn(a),h=1<<l;h&r|i[l]&r&&(i[l]|=r),a&=~h}}function hc(i){return i&=-i,2<i?8<i?i&134217727?32:268435456:8:2}function fc(){var i=le.p;return i!==0?i:(i=window.event,i===void 0?32:vw(i.type))}function Ur(i,r){var a=le.p;try{return le.p=i,r()}finally{le.p=a}}var vi=Math.random().toString(36).slice(2),Ht="__reactFiber$"+vi,Nt="__reactProps$"+vi,Gi="__reactContainer$"+vi,Hs="__reactEvents$"+vi,za="__reactListeners$"+vi,_i="__reactHandles$"+vi,ml="__reactResources$"+vi,Br="__reactMarker$"+vi;function qs(i){delete i[Ht],delete i[Nt],delete i[Hs],delete i[za],delete i[_i]}function oi(i){var r=i[Ht];if(r)return r;for(var a=i.parentNode;a;){if(r=a[Gi]||a[Ht]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(i=iw(i);i!==null;){if(a=i[Ht])return a;i=iw(i)}return r}i=a,a=i.parentNode}return null}function $i(i){if(i=i[Ht]||i[Gi]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function jr(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function zr(i){var r=i[ml];return r||(r=i[ml]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ot(i){i[Br]=!0}var pl=new Set,Ha={};function Cn(i,r){bn(i,r),bn(i+"Capture",r)}function bn(i,r){for(Ha[i]=r,i=0;i<r.length;i++)pl.add(r[i])}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gl={},yl={};function dc(i){return La.call(yl,i)?!0:La.call(gl,i)?!1:sd.test(i)?yl[i]=!0:(gl[i]=!0,!1)}function Hr(i,r,a){if(dc(r))if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+a)}}function qr(i,r,a){if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+a)}}function Hn(i,r,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(r,a,""+l)}}function pn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function mc(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ad(i){var r=mc(i)?"checked":"value",a=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),l=""+i[r];if(!i.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,m=a.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return h.call(this)},set:function(w){l=""+w,m.call(this,w)}}),Object.defineProperty(i,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(w){l=""+w},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Fs(i){i._valueTracker||(i._valueTracker=ad(i))}function vl(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return i&&(l=mc(i)?i.checked?"true":"false":i.value),i=l,i!==a?(r.setValue(i),!0):!1}function qa(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Ki=/[\n"\\]/g;function dt(i){return i.replace(Ki,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Fr(i,r,a,l,h,m,w,T){i.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.type=w:i.removeAttribute("type"),r!=null?w==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+pn(r)):i.value!==""+pn(r)&&(i.value=""+pn(r)):w!=="submit"&&w!=="reset"||i.removeAttribute("value"),r!=null?Fa(i,w,pn(r)):a!=null?Fa(i,w,pn(a)):l!=null&&i.removeAttribute("value"),h==null&&m!=null&&(i.defaultChecked=!!m),h!=null&&(i.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.name=""+pn(T):i.removeAttribute("name")}function Gs(i,r,a,l,h,m,w,T){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(i.type=m),r!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||r!=null))return;a=a!=null?""+pn(a):"",r=r!=null?""+pn(r):a,T||r===i.value||(i.value=r),i.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,i.checked=T?i.checked:!!l,i.defaultChecked=!!l,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.name=w)}function Fa(i,r,a){r==="number"&&qa(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function Ke(i,r,a,l){if(i=i.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<i.length;a++)h=r.hasOwnProperty("$"+i[a].value),i[a].selected!==h&&(i[a].selected=h),h&&l&&(i[a].defaultSelected=!0)}else{for(a=""+pn(a),r=null,h=0;h<i.length;h++){if(i[h].value===a){i[h].selected=!0,l&&(i[h].defaultSelected=!0);return}r!==null||i[h].disabled||(r=i[h])}r!==null&&(r.selected=!0)}}function $s(i,r,a){if(r!=null&&(r=""+pn(r),r!==i.value&&(i.value=r),a==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=a!=null?""+pn(a):""}function Gr(i,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(ue(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=pn(r),i.defaultValue=a,l=i.textContent,l===a&&l!==""&&l!==null&&(i.value=l)}function qn(i,r){if(r){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=r;return}}i.textContent=r}var od=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _l(i,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":l?i.setProperty(r,a):typeof a!="number"||a===0||od.has(r)?r==="float"?i.cssFloat=a:i[r]=(""+a).trim():i[r]=a+"px"}function pc(i,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&_l(i,h,l)}else for(var m in r)r.hasOwnProperty(m)&&_l(i,m,r[m])}function wl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ld=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ud=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wi(i){return ud.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Fn=null;function Ga(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Qi=null,Yi=null;function Xi(i){var r=$i(i);if(r&&(i=r.stateNode)){var a=i[Nt]||null;e:switch(i=r.stateNode,r.type){case"input":if(Fr(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+dt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==i&&l.form===i.form){var h=l[Nt]||null;if(!h)throw Error(s(90));Fr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===i.form&&vl(l)}break e;case"textarea":$s(i,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Ke(i,!!a.multiple,r,!1)}}}var El=!1;function gc(i,r,a){if(El)return i(r,a);El=!0;try{var l=i(r);return l}finally{if(El=!1,(Qi!==null||Yi!==null)&&(oh(),Qi&&(r=Qi,i=Yi,Yi=Qi=null,Xi(r),i)))for(r=0;r<i.length;r++)Xi(i[r])}}function Ks(i,r){var a=i.stateNode;if(a===null)return null;var l=a[Nt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(i=i.type,l=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!l;break e;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Gn=!1;if(In)try{var Qs={};Object.defineProperty(Qs,"passive",{get:function(){Gn=!0}}),window.addEventListener("test",Qs,Qs),window.removeEventListener("test",Qs,Qs)}catch{Gn=!1}var Ei=null,$r=null,Wi=null;function bl(){if(Wi)return Wi;var i,r=$r,a=r.length,l,h="value"in Ei?Ei.value:Ei.textContent,m=h.length;for(i=0;i<a&&r[i]===h[i];i++);var w=a-i;for(l=1;l<=w&&r[a-l]===h[m-l];l++);return Wi=h.slice(i,1<l?1-l:void 0)}function bi(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Ti(){return!0}function Tl(){return!1}function qt(i){function r(a,l,h,m,w){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=m,this.target=w,this.currentTarget=null;for(var T in i)i.hasOwnProperty(T)&&(a=i[T],this[T]=a?a(m):m[T]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Ti:Tl,this.isPropagationStopped=Tl,this}return O(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ti)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ti)},persist:function(){},isPersistent:Ti}),r}var We={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$a=qt(We),Ys=O({},We,{view:0,detail:0}),yc=qt(Ys),Ka,Qa,Ai,Xs=O({},Ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Js,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ai&&(Ai&&i.type==="mousemove"?(Ka=i.screenX-Ai.screenX,Qa=i.screenY-Ai.screenY):Qa=Ka=0,Ai=i),Ka)},movementY:function(i){return"movementY"in i?i.movementY:Qa}}),$n=qt(Xs),vc=O({},Xs,{dataTransfer:0}),cd=qt(vc),Ws=O({},Ys,{relatedTarget:0}),Ya=qt(Ws),Al=O({},We,{animationName:0,elapsedTime:0,pseudoElement:0}),Xa=qt(Al),_c=O({},We,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Wa=qt(_c),hd=O({},We,{data:0}),Sl=qt(hd),Zs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ec={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rl(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Ec[i])?!!r[i]:!1}function Js(){return Rl}var bc=O({},Ys,{key:function(i){if(i.key){var r=Zs[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=bi(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?wc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Js,charCode:function(i){return i.type==="keypress"?bi(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?bi(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Za=qt(bc),Tc=O({},Xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cl=qt(Tc),Zi=O({},Ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Js}),Ac=qt(Zi),Sc=O({},We,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rc=qt(Sc),Cc=O({},Xs,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Ja=qt(Cc),gn=O({},We,{newState:0,oldState:0}),Ic=qt(gn),Dc=[9,13,27,32],Si=In&&"CompositionEvent"in window,c=null;In&&"documentMode"in document&&(c=document.documentMode);var y=In&&"TextEvent"in window&&!c,_=In&&(!Si||c&&8<c&&11>=c),A=" ",H=!1;function Q(i,r){switch(i){case"keyup":return Dc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function se(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ze=!1;function kt(i,r){switch(i){case"compositionend":return se(r);case"keypress":return r.which!==32?null:(H=!0,A);case"textInput":return i=r.data,i===A&&H?null:i;default:return null}}function He(i,r){if(ze)return i==="compositionend"||!Si&&Q(i,r)?(i=bl(),Wi=$r=Ei=null,ze=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Ft={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mt(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!Ft[i.type]:r==="textarea"}function Ji(i,r,a,l){Qi?Yi?Yi.push(l):Yi=[l]:Qi=l,r=fh(r,"onChange"),0<r.length&&(a=new $a("onChange","change",null,a,l),i.push({event:a,listeners:r}))}var Xt=null,Ri=null;function Il(i){Q_(i,0)}function xc(i){var r=jr(i);if(vl(r))return i}function Ty(i,r){if(i==="change")return r}var Ay=!1;if(In){var fd;if(In){var dd="oninput"in document;if(!dd){var Sy=document.createElement("div");Sy.setAttribute("oninput","return;"),dd=typeof Sy.oninput=="function"}fd=dd}else fd=!1;Ay=fd&&(!document.documentMode||9<document.documentMode)}function Ry(){Xt&&(Xt.detachEvent("onpropertychange",Cy),Ri=Xt=null)}function Cy(i){if(i.propertyName==="value"&&xc(Ri)){var r=[];Ji(r,Ri,i,Ga(i)),gc(Il,r)}}function ES(i,r,a){i==="focusin"?(Ry(),Xt=r,Ri=a,Xt.attachEvent("onpropertychange",Cy)):i==="focusout"&&Ry()}function bS(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return xc(Ri)}function TS(i,r){if(i==="click")return xc(r)}function AS(i,r){if(i==="input"||i==="change")return xc(r)}function SS(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Dn=typeof Object.is=="function"?Object.is:SS;function Dl(i,r){if(Dn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var a=Object.keys(i),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!La.call(r,h)||!Dn(i[h],r[h]))return!1}return!0}function Iy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Dy(i,r){var a=Iy(i);i=0;for(var l;a;){if(a.nodeType===3){if(l=i+a.textContent.length,i<=r&&l>=r)return{node:a,offset:r-i};i=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Iy(a)}}function xy(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?xy(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Oy(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=qa(i.document);r instanceof i.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)i=r.contentWindow;else break;r=qa(i.document)}return r}function md(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}function RS(i,r){var a=Oy(r);r=i.focusedElem;var l=i.selectionRange;if(a!==r&&r&&r.ownerDocument&&xy(r.ownerDocument.documentElement,r)){if(l!==null&&md(r)){if(i=l.start,a=l.end,a===void 0&&(a=i),"selectionStart"in r)r.selectionStart=i,r.selectionEnd=Math.min(a,r.value.length);else if(a=(i=r.ownerDocument||document)&&i.defaultView||window,a.getSelection){a=a.getSelection();var h=r.textContent.length,m=Math.min(l.start,h);l=l.end===void 0?m:Math.min(l.end,h),!a.extend&&m>l&&(h=l,l=m,m=h),h=Dy(r,m);var w=Dy(r,l);h&&w&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==w.node||a.focusOffset!==w.offset)&&(i=i.createRange(),i.setStart(h.node,h.offset),a.removeAllRanges(),m>l?(a.addRange(i),a.extend(w.node,w.offset)):(i.setEnd(w.node,w.offset),a.addRange(i)))}}for(i=[],a=r;a=a.parentNode;)a.nodeType===1&&i.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<i.length;r++)a=i[r],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var CS=In&&"documentMode"in document&&11>=document.documentMode,eo=null,pd=null,xl=null,gd=!1;function Ny(i,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;gd||eo==null||eo!==qa(l)||(l=eo,"selectionStart"in l&&md(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),xl&&Dl(xl,l)||(xl=l,l=fh(pd,"onSelect"),0<l.length&&(r=new $a("onSelect","select",null,r,a),i.push({event:r,listeners:l}),r.target=eo)))}function ea(i,r){var a={};return a[i.toLowerCase()]=r.toLowerCase(),a["Webkit"+i]="webkit"+r,a["Moz"+i]="moz"+r,a}var to={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionrun:ea("Transition","TransitionRun"),transitionstart:ea("Transition","TransitionStart"),transitioncancel:ea("Transition","TransitionCancel"),transitionend:ea("Transition","TransitionEnd")},yd={},ky={};In&&(ky=document.createElement("div").style,"AnimationEvent"in window||(delete to.animationend.animation,delete to.animationiteration.animation,delete to.animationstart.animation),"TransitionEvent"in window||delete to.transitionend.transition);function ta(i){if(yd[i])return yd[i];if(!to[i])return i;var r=to[i],a;for(a in r)if(r.hasOwnProperty(a)&&a in ky)return yd[i]=r[a];return i}var My=ta("animationend"),Py=ta("animationiteration"),Vy=ta("animationstart"),IS=ta("transitionrun"),DS=ta("transitionstart"),xS=ta("transitioncancel"),Ly=ta("transitionend"),Uy=new Map,By="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function li(i,r){Uy.set(i,r),Cn(r,[i])}var Kn=[],no=0,vd=0;function Oc(){for(var i=no,r=vd=no=0;r<i;){var a=Kn[r];Kn[r++]=null;var l=Kn[r];Kn[r++]=null;var h=Kn[r];Kn[r++]=null;var m=Kn[r];if(Kn[r++]=null,l!==null&&h!==null){var w=l.pending;w===null?h.next=h:(h.next=w.next,w.next=h),l.pending=h}m!==0&&jy(a,h,m)}}function Nc(i,r,a,l){Kn[no++]=i,Kn[no++]=r,Kn[no++]=a,Kn[no++]=l,vd|=l,i.lanes|=l,i=i.alternate,i!==null&&(i.lanes|=l)}function _d(i,r,a,l){return Nc(i,r,a,l),kc(i)}function Kr(i,r){return Nc(i,null,null,r),kc(i)}function jy(i,r,a){i.lanes|=a;var l=i.alternate;l!==null&&(l.lanes|=a);for(var h=!1,m=i.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(i=m.stateNode,i===null||i._visibility&1||(h=!0)),i=m,m=m.return;h&&r!==null&&i.tag===3&&(m=i.stateNode,h=31-mn(a),m=m.hiddenUpdates,i=m[h],i===null?m[h]=[r]:i.push(r),r.lane=a|536870912)}function kc(i){if(50<tu)throw tu=0,Sm=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var io={},zy=new WeakMap;function Qn(i,r){if(typeof i=="object"&&i!==null){var a=zy.get(i);return a!==void 0?a:(r={value:i,source:r,stack:ge(r)},zy.set(i,r),r)}return{value:i,source:r,stack:ge(r)}}var ro=[],so=0,Mc=null,Pc=0,Yn=[],Xn=0,na=null,er=1,tr="";function ia(i,r){ro[so++]=Pc,ro[so++]=Mc,Mc=i,Pc=r}function Hy(i,r,a){Yn[Xn++]=er,Yn[Xn++]=tr,Yn[Xn++]=na,na=i;var l=er;i=tr;var h=32-mn(l)-1;l&=~(1<<h),a+=1;var m=32-mn(r)+h;if(30<m){var w=h-h%5;m=(l&(1<<w)-1).toString(32),l>>=w,h-=w,er=1<<32-mn(r)+h|a<<h|l,tr=m+i}else er=1<<m|a<<h|l,tr=i}function wd(i){i.return!==null&&(ia(i,1),Hy(i,1,0))}function Ed(i){for(;i===Mc;)Mc=ro[--so],ro[so]=null,Pc=ro[--so],ro[so]=null;for(;i===na;)na=Yn[--Xn],Yn[Xn]=null,tr=Yn[--Xn],Yn[Xn]=null,er=Yn[--Xn],Yn[Xn]=null}var yn=null,Wt=null,Qe=!1,ui=null,Ci=!1,bd=Error(s(519));function ra(i){var r=Error(s(418,""));throw kl(Qn(r,i)),bd}function qy(i){var r=i.stateNode,a=i.type,l=i.memoizedProps;switch(r[Ht]=i,r[Nt]=l,a){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(a=0;a<iu.length;a++)Be(iu[a],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":Be("invalid",r),Gs(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Fs(r);break;case"select":Be("invalid",r);break;case"textarea":Be("invalid",r),Gr(r,l.value,l.defaultValue,l.children),Fs(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||Z_(r.textContent,a)?(l.popover!=null&&(Be("beforetoggle",r),Be("toggle",r)),l.onScroll!=null&&Be("scroll",r),l.onScrollEnd!=null&&Be("scrollend",r),l.onClick!=null&&(r.onclick=dh),r=!0):r=!1,r||ra(i)}function Fy(i){for(yn=i.return;yn;)switch(yn.tag){case 3:case 27:Ci=!0;return;case 5:case 13:Ci=!1;return;default:yn=yn.return}}function Ol(i){if(i!==yn)return!1;if(!Qe)return Fy(i),Qe=!0,!1;var r=!1,a;if((a=i.tag!==3&&i.tag!==27)&&((a=i.tag===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||Hm(i.type,i.memoizedProps)),a=!a),a&&(r=!0),r&&Wt&&ra(i),Fy(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));e:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(a=i.data,a==="/$"){if(r===0){Wt=hi(i.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;i=i.nextSibling}Wt=null}}else Wt=yn?hi(i.stateNode.nextSibling):null;return!0}function Nl(){Wt=yn=null,Qe=!1}function kl(i){ui===null?ui=[i]:ui.push(i)}var Ml=Error(s(460)),Gy=Error(s(474)),Td={then:function(){}};function $y(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Vc(){}function Ky(i,r,a){switch(a=i[a],a===void 0?i.push(r):a!==r&&(r.then(Vc,Vc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,i===Ml?Error(s(483)):i;default:if(typeof r.status=="string")r.then(Vc,Vc);else{if(i=it,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,i===Ml?Error(s(483)):i}throw Pl=r,Ml}}var Pl=null;function Qy(){if(Pl===null)throw Error(s(459));var i=Pl;return Pl=null,i}var ao=null,Vl=0;function Lc(i){var r=Vl;return Vl+=1,ao===null&&(ao=[]),Ky(ao,i,r)}function Ll(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Uc(i,r){throw r.$$typeof===u?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function Yy(i){var r=i._init;return r(i._payload)}function Xy(i){function r(z,B){if(i){var q=z.deletions;q===null?(z.deletions=[B],z.flags|=16):q.push(B)}}function a(z,B){if(!i)return null;for(;B!==null;)r(z,B),B=B.sibling;return null}function l(z){for(var B=new Map;z!==null;)z.key!==null?B.set(z.key,z):B.set(z.index,z),z=z.sibling;return B}function h(z,B){return z=ss(z,B),z.index=0,z.sibling=null,z}function m(z,B,q){return z.index=q,i?(q=z.alternate,q!==null?(q=q.index,q<B?(z.flags|=33554434,B):q):(z.flags|=33554434,B)):(z.flags|=1048576,B)}function w(z){return i&&z.alternate===null&&(z.flags|=33554434),z}function T(z,B,q,J){return B===null||B.tag!==6?(B=ym(q,z.mode,J),B.return=z,B):(B=h(B,q),B.return=z,B)}function D(z,B,q,J){var fe=q.type;return fe===d?W(z,B,q.props.children,J,q.key):B!==null&&(B.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===Z&&Yy(fe)===B.type)?(B=h(B,q.props),Ll(B,q),B.return=z,B):(B=nh(q.type,q.key,q.props,null,z.mode,J),Ll(B,q),B.return=z,B)}function j(z,B,q,J){return B===null||B.tag!==4||B.stateNode.containerInfo!==q.containerInfo||B.stateNode.implementation!==q.implementation?(B=vm(q,z.mode,J),B.return=z,B):(B=h(B,q.children||[]),B.return=z,B)}function W(z,B,q,J,fe){return B===null||B.tag!==7?(B=ma(q,z.mode,J,fe),B.return=z,B):(B=h(B,q),B.return=z,B)}function ne(z,B,q){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=ym(""+B,z.mode,q),B.return=z,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case f:return q=nh(B.type,B.key,B.props,null,z.mode,q),Ll(q,B),q.return=z,q;case p:return B=vm(B,z.mode,q),B.return=z,B;case Z:var J=B._init;return B=J(B._payload),ne(z,B,q)}if(ue(B)||we(B))return B=ma(B,z.mode,q,null),B.return=z,B;if(typeof B.then=="function")return ne(z,Lc(B),q);if(B.$$typeof===R)return ne(z,Jc(z,B),q);Uc(z,B)}return null}function G(z,B,q,J){var fe=B!==null?B.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return fe!==null?null:T(z,B,""+q,J);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case f:return q.key===fe?D(z,B,q,J):null;case p:return q.key===fe?j(z,B,q,J):null;case Z:return fe=q._init,q=fe(q._payload),G(z,B,q,J)}if(ue(q)||we(q))return fe!==null?null:W(z,B,q,J,null);if(typeof q.then=="function")return G(z,B,Lc(q),J);if(q.$$typeof===R)return G(z,B,Jc(z,q),J);Uc(z,q)}return null}function X(z,B,q,J,fe){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return z=z.get(q)||null,T(B,z,""+J,fe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case f:return z=z.get(J.key===null?q:J.key)||null,D(B,z,J,fe);case p:return z=z.get(J.key===null?q:J.key)||null,j(B,z,J,fe);case Z:var ke=J._init;return J=ke(J._payload),X(z,B,q,J,fe)}if(ue(J)||we(J))return z=z.get(q)||null,W(B,z,J,fe,null);if(typeof J.then=="function")return X(z,B,q,Lc(J),fe);if(J.$$typeof===R)return X(z,B,q,Jc(B,J),fe);Uc(B,J)}return null}function pe(z,B,q,J){for(var fe=null,ke=null,ye=B,Ee=B=0,Kt=null;ye!==null&&Ee<q.length;Ee++){ye.index>Ee?(Kt=ye,ye=null):Kt=ye.sibling;var Ye=G(z,ye,q[Ee],J);if(Ye===null){ye===null&&(ye=Kt);break}i&&ye&&Ye.alternate===null&&r(z,ye),B=m(Ye,B,Ee),ke===null?fe=Ye:ke.sibling=Ye,ke=Ye,ye=Kt}if(Ee===q.length)return a(z,ye),Qe&&ia(z,Ee),fe;if(ye===null){for(;Ee<q.length;Ee++)ye=ne(z,q[Ee],J),ye!==null&&(B=m(ye,B,Ee),ke===null?fe=ye:ke.sibling=ye,ke=ye);return Qe&&ia(z,Ee),fe}for(ye=l(ye);Ee<q.length;Ee++)Kt=X(ye,z,Ee,q[Ee],J),Kt!==null&&(i&&Kt.alternate!==null&&ye.delete(Kt.key===null?Ee:Kt.key),B=m(Kt,B,Ee),ke===null?fe=Kt:ke.sibling=Kt,ke=Kt);return i&&ye.forEach(function(fs){return r(z,fs)}),Qe&&ia(z,Ee),fe}function Se(z,B,q,J){if(q==null)throw Error(s(151));for(var fe=null,ke=null,ye=B,Ee=B=0,Kt=null,Ye=q.next();ye!==null&&!Ye.done;Ee++,Ye=q.next()){ye.index>Ee?(Kt=ye,ye=null):Kt=ye.sibling;var fs=G(z,ye,Ye.value,J);if(fs===null){ye===null&&(ye=Kt);break}i&&ye&&fs.alternate===null&&r(z,ye),B=m(fs,B,Ee),ke===null?fe=fs:ke.sibling=fs,ke=fs,ye=Kt}if(Ye.done)return a(z,ye),Qe&&ia(z,Ee),fe;if(ye===null){for(;!Ye.done;Ee++,Ye=q.next())Ye=ne(z,Ye.value,J),Ye!==null&&(B=m(Ye,B,Ee),ke===null?fe=Ye:ke.sibling=Ye,ke=Ye);return Qe&&ia(z,Ee),fe}for(ye=l(ye);!Ye.done;Ee++,Ye=q.next())Ye=X(ye,z,Ee,Ye.value,J),Ye!==null&&(i&&Ye.alternate!==null&&ye.delete(Ye.key===null?Ee:Ye.key),B=m(Ye,B,Ee),ke===null?fe=Ye:ke.sibling=Ye,ke=Ye);return i&&ye.forEach(function(F2){return r(z,F2)}),Qe&&ia(z,Ee),fe}function gt(z,B,q,J){if(typeof q=="object"&&q!==null&&q.type===d&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case f:e:{for(var fe=q.key;B!==null;){if(B.key===fe){if(fe=q.type,fe===d){if(B.tag===7){a(z,B.sibling),J=h(B,q.props.children),J.return=z,z=J;break e}}else if(B.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===Z&&Yy(fe)===B.type){a(z,B.sibling),J=h(B,q.props),Ll(J,q),J.return=z,z=J;break e}a(z,B);break}else r(z,B);B=B.sibling}q.type===d?(J=ma(q.props.children,z.mode,J,q.key),J.return=z,z=J):(J=nh(q.type,q.key,q.props,null,z.mode,J),Ll(J,q),J.return=z,z=J)}return w(z);case p:e:{for(fe=q.key;B!==null;){if(B.key===fe)if(B.tag===4&&B.stateNode.containerInfo===q.containerInfo&&B.stateNode.implementation===q.implementation){a(z,B.sibling),J=h(B,q.children||[]),J.return=z,z=J;break e}else{a(z,B);break}else r(z,B);B=B.sibling}J=vm(q,z.mode,J),J.return=z,z=J}return w(z);case Z:return fe=q._init,q=fe(q._payload),gt(z,B,q,J)}if(ue(q))return pe(z,B,q,J);if(we(q)){if(fe=we(q),typeof fe!="function")throw Error(s(150));return q=fe.call(q),Se(z,B,q,J)}if(typeof q.then=="function")return gt(z,B,Lc(q),J);if(q.$$typeof===R)return gt(z,B,Jc(z,q),J);Uc(z,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,B!==null&&B.tag===6?(a(z,B.sibling),J=h(B,q),J.return=z,z=J):(a(z,B),J=ym(q,z.mode,J),J.return=z,z=J),w(z)):a(z,B)}return function(z,B,q,J){try{Vl=0;var fe=gt(z,B,q,J);return ao=null,fe}catch(ye){if(ye===Ml)throw ye;var ke=ei(29,ye,null,z.mode);return ke.lanes=J,ke.return=z,ke}finally{}}}var sa=Xy(!0),Wy=Xy(!1),oo=$e(null),Bc=$e(0);function Zy(i,r){i=fr,Je(Bc,i),Je(oo,r),fr=i|r.baseLanes}function Ad(){Je(Bc,fr),Je(oo,oo.current)}function Sd(){fr=Bc.current,ft(oo),ft(Bc)}var Wn=$e(null),Ii=null;function Qr(i){var r=i.alternate;Je(Pt,Pt.current&1),Je(Wn,i),Ii===null&&(r===null||oo.current!==null||r.memoizedState!==null)&&(Ii=i)}function Jy(i){if(i.tag===22){if(Je(Pt,Pt.current),Je(Wn,i),Ii===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(Ii=i)}}else Yr()}function Yr(){Je(Pt,Pt.current),Je(Wn,Wn.current)}function nr(i){ft(Wn),Ii===i&&(Ii=null),ft(Pt)}var Pt=$e(0);function jc(i){for(var r=i;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var OS=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(a,l){i.push(l)}};this.abort=function(){r.aborted=!0,i.forEach(function(a){return a()})}},NS=n.unstable_scheduleCallback,kS=n.unstable_NormalPriority,Vt={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rd(){return{controller:new OS,data:new Map,refCount:0}}function Ul(i){i.refCount--,i.refCount===0&&NS(kS,function(){i.controller.abort()})}var Bl=null,Cd=0,lo=0,uo=null;function MS(i,r){if(Bl===null){var a=Bl=[];Cd=0,lo=km(),uo={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Cd++,r.then(ev,ev),r}function ev(){if(--Cd===0&&Bl!==null){uo!==null&&(uo.status="fulfilled");var i=Bl;Bl=null,lo=0,uo=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function PS(i,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return i.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var tv=S.S;S.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&MS(i,r),tv!==null&&tv(i,r)};var aa=$e(null);function Id(){var i=aa.current;return i!==null?i:it.pooledCache}function zc(i,r){r===null?Je(aa,aa.current):Je(aa,r.pool)}function nv(){var i=Id();return i===null?null:{parent:Vt._currentValue,pool:i}}var Xr=0,Oe=null,et=null,Rt=null,Hc=!1,co=!1,oa=!1,qc=0,jl=0,ho=null,VS=0;function _t(){throw Error(s(321))}function Dd(i,r){if(r===null)return!1;for(var a=0;a<r.length&&a<i.length;a++)if(!Dn(i[a],r[a]))return!1;return!0}function xd(i,r,a,l,h,m){return Xr=m,Oe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,S.H=i===null||i.memoizedState===null?la:Wr,oa=!1,m=a(l,h),oa=!1,co&&(m=rv(r,a,l,h)),iv(i),m}function iv(i){S.H=Di;var r=et!==null&&et.next!==null;if(Xr=0,Rt=et=Oe=null,Hc=!1,jl=0,ho=null,r)throw Error(s(300));i===null||Gt||(i=i.dependencies,i!==null&&Zc(i)&&(Gt=!0))}function rv(i,r,a,l){Oe=i;var h=0;do{if(co&&(ho=null),jl=0,co=!1,25<=h)throw Error(s(301));if(h+=1,Rt=et=null,i.updateQueue!=null){var m=i.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}S.H=ua,m=r(a,l)}while(co);return m}function LS(){var i=S.H,r=i.useState()[0];return r=typeof r.then=="function"?zl(r):r,i=i.useState()[0],(et!==null?et.memoizedState:null)!==i&&(Oe.flags|=1024),r}function Od(){var i=qc!==0;return qc=0,i}function Nd(i,r,a){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~a}function kd(i){if(Hc){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Hc=!1}Xr=0,Rt=et=Oe=null,co=!1,jl=qc=0,ho=null}function Tn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Oe.memoizedState=Rt=i:Rt=Rt.next=i,Rt}function Ct(){if(et===null){var i=Oe.alternate;i=i!==null?i.memoizedState:null}else i=et.next;var r=Rt===null?Oe.memoizedState:Rt.next;if(r!==null)Rt=r,et=i;else{if(i===null)throw Oe.alternate===null?Error(s(467)):Error(s(310));et=i,i={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Rt===null?Oe.memoizedState=Rt=i:Rt=Rt.next=i}return Rt}var Fc;Fc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function zl(i){var r=jl;return jl+=1,ho===null&&(ho=[]),i=Ky(ho,i,r),r=Oe,(Rt===null?r.memoizedState:Rt.next)===null&&(r=r.alternate,S.H=r===null||r.memoizedState===null?la:Wr),i}function Gc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return zl(i);if(i.$$typeof===R)return sn(i)}throw Error(s(438,String(i)))}function Md(i){var r=null,a=Oe.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Oe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Fc(),Oe.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(i),l=0;l<i;l++)a[l]=oe;return r.index++,a}function ir(i,r){return typeof r=="function"?r(i):r}function $c(i){var r=Ct();return Pd(r,et,i)}function Pd(i,r,a){var l=i.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=i.baseQueue,m=l.pending;if(m!==null){if(h!==null){var w=h.next;h.next=m.next,m.next=w}r.baseQueue=h=m,l.pending=null}if(m=i.baseState,h===null)i.memoizedState=m;else{r=h.next;var T=w=null,D=null,j=r,W=!1;do{var ne=j.lane&-536870913;if(ne!==j.lane?(qe&ne)===ne:(Xr&ne)===ne){var G=j.revertLane;if(G===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),ne===lo&&(W=!0);else if((Xr&G)===G){j=j.next,G===lo&&(W=!0);continue}else ne={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},D===null?(T=D=ne,w=m):D=D.next=ne,Oe.lanes|=G,as|=G;ne=j.action,oa&&a(m,ne),m=j.hasEagerState?j.eagerState:a(m,ne)}else G={lane:ne,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},D===null?(T=D=G,w=m):D=D.next=G,Oe.lanes|=ne,as|=ne;j=j.next}while(j!==null&&j!==r);if(D===null?w=m:D.next=T,!Dn(m,i.memoizedState)&&(Gt=!0,W&&(a=uo,a!==null)))throw a;i.memoizedState=m,i.baseState=w,i.baseQueue=D,l.lastRenderedState=m}return h===null&&(l.lanes=0),[i.memoizedState,l.dispatch]}function Vd(i){var r=Ct(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=i;var l=a.dispatch,h=a.pending,m=r.memoizedState;if(h!==null){a.pending=null;var w=h=h.next;do m=i(m,w.action),w=w.next;while(w!==h);Dn(m,r.memoizedState)||(Gt=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,l]}function sv(i,r,a){var l=Oe,h=Ct(),m=Qe;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=r();var w=!Dn((et||h).memoizedState,a);if(w&&(h.memoizedState=a,Gt=!0),h=h.queue,Bd(lv.bind(null,l,h,i),[i]),h.getSnapshot!==r||w||Rt!==null&&Rt.memoizedState.tag&1){if(l.flags|=2048,fo(9,ov.bind(null,l,h,a,r),{destroy:void 0},null),it===null)throw Error(s(349));m||Xr&60||av(l,r,a)}return a}function av(i,r,a){i.flags|=16384,i={getSnapshot:r,value:a},r=Oe.updateQueue,r===null?(r=Fc(),Oe.updateQueue=r,r.stores=[i]):(a=r.stores,a===null?r.stores=[i]:a.push(i))}function ov(i,r,a,l){r.value=a,r.getSnapshot=l,uv(r)&&cv(i)}function lv(i,r,a){return a(function(){uv(r)&&cv(i)})}function uv(i){var r=i.getSnapshot;i=i.value;try{var a=r();return!Dn(i,a)}catch{return!0}}function cv(i){var r=Kr(i,2);r!==null&&vn(r,i,2)}function Ld(i){var r=Tn();if(typeof i=="function"){var a=i;if(i=a(),oa){gi(!0);try{a()}finally{gi(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:i},r}function hv(i,r,a,l){return i.baseState=a,Pd(i,et,typeof l=="function"?l:ir)}function US(i,r,a,l,h){if(Yc(i))throw Error(s(485));if(i=r.action,i!==null){var m={payload:h,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){m.listeners.push(w)}};S.T!==null?a(!0):m.isTransition=!1,l(m),a=r.pending,a===null?(m.next=r.pending=m,fv(r,m)):(m.next=a.next,r.pending=a.next=m)}}function fv(i,r){var a=r.action,l=r.payload,h=i.state;if(r.isTransition){var m=S.T,w={};S.T=w;try{var T=a(h,l),D=S.S;D!==null&&D(w,T),dv(i,r,T)}catch(j){Ud(i,r,j)}finally{S.T=m}}else try{m=a(h,l),dv(i,r,m)}catch(j){Ud(i,r,j)}}function dv(i,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){mv(i,r,l)},function(l){return Ud(i,r,l)}):mv(i,r,a)}function mv(i,r,a){r.status="fulfilled",r.value=a,pv(r),i.state=a,r=i.pending,r!==null&&(a=r.next,a===r?i.pending=null:(a=a.next,r.next=a,fv(i,a)))}function Ud(i,r,a){var l=i.pending;if(i.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,pv(r),r=r.next;while(r!==l)}i.action=null}function pv(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function gv(i,r){return r}function yv(i,r){if(Qe){var a=it.formState;if(a!==null){e:{var l=Oe;if(Qe){if(Wt){t:{for(var h=Wt,m=Ci;h.nodeType!==8;){if(!m){h=null;break t}if(h=hi(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){Wt=hi(h.nextSibling),l=h.data==="F!";break e}}ra(l)}l=!1}l&&(r=a[0])}}return a=Tn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gv,lastRenderedState:r},a.queue=l,a=Pv.bind(null,Oe,l),l.dispatch=a,l=Ld(!1),m=Fd.bind(null,Oe,!1,l.queue),l=Tn(),h={state:r,dispatch:null,action:i,pending:null},l.queue=h,a=US.bind(null,Oe,h,m,a),h.dispatch=a,l.memoizedState=i,[r,a,!1]}function vv(i){var r=Ct();return _v(r,et,i)}function _v(i,r,a){r=Pd(i,r,gv)[0],i=$c(ir)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?zl(r):r;var l=Ct(),h=l.queue,m=h.dispatch;return a!==l.memoizedState&&(Oe.flags|=2048,fo(9,BS.bind(null,h,a),{destroy:void 0},null)),[r,m,i]}function BS(i,r){i.action=r}function wv(i){var r=Ct(),a=et;if(a!==null)return _v(r,a,i);Ct(),r=r.memoizedState,a=Ct();var l=a.queue.dispatch;return a.memoizedState=i,[r,l,!1]}function fo(i,r,a,l){return i={tag:i,create:r,inst:a,deps:l,next:null},r=Oe.updateQueue,r===null&&(r=Fc(),Oe.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=i.next=i:(l=a.next,a.next=i,i.next=l,r.lastEffect=i),i}function Ev(){return Ct().memoizedState}function Kc(i,r,a,l){var h=Tn();Oe.flags|=i,h.memoizedState=fo(1|r,a,{destroy:void 0},l===void 0?null:l)}function Qc(i,r,a,l){var h=Ct();l=l===void 0?null:l;var m=h.memoizedState.inst;et!==null&&l!==null&&Dd(l,et.memoizedState.deps)?h.memoizedState=fo(r,a,m,l):(Oe.flags|=i,h.memoizedState=fo(1|r,a,m,l))}function bv(i,r){Kc(8390656,8,i,r)}function Bd(i,r){Qc(2048,8,i,r)}function Tv(i,r){return Qc(4,2,i,r)}function Av(i,r){return Qc(4,4,i,r)}function Sv(i,r){if(typeof r=="function"){i=i();var a=r(i);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function Rv(i,r,a){a=a!=null?a.concat([i]):null,Qc(4,4,Sv.bind(null,r,i),a)}function jd(){}function Cv(i,r){var a=Ct();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Dd(r,l[1])?l[0]:(a.memoizedState=[i,r],i)}function Iv(i,r){var a=Ct();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Dd(r,l[1]))return l[0];if(l=i(),oa){gi(!0);try{i()}finally{gi(!1)}}return a.memoizedState=[l,r],l}function zd(i,r,a){return a===void 0||Xr&1073741824?i.memoizedState=r:(i.memoizedState=a,i=x_(),Oe.lanes|=i,as|=i,a)}function Dv(i,r,a,l){return Dn(a,r)?a:oo.current!==null?(i=zd(i,a,l),Dn(i,r)||(Gt=!0),i):Xr&42?(i=x_(),Oe.lanes|=i,as|=i,r):(Gt=!0,i.memoizedState=a)}function xv(i,r,a,l,h){var m=le.p;le.p=m!==0&&8>m?m:8;var w=S.T,T={};S.T=T,Fd(i,!1,r,a);try{var D=h(),j=S.S;if(j!==null&&j(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var W=PS(D,l);Hl(i,r,W,kn(i))}else Hl(i,r,l,kn(i))}catch(ne){Hl(i,r,{then:function(){},status:"rejected",reason:ne},kn())}finally{le.p=m,S.T=w}}function jS(){}function Hd(i,r,a,l){if(i.tag!==5)throw Error(s(476));var h=Ov(i).queue;xv(i,h,r,xe,a===null?jS:function(){return Nv(i),a(l)})}function Ov(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:xe,baseState:xe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:xe},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:a},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function Nv(i){var r=Ov(i).next.queue;Hl(i,r,{},kn())}function qd(){return sn(lu)}function kv(){return Ct().memoizedState}function Mv(){return Ct().memoizedState}function zS(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var a=kn();i=es(a);var l=ts(r,i,a);l!==null&&(vn(l,r,a),Gl(l,r,a)),r={cache:Rd()},i.payload=r;return}r=r.return}}function HS(i,r,a){var l=kn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Yc(i)?Vv(r,a):(a=_d(i,r,a,l),a!==null&&(vn(a,i,l),Lv(a,r,l)))}function Pv(i,r,a){var l=kn();Hl(i,r,a,l)}function Hl(i,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Yc(i))Vv(r,h);else{var m=i.alternate;if(i.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var w=r.lastRenderedState,T=m(w,a);if(h.hasEagerState=!0,h.eagerState=T,Dn(T,w))return Nc(i,r,h,0),it===null&&Oc(),!1}catch{}finally{}if(a=_d(i,r,h,l),a!==null)return vn(a,i,l),Lv(a,r,l),!0}return!1}function Fd(i,r,a,l){if(l={lane:2,revertLane:km(),action:l,hasEagerState:!1,eagerState:null,next:null},Yc(i)){if(r)throw Error(s(479))}else r=_d(i,a,l,2),r!==null&&vn(r,i,2)}function Yc(i){var r=i.alternate;return i===Oe||r!==null&&r===Oe}function Vv(i,r){co=Hc=!0;var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}function Lv(i,r,a){if(a&4194176){var l=r.lanes;l&=i.pendingLanes,a|=l,r.lanes=a,Lr(i,a)}}var Di={readContext:sn,use:Gc,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t};Di.useCacheRefresh=_t,Di.useMemoCache=_t,Di.useHostTransitionStatus=_t,Di.useFormState=_t,Di.useActionState=_t,Di.useOptimistic=_t;var la={readContext:sn,use:Gc,useCallback:function(i,r){return Tn().memoizedState=[i,r===void 0?null:r],i},useContext:sn,useEffect:bv,useImperativeHandle:function(i,r,a){a=a!=null?a.concat([i]):null,Kc(4194308,4,Sv.bind(null,r,i),a)},useLayoutEffect:function(i,r){return Kc(4194308,4,i,r)},useInsertionEffect:function(i,r){Kc(4,2,i,r)},useMemo:function(i,r){var a=Tn();r=r===void 0?null:r;var l=i();if(oa){gi(!0);try{i()}finally{gi(!1)}}return a.memoizedState=[l,r],l},useReducer:function(i,r,a){var l=Tn();if(a!==void 0){var h=a(r);if(oa){gi(!0);try{a(r)}finally{gi(!1)}}}else h=r;return l.memoizedState=l.baseState=h,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:h},l.queue=i,i=i.dispatch=HS.bind(null,Oe,i),[l.memoizedState,i]},useRef:function(i){var r=Tn();return i={current:i},r.memoizedState=i},useState:function(i){i=Ld(i);var r=i.queue,a=Pv.bind(null,Oe,r);return r.dispatch=a,[i.memoizedState,a]},useDebugValue:jd,useDeferredValue:function(i,r){var a=Tn();return zd(a,i,r)},useTransition:function(){var i=Ld(!1);return i=xv.bind(null,Oe,i.queue,!0,!1),Tn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,a){var l=Oe,h=Tn();if(Qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),it===null)throw Error(s(349));qe&60||av(l,r,a)}h.memoizedState=a;var m={value:a,getSnapshot:r};return h.queue=m,bv(lv.bind(null,l,m,i),[i]),l.flags|=2048,fo(9,ov.bind(null,l,m,a,r),{destroy:void 0},null),a},useId:function(){var i=Tn(),r=it.identifierPrefix;if(Qe){var a=tr,l=er;a=(l&~(1<<32-mn(l)-1)).toString(32)+a,r=":"+r+"R"+a,a=qc++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=VS++,r=":"+r+"r"+a.toString(32)+":";return i.memoizedState=r},useCacheRefresh:function(){return Tn().memoizedState=zS.bind(null,Oe)}};la.useMemoCache=Md,la.useHostTransitionStatus=qd,la.useFormState=yv,la.useActionState=yv,la.useOptimistic=function(i){var r=Tn();r.memoizedState=r.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Fd.bind(null,Oe,!0,a),a.dispatch=r,[i,r]};var Wr={readContext:sn,use:Gc,useCallback:Cv,useContext:sn,useEffect:Bd,useImperativeHandle:Rv,useInsertionEffect:Tv,useLayoutEffect:Av,useMemo:Iv,useReducer:$c,useRef:Ev,useState:function(){return $c(ir)},useDebugValue:jd,useDeferredValue:function(i,r){var a=Ct();return Dv(a,et.memoizedState,i,r)},useTransition:function(){var i=$c(ir)[0],r=Ct().memoizedState;return[typeof i=="boolean"?i:zl(i),r]},useSyncExternalStore:sv,useId:kv};Wr.useCacheRefresh=Mv,Wr.useMemoCache=Md,Wr.useHostTransitionStatus=qd,Wr.useFormState=vv,Wr.useActionState=vv,Wr.useOptimistic=function(i,r){var a=Ct();return hv(a,et,i,r)};var ua={readContext:sn,use:Gc,useCallback:Cv,useContext:sn,useEffect:Bd,useImperativeHandle:Rv,useInsertionEffect:Tv,useLayoutEffect:Av,useMemo:Iv,useReducer:Vd,useRef:Ev,useState:function(){return Vd(ir)},useDebugValue:jd,useDeferredValue:function(i,r){var a=Ct();return et===null?zd(a,i,r):Dv(a,et.memoizedState,i,r)},useTransition:function(){var i=Vd(ir)[0],r=Ct().memoizedState;return[typeof i=="boolean"?i:zl(i),r]},useSyncExternalStore:sv,useId:kv};ua.useCacheRefresh=Mv,ua.useMemoCache=Md,ua.useHostTransitionStatus=qd,ua.useFormState=wv,ua.useActionState=wv,ua.useOptimistic=function(i,r){var a=Ct();return et!==null?hv(a,et,i,r):(a.baseState=i,[i,a.queue.dispatch])};function Gd(i,r,a,l){r=i.memoizedState,a=a(l,r),a=a==null?r:O({},r,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var $d={isMounted:function(i){return(i=i._reactInternals)?me(i)===i:!1},enqueueSetState:function(i,r,a){i=i._reactInternals;var l=kn(),h=es(l);h.payload=r,a!=null&&(h.callback=a),r=ts(i,h,l),r!==null&&(vn(r,i,l),Gl(r,i,l))},enqueueReplaceState:function(i,r,a){i=i._reactInternals;var l=kn(),h=es(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=ts(i,h,l),r!==null&&(vn(r,i,l),Gl(r,i,l))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var a=kn(),l=es(a);l.tag=2,r!=null&&(l.callback=r),r=ts(i,l,a),r!==null&&(vn(r,i,a),Gl(r,i,a))}};function Uv(i,r,a,l,h,m,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(l,m,w):r.prototype&&r.prototype.isPureReactComponent?!Dl(a,l)||!Dl(h,m):!0}function Bv(i,r,a,l){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==i&&$d.enqueueReplaceState(r,r.state,null)}function ca(i,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(i=i.defaultProps){a===r&&(a=O({},a));for(var h in i)a[h]===void 0&&(a[h]=i[h])}return a}var Xc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function jv(i){Xc(i)}function zv(i){console.error(i)}function Hv(i){Xc(i)}function Wc(i,r){try{var a=i.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function qv(i,r,a){try{var l=i.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Kd(i,r,a){return a=es(a),a.tag=3,a.payload={element:null},a.callback=function(){Wc(i,r)},a}function Fv(i){return i=es(i),i.tag=3,i}function Gv(i,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var m=l.value;i.payload=function(){return h(m)},i.callback=function(){qv(r,a,l)}}var w=a.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(i.callback=function(){qv(r,a,l),typeof h!="function"&&(os===null?os=new Set([this]):os.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function qS(i,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Fl(r,a,h,!0),a=Wn.current,a!==null){switch(a.tag){case 13:return Ii===null?Im():a.alternate===null&&pt===0&&(pt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Td?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),xm(i,l,h)),!1;case 22:return a.flags|=65536,l===Td?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),xm(i,l,h)),!1}throw Error(s(435,a.tag))}return xm(i,l,h),Im(),!1}if(Qe)return r=Wn.current,r!==null?(!(r.flags&65536)&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==bd&&(i=Error(s(422),{cause:l}),kl(Qn(i,a)))):(l!==bd&&(r=Error(s(423),{cause:l}),kl(Qn(r,a))),i=i.current.alternate,i.flags|=65536,h&=-h,i.lanes|=h,l=Qn(l,a),h=Kd(i.stateNode,l,h),lm(i,h),pt!==4&&(pt=2)),!1;var m=Error(s(520),{cause:l});if(m=Qn(m,a),Jl===null?Jl=[m]:Jl.push(m),pt!==4&&(pt=2),r===null)return!0;l=Qn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,i=h&-h,a.lanes|=i,i=Kd(a.stateNode,l,i),lm(a,i),!1;case 1:if(r=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(os===null||!os.has(m))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Fv(h),Gv(h,i,a,l),lm(a,h),!1}a=a.return}while(a!==null);return!1}var $v=Error(s(461)),Gt=!1;function Zt(i,r,a,l){r.child=i===null?Wy(r,null,a,l):sa(r,i.child,a,l)}function Kv(i,r,a,l,h){a=a.render;var m=r.ref;if("ref"in l){var w={};for(var T in l)T!=="ref"&&(w[T]=l[T])}else w=l;return fa(r),l=xd(i,r,a,w,m,h),T=Od(),i!==null&&!Gt?(Nd(i,r,h),rr(i,r,h)):(Qe&&T&&wd(r),r.flags|=1,Zt(i,r,l,h),r.child)}function Qv(i,r,a,l,h){if(i===null){var m=a.type;return typeof m=="function"&&!gm(m)&&m.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=m,Yv(i,r,m,l,h)):(i=nh(a.type,null,l,r,r.mode,h),i.ref=r.ref,i.return=r,r.child=i)}if(m=i.child,!nm(i,h)){var w=m.memoizedProps;if(a=a.compare,a=a!==null?a:Dl,a(w,l)&&i.ref===r.ref)return rr(i,r,h)}return r.flags|=1,i=ss(m,l),i.ref=r.ref,i.return=r,r.child=i}function Yv(i,r,a,l,h){if(i!==null){var m=i.memoizedProps;if(Dl(m,l)&&i.ref===r.ref)if(Gt=!1,r.pendingProps=l=m,nm(i,h))i.flags&131072&&(Gt=!0);else return r.lanes=i.lanes,rr(i,r,h)}return Qd(i,r,a,l,h)}function Xv(i,r,a){var l=r.pendingProps,h=l.children,m=(r.stateNode._pendingVisibility&2)!==0,w=i!==null?i.memoizedState:null;if(ql(i,r),l.mode==="hidden"||m){if(r.flags&128){if(l=w!==null?w.baseLanes|a:a,i!==null){for(h=r.child=i.child,m=0;h!==null;)m=m|h.lanes|h.childLanes,h=h.sibling;r.childLanes=m&~l}else r.childLanes=0,r.child=null;return Wv(i,r,l,a)}if(a&536870912)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&zc(r,w!==null?w.cachePool:null),w!==null?Zy(r,w):Ad(),Jy(r);else return r.lanes=r.childLanes=536870912,Wv(i,r,w!==null?w.baseLanes|a:a,a)}else w!==null?(zc(r,w.cachePool),Zy(r,w),Yr(),r.memoizedState=null):(i!==null&&zc(r,null),Ad(),Yr());return Zt(i,r,h,a),r.child}function Wv(i,r,a,l){var h=Id();return h=h===null?null:{parent:Vt._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},i!==null&&zc(r,null),Ad(),Jy(r),i!==null&&Fl(i,r,l,!0),null}function ql(i,r){var a=r.ref;if(a===null)i!==null&&i.ref!==null&&(r.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(i===null||i.ref!==a)&&(r.flags|=2097664)}}function Qd(i,r,a,l,h){return fa(r),a=xd(i,r,a,l,void 0,h),l=Od(),i!==null&&!Gt?(Nd(i,r,h),rr(i,r,h)):(Qe&&l&&wd(r),r.flags|=1,Zt(i,r,a,h),r.child)}function Zv(i,r,a,l,h,m){return fa(r),r.updateQueue=null,a=rv(r,l,a,h),iv(i),l=Od(),i!==null&&!Gt?(Nd(i,r,m),rr(i,r,m)):(Qe&&l&&wd(r),r.flags|=1,Zt(i,r,a,m),r.child)}function Jv(i,r,a,l,h){if(fa(r),r.stateNode===null){var m=io,w=a.contextType;typeof w=="object"&&w!==null&&(m=sn(w)),m=new a(l,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=$d,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=l,m.state=r.memoizedState,m.refs={},am(r),w=a.contextType,m.context=typeof w=="object"&&w!==null?sn(w):io,m.state=r.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(Gd(r,a,w,l),m.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(w=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),w!==m.state&&$d.enqueueReplaceState(m,m.state,null),Kl(r,l,m,h),$l(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(i===null){m=r.stateNode;var T=r.memoizedProps,D=ca(a,T);m.props=D;var j=m.context,W=a.contextType;w=io,typeof W=="object"&&W!==null&&(w=sn(W));var ne=a.getDerivedStateFromProps;W=typeof ne=="function"||typeof m.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,W||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T||j!==w)&&Bv(r,m,l,w),Jr=!1;var G=r.memoizedState;m.state=G,Kl(r,l,m,h),$l(),j=r.memoizedState,T||G!==j||Jr?(typeof ne=="function"&&(Gd(r,a,ne,l),j=r.memoizedState),(D=Jr||Uv(r,a,D,l,G,j,w))?(W||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=j),m.props=l,m.state=j,m.context=w,l=D):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{m=r.stateNode,om(i,r),w=r.memoizedProps,W=ca(a,w),m.props=W,ne=r.pendingProps,G=m.context,j=a.contextType,D=io,typeof j=="object"&&j!==null&&(D=sn(j)),T=a.getDerivedStateFromProps,(j=typeof T=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w!==ne||G!==D)&&Bv(r,m,l,D),Jr=!1,G=r.memoizedState,m.state=G,Kl(r,l,m,h),$l();var X=r.memoizedState;w!==ne||G!==X||Jr||i!==null&&i.dependencies!==null&&Zc(i.dependencies)?(typeof T=="function"&&(Gd(r,a,T,l),X=r.memoizedState),(W=Jr||Uv(r,a,W,l,G,X,D)||i!==null&&i.dependencies!==null&&Zc(i.dependencies))?(j||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,X,D),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,X,D)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||w===i.memoizedProps&&G===i.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&G===i.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=X),m.props=l,m.state=X,m.context=D,l=W):(typeof m.componentDidUpdate!="function"||w===i.memoizedProps&&G===i.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&G===i.memoizedState||(r.flags|=1024),l=!1)}return m=l,ql(i,r),l=(r.flags&128)!==0,m||l?(m=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,i!==null&&l?(r.child=sa(r,i.child,null,h),r.child=sa(r,null,a,h)):Zt(i,r,a,h),r.memoizedState=m.state,i=r.child):i=rr(i,r,h),i}function e_(i,r,a,l){return Nl(),r.flags|=256,Zt(i,r,a,l),r.child}var Yd={dehydrated:null,treeContext:null,retryLane:0};function Xd(i){return{baseLanes:i,cachePool:nv()}}function Wd(i,r,a){return i=i!==null?i.childLanes&~a:0,r&&(i|=ti),i}function t_(i,r,a){var l=r.pendingProps,h=!1,m=(r.flags&128)!==0,w;if((w=m)||(w=i!==null&&i.memoizedState===null?!1:(Pt.current&2)!==0),w&&(h=!0,r.flags&=-129),w=(r.flags&32)!==0,r.flags&=-33,i===null){if(Qe){if(h?Qr(r):Yr(),Qe){var T=Wt,D;if(D=T){e:{for(D=T,T=Ci;D.nodeType!==8;){if(!T){T=null;break e}if(D=hi(D.nextSibling),D===null){T=null;break e}}T=D}T!==null?(r.memoizedState={dehydrated:T,treeContext:na!==null?{id:er,overflow:tr}:null,retryLane:536870912},D=ei(18,null,null,0),D.stateNode=T,D.return=r,r.child=D,yn=r,Wt=null,D=!0):D=!1}D||ra(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?r.lanes=16:r.lanes=536870912,null;nr(r)}return T=l.children,l=l.fallback,h?(Yr(),h=r.mode,T=Jd({mode:"hidden",children:T},h),l=ma(l,h,a,null),T.return=r,l.return=r,T.sibling=l,r.child=T,h=r.child,h.memoizedState=Xd(a),h.childLanes=Wd(i,w,a),r.memoizedState=Yd,l):(Qr(r),Zd(r,T))}if(D=i.memoizedState,D!==null&&(T=D.dehydrated,T!==null)){if(m)r.flags&256?(Qr(r),r.flags&=-257,r=em(i,r,a)):r.memoizedState!==null?(Yr(),r.child=i.child,r.flags|=128,r=null):(Yr(),h=l.fallback,T=r.mode,l=Jd({mode:"visible",children:l.children},T),h=ma(h,T,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,sa(r,i.child,null,a),l=r.child,l.memoizedState=Xd(a),l.childLanes=Wd(i,w,a),r.memoizedState=Yd,r=h);else if(Qr(r),T.data==="$!"){if(w=T.nextSibling&&T.nextSibling.dataset,w)var j=w.dgst;w=j,l=Error(s(419)),l.stack="",l.digest=w,kl({value:l,source:null,stack:null}),r=em(i,r,a)}else if(Gt||Fl(i,r,a,!1),w=(a&i.childLanes)!==0,Gt||w){if(w=it,w!==null){if(l=a&-a,l&42)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=l&(w.suspendedLanes|a)?0:l,l!==0&&l!==D.retryLane)throw D.retryLane=l,Kr(i,l),vn(w,i,l),$v}T.data==="$?"||Im(),r=em(i,r,a)}else T.data==="$?"?(r.flags|=128,r.child=i.child,r=r2.bind(null,i),T._reactRetry=r,r=null):(i=D.treeContext,Wt=hi(T.nextSibling),yn=r,Qe=!0,ui=null,Ci=!1,i!==null&&(Yn[Xn++]=er,Yn[Xn++]=tr,Yn[Xn++]=na,er=i.id,tr=i.overflow,na=r),r=Zd(r,l.children),r.flags|=4096);return r}return h?(Yr(),h=l.fallback,T=r.mode,D=i.child,j=D.sibling,l=ss(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&31457280,j!==null?h=ss(j,h):(h=ma(h,T,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,T=i.child.memoizedState,T===null?T=Xd(a):(D=T.cachePool,D!==null?(j=Vt._currentValue,D=D.parent!==j?{parent:j,pool:j}:D):D=nv(),T={baseLanes:T.baseLanes|a,cachePool:D}),h.memoizedState=T,h.childLanes=Wd(i,w,a),r.memoizedState=Yd,l):(Qr(r),a=i.child,i=a.sibling,a=ss(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,i!==null&&(w=r.deletions,w===null?(r.deletions=[i],r.flags|=16):w.push(i)),r.child=a,r.memoizedState=null,a)}function Zd(i,r){return r=Jd({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Jd(i,r){return C_(i,r,0,null)}function em(i,r,a){return sa(r,i.child,null,a),i=Zd(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function n_(i,r,a){i.lanes|=r;var l=i.alternate;l!==null&&(l.lanes|=r),rm(i.return,r,a)}function tm(i,r,a,l,h){var m=i.memoizedState;m===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=h)}function i_(i,r,a){var l=r.pendingProps,h=l.revealOrder,m=l.tail;if(Zt(i,r,l.children,a),l=Pt.current,l&2)l=l&1|2,r.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&n_(i,a,r);else if(i.tag===19)n_(i,a,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}l&=1}switch(Je(Pt,l),h){case"forwards":for(a=r.child,h=null;a!==null;)i=a.alternate,i!==null&&jc(i)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),tm(r,!1,h,a,m);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(i=h.alternate,i!==null&&jc(i)===null){r.child=h;break}i=h.sibling,h.sibling=a,a=h,h=i}tm(r,!0,a,null,m);break;case"together":tm(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function rr(i,r,a){if(i!==null&&(r.dependencies=i.dependencies),as|=r.lanes,!(a&r.childLanes))if(i!==null){if(Fl(i,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,a=ss(i,i.pendingProps),r.child=a,a.return=r;i.sibling!==null;)i=i.sibling,a=a.sibling=ss(i,i.pendingProps),a.return=r;a.sibling=null}return r.child}function nm(i,r){return i.lanes&r?!0:(i=i.dependencies,!!(i!==null&&Zc(i)))}function FS(i,r,a){switch(r.tag){case 3:Or(r,r.stateNode.containerInfo),Zr(r,Vt,i.memoizedState.cache),Nl();break;case 27:case 5:ll(r);break;case 4:Or(r,r.stateNode.containerInfo);break;case 10:Zr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Qr(r),r.flags|=128,null):a&r.child.childLanes?t_(i,r,a):(Qr(r),i=rr(i,r,a),i!==null?i.sibling:null);Qr(r);break;case 19:var h=(i.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Fl(i,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return i_(i,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Je(Pt,Pt.current),l)break;return null;case 22:case 23:return r.lanes=0,Xv(i,r,a);case 24:Zr(r,Vt,i.memoizedState.cache)}return rr(i,r,a)}function r_(i,r,a){if(i!==null)if(i.memoizedProps!==r.pendingProps)Gt=!0;else{if(!nm(i,a)&&!(r.flags&128))return Gt=!1,FS(i,r,a);Gt=!!(i.flags&131072)}else Gt=!1,Qe&&r.flags&1048576&&Hy(r,Pc,r.index);switch(r.lanes=0,r.tag){case 16:e:{i=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")gm(l)?(i=ca(l,i),r.tag=1,r=Jv(null,r,l,i,a)):(r.tag=0,r=Qd(null,r,l,i,a));else{if(l!=null){if(h=l.$$typeof,h===x){r.tag=11,r=Kv(null,r,l,i,a);break e}else if(h===K){r.tag=14,r=Qv(null,r,l,i,a);break e}}throw r=C(l)||l,Error(s(306,r,""))}}return r;case 0:return Qd(i,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=ca(l,r.pendingProps),Jv(i,r,l,h,a);case 3:e:{if(Or(r,r.stateNode.containerInfo),i===null)throw Error(s(387));var m=r.pendingProps;h=r.memoizedState,l=h.element,om(i,r),Kl(r,m,null,a);var w=r.memoizedState;if(m=w.cache,Zr(r,Vt,m),m!==h.cache&&sm(r,[Vt],a,!0),$l(),m=w.element,h.isDehydrated)if(h={element:m,isDehydrated:!1,cache:w.cache},r.updateQueue.baseState=h,r.memoizedState=h,r.flags&256){r=e_(i,r,m,a);break e}else if(m!==l){l=Qn(Error(s(424)),r),kl(l),r=e_(i,r,m,a);break e}else for(Wt=hi(r.stateNode.containerInfo.firstChild),yn=r,Qe=!0,ui=null,Ci=!0,a=Wy(r,null,m,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Nl(),m===l){r=rr(i,r,a);break e}Zt(i,r,m,a)}r=r.child}return r;case 26:return ql(i,r),i===null?(a=ow(r.type,null,r.pendingProps,null))?r.memoizedState=a:Qe||(a=r.type,i=r.pendingProps,l=mh(jn.current).createElement(a),l[Ht]=r,l[Nt]=i,Jt(l,a,i),ot(l),r.stateNode=l):r.memoizedState=ow(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return ll(r),i===null&&Qe&&(l=r.stateNode=rw(r.type,r.pendingProps,jn.current),yn=r,Ci=!0,Wt=hi(l.firstChild)),l=r.pendingProps.children,i!==null||Qe?Zt(i,r,l,a):r.child=sa(r,null,l,a),ql(i,r),r.child;case 5:return i===null&&Qe&&((h=l=Wt)&&(l=w2(l,r.type,r.pendingProps,Ci),l!==null?(r.stateNode=l,yn=r,Wt=hi(l.firstChild),Ci=!1,h=!0):h=!1),h||ra(r)),ll(r),h=r.type,m=r.pendingProps,w=i!==null?i.memoizedProps:null,l=m.children,Hm(h,m)?l=null:w!==null&&Hm(h,w)&&(r.flags|=32),r.memoizedState!==null&&(h=xd(i,r,LS,null,null,a),lu._currentValue=h),ql(i,r),Zt(i,r,l,a),r.child;case 6:return i===null&&Qe&&((i=a=Wt)&&(a=E2(a,r.pendingProps,Ci),a!==null?(r.stateNode=a,yn=r,Wt=null,i=!0):i=!1),i||ra(r)),null;case 13:return t_(i,r,a);case 4:return Or(r,r.stateNode.containerInfo),l=r.pendingProps,i===null?r.child=sa(r,null,l,a):Zt(i,r,l,a),r.child;case 11:return Kv(i,r,r.type,r.pendingProps,a);case 7:return Zt(i,r,r.pendingProps,a),r.child;case 8:return Zt(i,r,r.pendingProps.children,a),r.child;case 12:return Zt(i,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Zr(r,r.type,l.value),Zt(i,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,fa(r),h=sn(h),l=l(h),r.flags|=1,Zt(i,r,l,a),r.child;case 14:return Qv(i,r,r.type,r.pendingProps,a);case 15:return Yv(i,r,r.type,r.pendingProps,a);case 19:return i_(i,r,a);case 22:return Xv(i,r,a);case 24:return fa(r),l=sn(Vt),i===null?(h=Id(),h===null&&(h=it,m=Rd(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=a),h=m),r.memoizedState={parent:l,cache:h},am(r),Zr(r,Vt,h)):(i.lanes&a&&(om(i,r),Kl(r,null,null,a),$l()),h=i.memoizedState,m=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Zr(r,Vt,l)):(l=m.cache,Zr(r,Vt,l),l!==h.cache&&sm(r,[Vt],a,!0))),Zt(i,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}var im=$e(null),ha=null,sr=null;function Zr(i,r,a){Je(im,r._currentValue),r._currentValue=a}function ar(i){i._currentValue=im.current,ft(im)}function rm(i,r,a){for(;i!==null;){var l=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),i===a)break;i=i.return}}function sm(i,r,a,l){var h=i.child;for(h!==null&&(h.return=i);h!==null;){var m=h.dependencies;if(m!==null){var w=h.child;m=m.firstContext;e:for(;m!==null;){var T=m;m=h;for(var D=0;D<r.length;D++)if(T.context===r[D]){m.lanes|=a,T=m.alternate,T!==null&&(T.lanes|=a),rm(m.return,a,i),l||(w=null);break e}m=T.next}}else if(h.tag===18){if(w=h.return,w===null)throw Error(s(341));w.lanes|=a,m=w.alternate,m!==null&&(m.lanes|=a),rm(w,a,i),w=null}else w=h.child;if(w!==null)w.return=h;else for(w=h;w!==null;){if(w===i){w=null;break}if(h=w.sibling,h!==null){h.return=w.return,w=h;break}w=w.return}h=w}}function Fl(i,r,a,l){i=null;for(var h=r,m=!1;h!==null;){if(!m){if(h.flags&524288)m=!0;else if(h.flags&262144)break}if(h.tag===10){var w=h.alternate;if(w===null)throw Error(s(387));if(w=w.memoizedProps,w!==null){var T=h.type;Dn(h.pendingProps.value,w.value)||(i!==null?i.push(T):i=[T])}}else if(h===xr.current){if(w=h.alternate,w===null)throw Error(s(387));w.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(i!==null?i.push(lu):i=[lu])}h=h.return}i!==null&&sm(r,i,a,l),r.flags|=262144}function Zc(i){for(i=i.firstContext;i!==null;){if(!Dn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function fa(i){ha=i,sr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function sn(i){return s_(ha,i)}function Jc(i,r){return ha===null&&fa(i),s_(i,r)}function s_(i,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},sr===null){if(i===null)throw Error(s(308));sr=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else sr=sr.next=r;return a}var Jr=!1;function am(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function om(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function es(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ts(i,r,a){var l=i.updateQueue;if(l===null)return null;if(l=l.shared,ut&2){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=kc(i),jy(i,null,a),r}return Nc(i,l,r,a),kc(i)}function Gl(i,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194176)!==0)){var l=r.lanes;l&=i.pendingLanes,a|=l,r.lanes=a,Lr(i,a)}}function lm(i,r){var a=i.updateQueue,l=i.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var w={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?h=m=w:m=m.next=w,a=a.next}while(a!==null);m===null?h=m=r:m=m.next=r}else h=m=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=r:i.next=r,a.lastBaseUpdate=r}var um=!1;function $l(){if(um){var i=uo;if(i!==null)throw i}}function Kl(i,r,a,l){um=!1;var h=i.updateQueue;Jr=!1;var m=h.firstBaseUpdate,w=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var D=T,j=D.next;D.next=null,w===null?m=j:w.next=j,w=D;var W=i.alternate;W!==null&&(W=W.updateQueue,T=W.lastBaseUpdate,T!==w&&(T===null?W.firstBaseUpdate=j:T.next=j,W.lastBaseUpdate=D))}if(m!==null){var ne=h.baseState;w=0,W=j=D=null,T=m;do{var G=T.lane&-536870913,X=G!==T.lane;if(X?(qe&G)===G:(l&G)===G){G!==0&&G===lo&&(um=!0),W!==null&&(W=W.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var pe=i,Se=T;G=r;var gt=a;switch(Se.tag){case 1:if(pe=Se.payload,typeof pe=="function"){ne=pe.call(gt,ne,G);break e}ne=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=Se.payload,G=typeof pe=="function"?pe.call(gt,ne,G):pe,G==null)break e;ne=O({},ne,G);break e;case 2:Jr=!0}}G=T.callback,G!==null&&(i.flags|=64,X&&(i.flags|=8192),X=h.callbacks,X===null?h.callbacks=[G]:X.push(G))}else X={lane:G,tag:T.tag,payload:T.payload,callback:T.callback,next:null},W===null?(j=W=X,D=ne):W=W.next=X,w|=G;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;X=T,T=X.next,X.next=null,h.lastBaseUpdate=X,h.shared.pending=null}}while(!0);W===null&&(D=ne),h.baseState=D,h.firstBaseUpdate=j,h.lastBaseUpdate=W,m===null&&(h.shared.lanes=0),as|=w,i.lanes=w,i.memoizedState=ne}}function a_(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function o_(i,r){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)a_(a[i],r)}function Ql(i,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&i)===i){l=void 0;var m=a.create,w=a.inst;l=m(),w.destroy=l}a=a.next}while(a!==h)}}catch(T){nt(r,r.return,T)}}function ns(i,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var m=h.next;l=m;do{if((l.tag&i)===i){var w=l.inst,T=w.destroy;if(T!==void 0){w.destroy=void 0,h=r;var D=a;try{T()}catch(j){nt(h,D,j)}}}l=l.next}while(l!==m)}}catch(j){nt(r,r.return,j)}}function l_(i){var r=i.updateQueue;if(r!==null){var a=i.stateNode;try{o_(r,a)}catch(l){nt(i,i.return,l)}}}function u_(i,r,a){a.props=ca(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(l){nt(i,r,l)}}function da(i,r){try{var a=i.ref;if(a!==null){var l=i.stateNode;switch(i.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof a=="function"?i.refCleanup=a(h):a.current=h}}catch(m){nt(i,r,m)}}function xn(i,r){var a=i.ref,l=i.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){nt(i,r,h)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){nt(i,r,h)}else a.current=null}function c_(i){var r=i.type,a=i.memoizedProps,l=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){nt(i,i.return,h)}}function h_(i,r,a){try{var l=i.stateNode;p2(l,i.type,a,r),l[Nt]=r}catch(h){nt(i,i.return,h)}}function f_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function cm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||f_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function hm(i,r,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(i,r):a.insertBefore(i,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(i,a)):(r=a,r.appendChild(i)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=dh));else if(l!==4&&l!==27&&(i=i.child,i!==null))for(hm(i,r,a),i=i.sibling;i!==null;)hm(i,r,a),i=i.sibling}function eh(i,r,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,r?a.insertBefore(i,r):a.appendChild(i);else if(l!==4&&l!==27&&(i=i.child,i!==null))for(eh(i,r,a),i=i.sibling;i!==null;)eh(i,r,a),i=i.sibling}var or=!1,mt=!1,fm=!1,d_=typeof WeakSet=="function"?WeakSet:Set,$t=null,m_=!1;function GS(i,r){if(i=i.containerInfo,jm=wh,i=Oy(i),md(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else e:{a=(a=i.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var w=0,T=-1,D=-1,j=0,W=0,ne=i,G=null;t:for(;;){for(var X;ne!==a||h!==0&&ne.nodeType!==3||(T=w+h),ne!==m||l!==0&&ne.nodeType!==3||(D=w+l),ne.nodeType===3&&(w+=ne.nodeValue.length),(X=ne.firstChild)!==null;)G=ne,ne=X;for(;;){if(ne===i)break t;if(G===a&&++j===h&&(T=w),G===m&&++W===l&&(D=w),(X=ne.nextSibling)!==null)break;ne=G,G=ne.parentNode}ne=X}a=T===-1||D===-1?null:{start:T,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(zm={focusedElem:i,selectionRange:a},wh=!1,$t=r;$t!==null;)if(r=$t,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,$t=i;else for(;$t!==null;){switch(r=$t,m=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if(i&1024&&m!==null){i=void 0,a=r,h=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var pe=ca(a.type,h,a.elementType===a.type);i=l.getSnapshotBeforeUpdate(pe,m),l.__reactInternalSnapshotBeforeUpdate=i}catch(Se){nt(a,a.return,Se)}}break;case 3:if(i&1024){if(i=r.stateNode.containerInfo,a=i.nodeType,a===9)Gm(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Gm(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(i&1024)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,$t=i;break}$t=r.return}return pe=m_,m_=!1,pe}function p_(i,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ur(i,a),l&4&&Ql(5,a);break;case 1:if(ur(i,a),l&4)if(i=a.stateNode,r===null)try{i.componentDidMount()}catch(T){nt(a,a.return,T)}else{var h=ca(a.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(h,r,i.__reactInternalSnapshotBeforeUpdate)}catch(T){nt(a,a.return,T)}}l&64&&l_(a),l&512&&da(a,a.return);break;case 3:if(ur(i,a),l&64&&(l=a.updateQueue,l!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{o_(l,i)}catch(T){nt(a,a.return,T)}}break;case 26:ur(i,a),l&512&&da(a,a.return);break;case 27:case 5:ur(i,a),r===null&&l&4&&c_(a),l&512&&da(a,a.return);break;case 12:ur(i,a);break;case 13:ur(i,a),l&4&&v_(i,a);break;case 22:if(h=a.memoizedState!==null||or,!h){r=r!==null&&r.memoizedState!==null||mt;var m=or,w=mt;or=h,(mt=r)&&!w?is(i,a,(a.subtreeFlags&8772)!==0):ur(i,a),or=m,mt=w}l&512&&(a.memoizedProps.mode==="manual"?da(a,a.return):xn(a,a.return));break;default:ur(i,a)}}function g_(i){var r=i.alternate;r!==null&&(i.alternate=null,g_(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&qs(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var It=null,On=!1;function lr(i,r,a){for(a=a.child;a!==null;)y_(i,r,a),a=a.sibling}function y_(i,r,a){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(Nr,a)}catch{}switch(a.tag){case 26:mt||xn(a,r),lr(i,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:mt||xn(a,r);var l=It,h=On;for(It=a.stateNode,lr(i,r,a),a=a.stateNode,r=a.attributes;r.length;)a.removeAttributeNode(r[0]);qs(a),It=l,On=h;break;case 5:mt||xn(a,r);case 6:h=It;var m=On;if(It=null,lr(i,r,a),It=h,On=m,It!==null)if(On)try{i=It,l=a.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)}catch(w){nt(a,r,w)}else try{It.removeChild(a.stateNode)}catch(w){nt(a,r,w)}break;case 18:It!==null&&(On?(r=It,a=a.stateNode,r.nodeType===8?Fm(r.parentNode,a):r.nodeType===1&&Fm(r,a),fu(r)):Fm(It,a.stateNode));break;case 4:l=It,h=On,It=a.stateNode.containerInfo,On=!0,lr(i,r,a),It=l,On=h;break;case 0:case 11:case 14:case 15:mt||ns(2,a,r),mt||ns(4,a,r),lr(i,r,a);break;case 1:mt||(xn(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&u_(a,r,l)),lr(i,r,a);break;case 21:lr(i,r,a);break;case 22:mt||xn(a,r),mt=(l=mt)||a.memoizedState!==null,lr(i,r,a),mt=l;break;default:lr(i,r,a)}}function v_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{fu(i)}catch(a){nt(r,r.return,a)}}function $S(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new d_),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new d_),r;default:throw Error(s(435,i.tag))}}function dm(i,r){var a=$S(i);r.forEach(function(l){var h=s2.bind(null,i,l);a.has(l)||(a.add(l),l.then(h,h))})}function Zn(i,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],m=i,w=r,T=w;e:for(;T!==null;){switch(T.tag){case 27:case 5:It=T.stateNode,On=!1;break e;case 3:It=T.stateNode.containerInfo,On=!0;break e;case 4:It=T.stateNode.containerInfo,On=!0;break e}T=T.return}if(It===null)throw Error(s(160));y_(m,w,h),It=null,On=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)__(r,i),r=r.sibling}var ci=null;function __(i,r){var a=i.alternate,l=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Zn(r,i),Jn(i),l&4&&(ns(3,i,i.return),Ql(3,i),ns(5,i,i.return));break;case 1:Zn(r,i),Jn(i),l&512&&(mt||a===null||xn(a,a.return)),l&64&&or&&(i=i.updateQueue,i!==null&&(l=i.callbacks,l!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ci;if(Zn(r,i),Jn(i),l&512&&(mt||a===null||xn(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=i.memoizedState,a===null)if(l===null)if(i.stateNode===null){e:{l=i.type,a=i.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":m=h.getElementsByTagName("title")[0],(!m||m[Br]||m[Ht]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(l),h.head.insertBefore(m,h.querySelector("head > title"))),Jt(m,l,a),m[Ht]=i,ot(m),l=m;break e;case"link":var w=cw("link","href",h).get(l+(a.href||""));if(w){for(var T=0;T<w.length;T++)if(m=w[T],m.getAttribute("href")===(a.href==null?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){w.splice(T,1);break t}}m=h.createElement(l),Jt(m,l,a),h.head.appendChild(m);break;case"meta":if(w=cw("meta","content",h).get(l+(a.content||""))){for(T=0;T<w.length;T++)if(m=w[T],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){w.splice(T,1);break t}}m=h.createElement(l),Jt(m,l,a),h.head.appendChild(m);break;default:throw Error(s(468,l))}m[Ht]=i,ot(m),l=m}i.stateNode=l}else hw(h,i.type,i.stateNode);else i.stateNode=uw(h,l,i.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?hw(h,i.type,i.stateNode):uw(h,l,i.memoizedProps)):l===null&&i.stateNode!==null&&h_(i,i.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&i.alternate===null){h=i.stateNode,m=i.memoizedProps;try{for(var D=h.firstChild;D;){var j=D.nextSibling,W=D.nodeName;D[Br]||W==="HEAD"||W==="BODY"||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&D.rel.toLowerCase()==="stylesheet"||h.removeChild(D),D=j}for(var ne=i.type,G=h.attributes;G.length;)h.removeAttributeNode(G[0]);Jt(h,ne,m),h[Ht]=i,h[Nt]=m}catch(pe){nt(i,i.return,pe)}}case 5:if(Zn(r,i),Jn(i),l&512&&(mt||a===null||xn(a,a.return)),i.flags&32){h=i.stateNode;try{qn(h,"")}catch(pe){nt(i,i.return,pe)}}l&4&&i.stateNode!=null&&(h=i.memoizedProps,h_(i,h,a!==null?a.memoizedProps:h)),l&1024&&(fm=!0);break;case 6:if(Zn(r,i),Jn(i),l&4){if(i.stateNode===null)throw Error(s(162));l=i.memoizedProps,a=i.stateNode;try{a.nodeValue=l}catch(pe){nt(i,i.return,pe)}}break;case 3:if(yh=null,h=ci,ci=ph(r.containerInfo),Zn(r,i),ci=h,Jn(i),l&4&&a!==null&&a.memoizedState.isDehydrated)try{fu(r.containerInfo)}catch(pe){nt(i,i.return,pe)}fm&&(fm=!1,w_(i));break;case 4:l=ci,ci=ph(i.stateNode.containerInfo),Zn(r,i),Jn(i),ci=l;break;case 12:Zn(r,i),Jn(i);break;case 13:Zn(r,i),Jn(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(bm=En()),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,dm(i,l)));break;case 22:if(l&512&&(mt||a===null||xn(a,a.return)),D=i.memoizedState!==null,j=a!==null&&a.memoizedState!==null,W=or,ne=mt,or=W||D,mt=ne||j,Zn(r,i),mt=ne,or=W,Jn(i),r=i.stateNode,r._current=i,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,l&8192&&(r._visibility=D?r._visibility&-2:r._visibility|1,D&&(r=or||mt,a===null||j||r||mo(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))e:for(a=null,r=i;;){if(r.tag===5||r.tag===26||r.tag===27){if(a===null){j=a=r;try{if(h=j.stateNode,D)m=h.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{w=j.stateNode,T=j.memoizedProps.style;var X=T!=null&&T.hasOwnProperty("display")?T.display:null;w.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(pe){nt(j,j.return,pe)}}}else if(r.tag===6){if(a===null){j=r;try{j.stateNode.nodeValue=D?"":j.memoizedProps}catch(pe){nt(j,j.return,pe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=i.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,dm(i,a))));break;case 19:Zn(r,i),Jn(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,dm(i,l)));break;case 21:break;default:Zn(r,i),Jn(i)}}function Jn(i){var r=i.flags;if(r&2){try{if(i.tag!==27){e:{for(var a=i.return;a!==null;){if(f_(a)){var l=a;break e}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,m=cm(i);eh(i,m,h);break;case 5:var w=l.stateNode;l.flags&32&&(qn(w,""),l.flags&=-33);var T=cm(i);eh(i,T,w);break;case 3:case 4:var D=l.stateNode.containerInfo,j=cm(i);hm(i,j,D);break;default:throw Error(s(161))}}}catch(W){nt(i,i.return,W)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function w_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;w_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function ur(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)p_(i,r.alternate,r),r=r.sibling}function mo(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:ns(4,r,r.return),mo(r);break;case 1:xn(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&u_(r,r.return,a),mo(r);break;case 26:case 27:case 5:xn(r,r.return),mo(r);break;case 22:xn(r,r.return),r.memoizedState===null&&mo(r);break;default:mo(r)}i=i.sibling}}function is(i,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=i,m=r,w=m.flags;switch(m.tag){case 0:case 11:case 15:is(h,m,a),Ql(4,m);break;case 1:if(is(h,m,a),l=m,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){nt(l,l.return,j)}if(l=m,h=l.updateQueue,h!==null){var T=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)a_(D[h],T)}catch(j){nt(l,l.return,j)}}a&&w&64&&l_(m),da(m,m.return);break;case 26:case 27:case 5:is(h,m,a),a&&l===null&&w&4&&c_(m),da(m,m.return);break;case 12:is(h,m,a);break;case 13:is(h,m,a),a&&w&4&&v_(h,m);break;case 22:m.memoizedState===null&&is(h,m,a),da(m,m.return);break;default:is(h,m,a)}r=r.sibling}}function mm(i,r){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&Ul(a))}function pm(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Ul(i))}function rs(i,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)E_(i,r,a,l),r=r.sibling}function E_(i,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:rs(i,r,a,l),h&2048&&Ql(9,r);break;case 3:rs(i,r,a,l),h&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Ul(i)));break;case 12:if(h&2048){rs(i,r,a,l),i=r.stateNode;try{var m=r.memoizedProps,w=m.id,T=m.onPostCommit;typeof T=="function"&&T(w,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(D){nt(r,r.return,D)}}else rs(i,r,a,l);break;case 23:break;case 22:m=r.stateNode,r.memoizedState!==null?m._visibility&4?rs(i,r,a,l):Yl(i,r):m._visibility&4?rs(i,r,a,l):(m._visibility|=4,po(i,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&mm(r.alternate,r);break;case 24:rs(i,r,a,l),h&2048&&pm(r.alternate,r);break;default:rs(i,r,a,l)}}function po(i,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var m=i,w=r,T=a,D=l,j=w.flags;switch(w.tag){case 0:case 11:case 15:po(m,w,T,D,h),Ql(8,w);break;case 23:break;case 22:var W=w.stateNode;w.memoizedState!==null?W._visibility&4?po(m,w,T,D,h):Yl(m,w):(W._visibility|=4,po(m,w,T,D,h)),h&&j&2048&&mm(w.alternate,w);break;case 24:po(m,w,T,D,h),h&&j&2048&&pm(w.alternate,w);break;default:po(m,w,T,D,h)}r=r.sibling}}function Yl(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=i,l=r,h=l.flags;switch(l.tag){case 22:Yl(a,l),h&2048&&mm(l.alternate,l);break;case 24:Yl(a,l),h&2048&&pm(l.alternate,l);break;default:Yl(a,l)}r=r.sibling}}var Xl=8192;function go(i){if(i.subtreeFlags&Xl)for(i=i.child;i!==null;)b_(i),i=i.sibling}function b_(i){switch(i.tag){case 26:go(i),i.flags&Xl&&i.memoizedState!==null&&M2(ci,i.memoizedState,i.memoizedProps);break;case 5:go(i);break;case 3:case 4:var r=ci;ci=ph(i.stateNode.containerInfo),go(i),ci=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=Xl,Xl=16777216,go(i),Xl=r):go(i));break;default:go(i)}}function T_(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Wl(i){var r=i.deletions;if(i.flags&16){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];$t=l,S_(l,i)}T_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)A_(i),i=i.sibling}function A_(i){switch(i.tag){case 0:case 11:case 15:Wl(i),i.flags&2048&&ns(9,i,i.return);break;case 3:Wl(i);break;case 12:Wl(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&4&&(i.return===null||i.return.tag!==13)?(r._visibility&=-5,th(i)):Wl(i);break;default:Wl(i)}}function th(i){var r=i.deletions;if(i.flags&16){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];$t=l,S_(l,i)}T_(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:ns(8,r,r.return),th(r);break;case 22:a=r.stateNode,a._visibility&4&&(a._visibility&=-5,th(r));break;default:th(r)}i=i.sibling}}function S_(i,r){for(;$t!==null;){var a=$t;switch(a.tag){case 0:case 11:case 15:ns(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ul(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,$t=l;else e:for(a=i;$t!==null;){l=$t;var h=l.sibling,m=l.return;if(g_(l),l===a){$t=null;break e}if(h!==null){h.return=m,$t=h;break e}$t=m}}}function KS(i,r,a,l){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ei(i,r,a,l){return new KS(i,r,a,l)}function gm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ss(i,r){var a=i.alternate;return a===null?(a=ei(i.tag,r,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=r,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&31457280,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,r=i.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function R_(i,r){i.flags&=31457282;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,r=a.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function nh(i,r,a,l,h,m){var w=0;if(l=i,typeof i=="function")gm(i)&&(w=1);else if(typeof i=="string")w=N2(i,a,dn.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case d:return ma(a.children,h,m,r);case g:w=8,h|=24;break;case v:return i=ei(12,a,r,h|2),i.elementType=v,i.lanes=m,i;case L:return i=ei(13,a,r,h),i.elementType=L,i.lanes=m,i;case M:return i=ei(19,a,r,h),i.elementType=M,i.lanes=m,i;case $:return C_(a,h,m,r);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case E:case R:w=10;break e;case b:w=9;break e;case x:w=11;break e;case K:w=14;break e;case Z:w=16,l=null;break e}w=29,a=Error(s(130,i===null?"null":typeof i,"")),l=null}return r=ei(w,a,r,h),r.elementType=i,r.type=l,r.lanes=m,r}function ma(i,r,a,l){return i=ei(7,i,l,r),i.lanes=a,i}function C_(i,r,a,l){i=ei(22,i,l,r),i.elementType=$,i.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var m=h._current;if(m===null)throw Error(s(456));if(!(h._pendingVisibility&2)){var w=Kr(m,2);w!==null&&(h._pendingVisibility|=2,vn(w,m,2))}},attach:function(){var m=h._current;if(m===null)throw Error(s(456));if(h._pendingVisibility&2){var w=Kr(m,2);w!==null&&(h._pendingVisibility&=-3,vn(w,m,2))}}};return i.stateNode=h,i}function ym(i,r,a){return i=ei(6,i,null,r),i.lanes=a,i}function vm(i,r,a){return r=ei(4,i.children!==null?i.children:[],i.key,r),r.lanes=a,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}function cr(i){i.flags|=4}function I_(i,r){if(r.type!=="stylesheet"||r.state.loading&4)i.flags&=-16777217;else if(i.flags|=16777216,!fw(r)){if(r=Wn.current,r!==null&&((qe&4194176)===qe?Ii!==null:(qe&62914560)!==qe&&!(qe&536870912)||r!==Ii))throw Pl=Td,Gy;i.flags|=8192}}function ih(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Pr():536870912,i.lanes|=r,vo|=r)}function Zl(i,r){if(!Qe)switch(i.tailMode){case"hidden":r=i.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:l.sibling=null}}function lt(i){var r=i.alternate!==null&&i.alternate.child===i.child,a=0,l=0;if(r)for(var h=i.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=i,h=h.sibling;else for(h=i.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=i,h=h.sibling;return i.subtreeFlags|=l,i.childLanes=a,r}function QS(i,r,a){var l=r.pendingProps;switch(Ed(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(r),null;case 1:return lt(r),null;case 3:return a=r.stateNode,l=null,i!==null&&(l=i.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),ar(Vt),qi(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(Ol(r)?cr(r):i===null||i.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,ui!==null&&(Rm(ui),ui=null))),lt(r),null;case 26:return a=r.memoizedState,i===null?(cr(r),a!==null?(lt(r),I_(r,a)):(lt(r),r.flags&=-16777217)):a?a!==i.memoizedState?(cr(r),lt(r),I_(r,a)):(lt(r),r.flags&=-16777217):(i.memoizedProps!==l&&cr(r),lt(r),r.flags&=-16777217),null;case 27:Va(r),a=jn.current;var h=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==l&&cr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return lt(r),null}i=dn.current,Ol(r)?qy(r):(i=rw(h,l,a),r.stateNode=i,cr(r))}return lt(r),null;case 5:if(Va(r),a=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==l&&cr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return lt(r),null}if(i=dn.current,Ol(r))qy(r);else{switch(h=mh(jn.current),i){case 1:i=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":i=h.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?i.multiple=!0:l.size&&(i.size=l.size);break;default:i=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}i[Ht]=r,i[Nt]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)i.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=i;e:switch(Jt(i,a,l),a){case"button":case"input":case"select":case"textarea":i=!!l.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&cr(r)}}return lt(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==l&&cr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(i=jn.current,Ol(r)){if(i=r.stateNode,a=r.memoizedProps,l=null,h=yn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}i[Ht]=r,i=!!(i.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Z_(i.nodeValue,a)),i||ra(r)}else i=mh(i).createTextNode(l),i[Ht]=r,r.stateNode=i}return lt(r),null;case 13:if(l=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(h=Ol(r),l!==null&&l.dehydrated!==null){if(i===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ht]=r}else Nl(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;lt(r),h=!1}else ui!==null&&(Rm(ui),ui=null),h=!0;if(!h)return r.flags&256?(nr(r),r):(nr(r),null)}if(nr(r),r.flags&128)return r.lanes=a,r;if(a=l!==null,i=i!==null&&i.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==h&&(l.flags|=2048)}return a!==i&&a&&(r.child.flags|=8192),ih(r,r.updateQueue),lt(r),null;case 4:return qi(),i===null&&Lm(r.stateNode.containerInfo),lt(r),null;case 10:return ar(r.type),lt(r),null;case 19:if(ft(Pt),h=r.memoizedState,h===null)return lt(r),null;if(l=(r.flags&128)!==0,m=h.rendering,m===null)if(l)Zl(h,!1);else{if(pt!==0||i!==null&&i.flags&128)for(i=r.child;i!==null;){if(m=jc(i),m!==null){for(r.flags|=128,Zl(h,!1),i=m.updateQueue,r.updateQueue=i,ih(r,i),r.subtreeFlags=0,i=a,a=r.child;a!==null;)R_(a,i),a=a.sibling;return Je(Pt,Pt.current&1|2),r.child}i=i.sibling}h.tail!==null&&En()>rh&&(r.flags|=128,l=!0,Zl(h,!1),r.lanes=4194304)}else{if(!l)if(i=jc(m),i!==null){if(r.flags|=128,l=!0,i=i.updateQueue,r.updateQueue=i,ih(r,i),Zl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!m.alternate&&!Qe)return lt(r),null}else 2*En()-h.renderingStartTime>rh&&a!==536870912&&(r.flags|=128,l=!0,Zl(h,!1),r.lanes=4194304);h.isBackwards?(m.sibling=r.child,r.child=m):(i=h.last,i!==null?i.sibling=m:r.child=m,h.last=m)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=En(),r.sibling=null,i=Pt.current,Je(Pt,l?i&1|2:i&1),r):(lt(r),null);case 22:case 23:return nr(r),Sd(),l=r.memoizedState!==null,i!==null?i.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?a&536870912&&!(r.flags&128)&&(lt(r),r.subtreeFlags&6&&(r.flags|=8192)):lt(r),a=r.updateQueue,a!==null&&ih(r,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),i!==null&&ft(aa),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),ar(Vt),lt(r),null;case 25:return null}throw Error(s(156,r.tag))}function YS(i,r){switch(Ed(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return ar(Vt),qi(),i=r.flags,i&65536&&!(i&128)?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Va(r),null;case 13:if(nr(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Nl()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return ft(Pt),null;case 4:return qi(),null;case 10:return ar(r.type),null;case 22:case 23:return nr(r),Sd(),i!==null&&ft(aa),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return ar(Vt),null;case 25:return null;default:return null}}function D_(i,r){switch(Ed(r),r.tag){case 3:ar(Vt),qi();break;case 26:case 27:case 5:Va(r);break;case 4:qi();break;case 13:nr(r);break;case 19:ft(Pt);break;case 10:ar(r.type);break;case 22:case 23:nr(r),Sd(),i!==null&&ft(aa);break;case 24:ar(Vt)}}var XS={getCacheForType:function(i){var r=sn(Vt),a=r.data.get(i);return a===void 0&&(a=i(),r.data.set(i,a)),a}},WS=typeof WeakMap=="function"?WeakMap:Map,ut=0,it=null,Pe=null,qe=0,rt=0,Nn=null,hr=!1,yo=!1,_m=!1,fr=0,pt=0,as=0,pa=0,wm=0,ti=0,vo=0,Jl=null,xi=null,Em=!1,bm=0,rh=1/0,sh=null,os=null,ah=!1,ga=null,eu=0,Tm=0,Am=null,tu=0,Sm=null;function kn(){if(ut&2&&qe!==0)return qe&-qe;if(S.T!==null){var i=lo;return i!==0?i:km()}return fc()}function x_(){ti===0&&(ti=!(qe&536870912)||Qe?dl():536870912);var i=Wn.current;return i!==null&&(i.flags|=32),ti}function vn(i,r,a){(i===it&&rt===2||i.cancelPendingCommit!==null)&&(_o(i,0),dr(i,qe,ti,!1)),vt(i,a),(!(ut&2)||i!==it)&&(i===it&&(!(ut&2)&&(pa|=a),pt===4&&dr(i,qe,ti,!1)),Oi(i))}function O_(i,r,a){if(ut&6)throw Error(s(327));var l=!a&&(r&60)===0&&(r&i.expiredLanes)===0||Mr(i,r),h=l?e2(i,r):Dm(i,r,!0),m=l;do{if(h===0){yo&&!l&&dr(i,r,0,!1);break}else if(h===6)dr(i,r,0,!hr);else{if(a=i.current.alternate,m&&!ZS(a)){h=Dm(i,r,!1),m=!1;continue}if(h===2){if(m=r,i.errorRecoveryDisabledLanes&m)var w=0;else w=i.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){r=w;e:{var T=i;h=Jl;var D=T.current.memoizedState.isDehydrated;if(D&&(_o(T,w).flags|=256),w=Dm(T,w,!1),w!==2){if(_m&&!D){T.errorRecoveryDisabledLanes|=m,pa|=m,h=4;break e}m=xi,xi=h,m!==null&&Rm(m)}h=w}if(m=!1,h!==2)continue}}if(h===1){_o(i,0),dr(i,r,0,!0);break}e:{switch(l=i,h){case 0:case 1:throw Error(s(345));case 4:if((r&4194176)===r){dr(l,r,ti,!hr);break e}break;case 2:xi=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=r,(r&62914560)===r&&(m=bm+300-En(),10<m)){if(dr(l,r,ti,!hr),zn(l,0)!==0)break e;l.timeoutHandle=tw(N_.bind(null,l,a,xi,sh,Em,r,ti,pa,vo,hr,2,-0,0),m);break e}N_(l,a,xi,sh,Em,r,ti,pa,vo,hr,0,-0,0)}}break}while(!0);Oi(i)}function Rm(i){xi===null?xi=i:xi.push.apply(xi,i)}function N_(i,r,a,l,h,m,w,T,D,j,W,ne,G){var X=r.subtreeFlags;if((X&8192||(X&16785408)===16785408)&&(ou={stylesheets:null,count:0,unsuspend:k2},b_(r),r=P2(),r!==null)){i.cancelPendingCommit=r(B_.bind(null,i,a,l,h,w,T,D,1,ne,G)),dr(i,m,w,!j);return}B_(i,a,l,h,w,T,D,W,ne,G)}function ZS(i){for(var r=i;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],m=h.getSnapshot;h=h.value;try{if(!Dn(m(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function dr(i,r,a,l){r&=~wm,r&=~pa,i.suspendedLanes|=r,i.pingedLanes&=~r,l&&(i.warmLanes|=r),l=i.expirationTimes;for(var h=r;0<h;){var m=31-mn(h),w=1<<m;l[m]=-1,h&=~w}a!==0&&Vr(i,a,r)}function oh(){return ut&6?!0:(nu(0),!1)}function Cm(){if(Pe!==null){if(rt===0)var i=Pe.return;else i=Pe,sr=ha=null,kd(i),ao=null,Vl=0,i=Pe;for(;i!==null;)D_(i.alternate,i),i=i.return;Pe=null}}function _o(i,r){i.finishedWork=null,i.finishedLanes=0;var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,y2(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),Cm(),it=i,Pe=a=ss(i.current,null),qe=r,rt=0,Nn=null,hr=!1,yo=Mr(i,r),_m=!1,vo=ti=wm=pa=as=pt=0,xi=Jl=null,Em=!1,r&8&&(r|=r&32);var l=i.entangledLanes;if(l!==0)for(i=i.entanglements,l&=r;0<l;){var h=31-mn(l),m=1<<h;r|=i[h],l&=~m}return fr=r,Oc(),a}function k_(i,r){Oe=null,S.H=Di,r===Ml?(r=Qy(),rt=3):r===Gy?(r=Qy(),rt=4):rt=r===$v?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Nn=r,Pe===null&&(pt=1,Wc(i,Qn(r,i.current)))}function M_(){var i=S.H;return S.H=Di,i===null?Di:i}function P_(){var i=S.A;return S.A=XS,i}function Im(){pt=4,hr||(qe&4194176)!==qe&&Wn.current!==null||(yo=!0),!(as&134217727)&&!(pa&134217727)||it===null||dr(it,qe,ti,!1)}function Dm(i,r,a){var l=ut;ut|=2;var h=M_(),m=P_();(it!==i||qe!==r)&&(sh=null,_o(i,r)),r=!1;var w=pt;e:do try{if(rt!==0&&Pe!==null){var T=Pe,D=Nn;switch(rt){case 8:Cm(),w=6;break e;case 3:case 2:case 6:Wn.current===null&&(r=!0);var j=rt;if(rt=0,Nn=null,wo(i,T,D,j),a&&yo){w=0;break e}break;default:j=rt,rt=0,Nn=null,wo(i,T,D,j)}}JS(),w=pt;break}catch(W){k_(i,W)}while(!0);return r&&i.shellSuspendCounter++,sr=ha=null,ut=l,S.H=h,S.A=m,Pe===null&&(it=null,qe=0,Oc()),w}function JS(){for(;Pe!==null;)V_(Pe)}function e2(i,r){var a=ut;ut|=2;var l=M_(),h=P_();it!==i||qe!==r?(sh=null,rh=En()+500,_o(i,r)):yo=Mr(i,r);e:do try{if(rt!==0&&Pe!==null){r=Pe;var m=Nn;t:switch(rt){case 1:rt=0,Nn=null,wo(i,r,m,1);break;case 2:if($y(m)){rt=0,Nn=null,L_(r);break}r=function(){rt===2&&it===i&&(rt=7),Oi(i)},m.then(r,r);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:$y(m)?(rt=0,Nn=null,L_(r)):(rt=0,Nn=null,wo(i,r,m,7));break;case 5:var w=null;switch(Pe.tag){case 26:w=Pe.memoizedState;case 5:case 27:var T=Pe;if(!w||fw(w)){rt=0,Nn=null;var D=T.sibling;if(D!==null)Pe=D;else{var j=T.return;j!==null?(Pe=j,lh(j)):Pe=null}break t}}rt=0,Nn=null,wo(i,r,m,5);break;case 6:rt=0,Nn=null,wo(i,r,m,6);break;case 8:Cm(),pt=6;break e;default:throw Error(s(462))}}t2();break}catch(W){k_(i,W)}while(!0);return sr=ha=null,S.H=l,S.A=h,ut=a,Pe!==null?0:(it=null,qe=0,Oc(),pt)}function t2(){for(;Pe!==null&&!id();)V_(Pe)}function V_(i){var r=r_(i.alternate,i,fr);i.memoizedProps=i.pendingProps,r===null?lh(i):Pe=r}function L_(i){var r=i,a=r.alternate;switch(r.tag){case 15:case 0:r=Zv(a,r,r.pendingProps,r.type,void 0,qe);break;case 11:r=Zv(a,r,r.pendingProps,r.type.render,r.ref,qe);break;case 5:kd(r);default:D_(a,r),r=Pe=R_(r,fr),r=r_(a,r,fr)}i.memoizedProps=i.pendingProps,r===null?lh(i):Pe=r}function wo(i,r,a,l){sr=ha=null,kd(r),ao=null,Vl=0;var h=r.return;try{if(qS(i,h,r,a,qe)){pt=1,Wc(i,Qn(a,i.current)),Pe=null;return}}catch(m){if(h!==null)throw Pe=h,m;pt=1,Wc(i,Qn(a,i.current)),Pe=null;return}r.flags&32768?(Qe||l===1?i=!0:yo||qe&536870912?i=!1:(hr=i=!0,(l===2||l===3||l===6)&&(l=Wn.current,l!==null&&l.tag===13&&(l.flags|=16384))),U_(r,i)):lh(r)}function lh(i){var r=i;do{if(r.flags&32768){U_(r,hr);return}i=r.return;var a=QS(r.alternate,r,fr);if(a!==null){Pe=a;return}if(r=r.sibling,r!==null){Pe=r;return}Pe=r=i}while(r!==null);pt===0&&(pt=5)}function U_(i,r){do{var a=YS(i.alternate,i);if(a!==null){a.flags&=32767,Pe=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(i=i.sibling,i!==null)){Pe=i;return}Pe=i=a}while(i!==null);pt=6,Pe=null}function B_(i,r,a,l,h,m,w,T,D,j){var W=S.T,ne=le.p;try{le.p=2,S.T=null,n2(i,r,a,l,ne,h,m,w,T,D,j)}finally{S.T=W,le.p=ne}}function n2(i,r,a,l,h,m,w,T){do Eo();while(ga!==null);if(ut&6)throw Error(s(327));var D=i.finishedWork;if(l=i.finishedLanes,D===null)return null;if(i.finishedWork=null,i.finishedLanes=0,D===i.current)throw Error(s(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var j=D.lanes|D.childLanes;if(j|=vd,cc(i,l,j,m,w,T),i===it&&(Pe=it=null,qe=0),!(D.subtreeFlags&10256)&&!(D.flags&10256)||ah||(ah=!0,Tm=j,Am=a,a2(Fi,function(){return Eo(),null})),a=(D.flags&15990)!==0,D.subtreeFlags&15990||a?(a=S.T,S.T=null,m=le.p,le.p=2,w=ut,ut|=4,GS(i,D),__(D,i),RS(zm,i.containerInfo),wh=!!jm,zm=jm=null,i.current=D,p_(i,D.alternate,D),ul(),ut=w,le.p=m,S.T=a):i.current=D,ah?(ah=!1,ga=i,eu=l):j_(i,j),j=i.pendingLanes,j===0&&(os=null),hl(D.stateNode),Oi(i),r!==null)for(h=i.onRecoverableError,D=0;D<r.length;D++)j=r[D],h(j.value,{componentStack:j.stack});return eu&3&&Eo(),j=i.pendingLanes,l&4194218&&j&42?i===Sm?tu++:(tu=0,Sm=i):tu=0,nu(0),null}function j_(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Ul(r)))}function Eo(){if(ga!==null){var i=ga,r=Tm;Tm=0;var a=hc(eu),l=S.T,h=le.p;try{if(le.p=32>a?32:a,S.T=null,ga===null)var m=!1;else{a=Am,Am=null;var w=ga,T=eu;if(ga=null,eu=0,ut&6)throw Error(s(331));var D=ut;if(ut|=4,A_(w.current),E_(w,w.current,T,a),ut=D,nu(0,!1),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(Nr,w)}catch{}m=!0}return m}finally{le.p=h,S.T=l,j_(i,r)}}return!1}function z_(i,r,a){r=Qn(a,r),r=Kd(i.stateNode,r,2),i=ts(i,r,2),i!==null&&(vt(i,2),Oi(i))}function nt(i,r,a){if(i.tag===3)z_(i,i,a);else for(;r!==null;){if(r.tag===3){z_(r,i,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(os===null||!os.has(l))){i=Qn(a,i),a=Fv(2),l=ts(r,a,2),l!==null&&(Gv(a,l,r,i),vt(l,2),Oi(l));break}}r=r.return}}function xm(i,r,a){var l=i.pingCache;if(l===null){l=i.pingCache=new WS;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(_m=!0,h.add(a),i=i2.bind(null,i,r,a),r.then(i,i))}function i2(i,r,a){var l=i.pingCache;l!==null&&l.delete(r),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,it===i&&(qe&a)===a&&(pt===4||pt===3&&(qe&62914560)===qe&&300>En()-bm?!(ut&2)&&_o(i,0):wm|=a,vo===qe&&(vo=0)),Oi(i)}function H_(i,r){r===0&&(r=Pr()),i=Kr(i,r),i!==null&&(vt(i,r),Oi(i))}function r2(i){var r=i.memoizedState,a=0;r!==null&&(a=r.retryLane),H_(i,a)}function s2(i,r){var a=0;switch(i.tag){case 13:var l=i.stateNode,h=i.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=i.stateNode;break;case 22:l=i.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),H_(i,a)}function a2(i,r){return js(i,r)}var uh=null,bo=null,Om=!1,ch=!1,Nm=!1,ya=0;function Oi(i){i!==bo&&i.next===null&&(bo===null?uh=bo=i:bo=bo.next=i),ch=!0,Om||(Om=!0,l2(o2))}function nu(i,r){if(!Nm&&ch){Nm=!0;do for(var a=!1,l=uh;l!==null;){if(i!==0){var h=l.pendingLanes;if(h===0)var m=0;else{var w=l.suspendedLanes,T=l.pingedLanes;m=(1<<31-mn(42|i)+1)-1,m&=h&~(w&~T),m=m&201326677?m&201326677|1:m?m|2:0}m!==0&&(a=!0,G_(l,m))}else m=qe,m=zn(l,l===it?m:0),!(m&3)||Mr(l,m)||(a=!0,G_(l,m));l=l.next}while(a);Nm=!1}}function o2(){ch=Om=!1;var i=0;ya!==0&&(g2()&&(i=ya),ya=0);for(var r=En(),a=null,l=uh;l!==null;){var h=l.next,m=q_(l,r);m===0?(l.next=null,a===null?uh=h:a.next=h,h===null&&(bo=a)):(a=l,(i!==0||m&3)&&(ch=!0)),l=h}nu(i)}function q_(i,r){for(var a=i.suspendedLanes,l=i.pingedLanes,h=i.expirationTimes,m=i.pendingLanes&-62914561;0<m;){var w=31-mn(m),T=1<<w,D=h[w];D===-1?(!(T&a)||T&l)&&(h[w]=Ba(T,r)):D<=r&&(i.expiredLanes|=T),m&=~T}if(r=it,a=qe,a=zn(i,i===r?a:0),l=i.callbackNode,a===0||i===r&&rt===2||i.cancelPendingCommit!==null)return l!==null&&l!==null&&Ua(l),i.callbackNode=null,i.callbackPriority=0;if(!(a&3)||Mr(i,a)){if(r=a&-a,r===i.callbackPriority)return r;switch(l!==null&&Ua(l),hc(a)){case 2:case 8:a=zt;break;case 32:a=Fi;break;case 268435456:a=cl;break;default:a=Fi}return l=F_.bind(null,i),a=js(a,l),i.callbackPriority=r,i.callbackNode=a,r}return l!==null&&l!==null&&Ua(l),i.callbackPriority=2,i.callbackNode=null,2}function F_(i,r){var a=i.callbackNode;if(Eo()&&i.callbackNode!==a)return null;var l=qe;return l=zn(i,i===it?l:0),l===0?null:(O_(i,l,r),q_(i,En()),i.callbackNode!=null&&i.callbackNode===a?F_.bind(null,i):null)}function G_(i,r){if(Eo())return null;O_(i,r,!0)}function l2(i){v2(function(){ut&6?js(Ot,i):i()})}function km(){return ya===0&&(ya=dl()),ya}function $_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:wi(""+i)}function K_(i,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,i.id&&a.setAttribute("form",i.id),r.parentNode.insertBefore(a,r),i=new FormData(i),a.parentNode.removeChild(a),i}function u2(i,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var m=$_((h[Nt]||null).action),w=l.submitter;w&&(r=(r=w[Nt]||null)?$_(r.formAction):w.getAttribute("formAction"),r!==null&&(m=r,w=null));var T=new $a("action","action",null,l,h);i.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ya!==0){var D=w?K_(h,w):new FormData(h);Hd(a,{pending:!0,data:D,method:h.method,action:m},null,D)}}else typeof m=="function"&&(T.preventDefault(),D=w?K_(h,w):new FormData(h),Hd(a,{pending:!0,data:D,method:h.method,action:m},m,D))},currentTarget:h}]})}}for(var Mm=0;Mm<By.length;Mm++){var Pm=By[Mm],c2=Pm.toLowerCase(),h2=Pm[0].toUpperCase()+Pm.slice(1);li(c2,"on"+h2)}li(My,"onAnimationEnd"),li(Py,"onAnimationIteration"),li(Vy,"onAnimationStart"),li("dblclick","onDoubleClick"),li("focusin","onFocus"),li("focusout","onBlur"),li(IS,"onTransitionRun"),li(DS,"onTransitionStart"),li(xS,"onTransitionCancel"),li(Ly,"onTransitionEnd"),bn("onMouseEnter",["mouseout","mouseover"]),bn("onMouseLeave",["mouseout","mouseover"]),bn("onPointerEnter",["pointerout","pointerover"]),bn("onPointerLeave",["pointerout","pointerover"]),Cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var iu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(iu));function Q_(i,r){r=(r&4)!==0;for(var a=0;a<i.length;a++){var l=i[a],h=l.event;l=l.listeners;e:{var m=void 0;if(r)for(var w=l.length-1;0<=w;w--){var T=l[w],D=T.instance,j=T.currentTarget;if(T=T.listener,D!==m&&h.isPropagationStopped())break e;m=T,h.currentTarget=j;try{m(h)}catch(W){Xc(W)}h.currentTarget=null,m=D}else for(w=0;w<l.length;w++){if(T=l[w],D=T.instance,j=T.currentTarget,T=T.listener,D!==m&&h.isPropagationStopped())break e;m=T,h.currentTarget=j;try{m(h)}catch(W){Xc(W)}h.currentTarget=null,m=D}}}}function Be(i,r){var a=r[Hs];a===void 0&&(a=r[Hs]=new Set);var l=i+"__bubble";a.has(l)||(Y_(r,i,2,!1),a.add(l))}function Vm(i,r,a){var l=0;r&&(l|=4),Y_(a,i,l,r)}var hh="_reactListening"+Math.random().toString(36).slice(2);function Lm(i){if(!i[hh]){i[hh]=!0,pl.forEach(function(a){a!=="selectionchange"&&(f2.has(a)||Vm(a,!1,i),Vm(a,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[hh]||(r[hh]=!0,Vm("selectionchange",!1,r))}}function Y_(i,r,a,l){switch(vw(r)){case 2:var h=U2;break;case 8:h=B2;break;default:h=Xm}a=h.bind(null,r,a,i),h=void 0,!Gn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?i.addEventListener(r,a,{capture:!0,passive:h}):i.addEventListener(r,a,!0):h!==void 0?i.addEventListener(r,a,{passive:h}):i.addEventListener(r,a,!1)}function Um(i,r,a,l,h){var m=l;if(!(r&1)&&!(r&2)&&l!==null)e:for(;;){if(l===null)return;var w=l.tag;if(w===3||w===4){var T=l.stateNode.containerInfo;if(T===h||T.nodeType===8&&T.parentNode===h)break;if(w===4)for(w=l.return;w!==null;){var D=w.tag;if((D===3||D===4)&&(D=w.stateNode.containerInfo,D===h||D.nodeType===8&&D.parentNode===h))return;w=w.return}for(;T!==null;){if(w=oi(T),w===null)return;if(D=w.tag,D===5||D===6||D===26||D===27){l=m=w;continue e}T=T.parentNode}}l=l.return}gc(function(){var j=m,W=Ga(a),ne=[];e:{var G=Uy.get(i);if(G!==void 0){var X=$a,pe=i;switch(i){case"keypress":if(bi(a)===0)break e;case"keydown":case"keyup":X=Za;break;case"focusin":pe="focus",X=Ya;break;case"focusout":pe="blur",X=Ya;break;case"beforeblur":case"afterblur":X=Ya;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=$n;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=cd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Ac;break;case My:case Py:case Vy:X=Xa;break;case Ly:X=Rc;break;case"scroll":case"scrollend":X=yc;break;case"wheel":X=Ja;break;case"copy":case"cut":case"paste":X=Wa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Cl;break;case"toggle":case"beforetoggle":X=Ic}var Se=(r&4)!==0,gt=!Se&&(i==="scroll"||i==="scrollend"),z=Se?G!==null?G+"Capture":null:G;Se=[];for(var B=j,q;B!==null;){var J=B;if(q=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||q===null||z===null||(J=Ks(B,z),J!=null&&Se.push(ru(B,J,q))),gt)break;B=B.return}0<Se.length&&(G=new X(G,pe,null,a,W),ne.push({event:G,listeners:Se}))}}if(!(r&7)){e:{if(G=i==="mouseover"||i==="pointerover",X=i==="mouseout"||i==="pointerout",G&&a!==Fn&&(pe=a.relatedTarget||a.fromElement)&&(oi(pe)||pe[Gi]))break e;if((X||G)&&(G=W.window===W?W:(G=W.ownerDocument)?G.defaultView||G.parentWindow:window,X?(pe=a.relatedTarget||a.toElement,X=j,pe=pe?oi(pe):null,pe!==null&&(gt=me(pe),Se=pe.tag,pe!==gt||Se!==5&&Se!==27&&Se!==6)&&(pe=null)):(X=null,pe=j),X!==pe)){if(Se=$n,J="onMouseLeave",z="onMouseEnter",B="mouse",(i==="pointerout"||i==="pointerover")&&(Se=Cl,J="onPointerLeave",z="onPointerEnter",B="pointer"),gt=X==null?G:jr(X),q=pe==null?G:jr(pe),G=new Se(J,B+"leave",X,a,W),G.target=gt,G.relatedTarget=q,J=null,oi(W)===j&&(Se=new Se(z,B+"enter",pe,a,W),Se.target=q,Se.relatedTarget=gt,J=Se),gt=J,X&&pe)t:{for(Se=X,z=pe,B=0,q=Se;q;q=To(q))B++;for(q=0,J=z;J;J=To(J))q++;for(;0<B-q;)Se=To(Se),B--;for(;0<q-B;)z=To(z),q--;for(;B--;){if(Se===z||z!==null&&Se===z.alternate)break t;Se=To(Se),z=To(z)}Se=null}else Se=null;X!==null&&X_(ne,G,X,Se,!1),pe!==null&&gt!==null&&X_(ne,gt,pe,Se,!0)}}e:{if(G=j?jr(j):window,X=G.nodeName&&G.nodeName.toLowerCase(),X==="select"||X==="input"&&G.type==="file")var fe=Ty;else if(Mt(G))if(Ay)fe=AS;else{fe=bS;var ke=ES}else X=G.nodeName,!X||X.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?j&&wl(j.elementType)&&(fe=Ty):fe=TS;if(fe&&(fe=fe(i,j))){Ji(ne,fe,a,W);break e}ke&&ke(i,G,j),i==="focusout"&&j&&G.type==="number"&&j.memoizedProps.value!=null&&Fa(G,"number",G.value)}switch(ke=j?jr(j):window,i){case"focusin":(Mt(ke)||ke.contentEditable==="true")&&(eo=ke,pd=j,xl=null);break;case"focusout":xl=pd=eo=null;break;case"mousedown":gd=!0;break;case"contextmenu":case"mouseup":case"dragend":gd=!1,Ny(ne,a,W);break;case"selectionchange":if(CS)break;case"keydown":case"keyup":Ny(ne,a,W)}var ye;if(Si)e:{switch(i){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else ze?Q(i,a)&&(Ee="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(_&&a.locale!=="ko"&&(ze||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&ze&&(ye=bl()):(Ei=W,$r="value"in Ei?Ei.value:Ei.textContent,ze=!0)),ke=fh(j,Ee),0<ke.length&&(Ee=new Sl(Ee,i,null,a,W),ne.push({event:Ee,listeners:ke}),ye?Ee.data=ye:(ye=se(a),ye!==null&&(Ee.data=ye)))),(ye=y?kt(i,a):He(i,a))&&(Ee=fh(j,"onBeforeInput"),0<Ee.length&&(ke=new Sl("onBeforeInput","beforeinput",null,a,W),ne.push({event:ke,listeners:Ee}),ke.data=ye)),u2(ne,i,j,a,W)}Q_(ne,r)})}function ru(i,r,a){return{instance:i,listener:r,currentTarget:a}}function fh(i,r){for(var a=r+"Capture",l=[];i!==null;){var h=i,m=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=Ks(i,a),h!=null&&l.unshift(ru(i,h,m)),h=Ks(i,r),h!=null&&l.push(ru(i,h,m))),i=i.return}return l}function To(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function X_(i,r,a,l,h){for(var m=r._reactName,w=[];a!==null&&a!==l;){var T=a,D=T.alternate,j=T.stateNode;if(T=T.tag,D!==null&&D===l)break;T!==5&&T!==26&&T!==27||j===null||(D=j,h?(j=Ks(a,m),j!=null&&w.unshift(ru(a,j,D))):h||(j=Ks(a,m),j!=null&&w.push(ru(a,j,D)))),a=a.return}w.length!==0&&i.push({event:r,listeners:w})}var d2=/\r\n?/g,m2=/\u0000|\uFFFD/g;function W_(i){return(typeof i=="string"?i:""+i).replace(d2,`
`).replace(m2,"")}function Z_(i,r){return r=W_(r),W_(i)===r}function dh(){}function tt(i,r,a,l,h,m){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||qn(i,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&qn(i,""+l);break;case"className":qr(i,"class",l);break;case"tabIndex":qr(i,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":qr(i,a,l);break;case"style":pc(i,l,m);break;case"data":if(r!=="object"){qr(i,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){i.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=wi(""+l),i.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(r!=="input"&&tt(i,r,"name",h.name,h,null),tt(i,r,"formEncType",h.formEncType,h,null),tt(i,r,"formMethod",h.formMethod,h,null),tt(i,r,"formTarget",h.formTarget,h,null)):(tt(i,r,"encType",h.encType,h,null),tt(i,r,"method",h.method,h,null),tt(i,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=wi(""+l),i.setAttribute(a,l);break;case"onClick":l!=null&&(i.onclick=dh);break;case"onScroll":l!=null&&Be("scroll",i);break;case"onScrollEnd":l!=null&&Be("scrollend",i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"multiple":i.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":i.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){i.removeAttribute("xlink:href");break}a=wi(""+l),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""+l):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":l===!0?i.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,l):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?i.setAttribute(a,l):i.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?i.removeAttribute(a):i.setAttribute(a,l);break;case"popover":Be("beforetoggle",i),Be("toggle",i),Hr(i,"popover",l);break;case"xlinkActuate":Hn(i,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Hn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Hn(i,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Hn(i,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Hn(i,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Hn(i,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Hn(i,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Hn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Hn(i,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Hr(i,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ld.get(a)||a,Hr(i,a,l))}}function Bm(i,r,a,l,h,m){switch(a){case"style":pc(i,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"children":typeof l=="string"?qn(i,l):(typeof l=="number"||typeof l=="bigint")&&qn(i,""+l);break;case"onScroll":l!=null&&Be("scroll",i);break;case"onScrollEnd":l!=null&&Be("scrollend",i);break;case"onClick":l!=null&&(i.onclick=dh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ha.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),m=i[Nt]||null,m=m!=null?m[a]:null,typeof m=="function"&&i.removeEventListener(r,m,h),typeof l=="function")){typeof m!="function"&&m!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(r,l,h);break e}a in i?i[a]=l:l===!0?i.setAttribute(a,""):Hr(i,a,l)}}}function Jt(i,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",i),Be("load",i);var l=!1,h=!1,m;for(m in a)if(a.hasOwnProperty(m)){var w=a[m];if(w!=null)switch(m){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:tt(i,r,m,w,a,null)}}h&&tt(i,r,"srcSet",a.srcSet,a,null),l&&tt(i,r,"src",a.src,a,null);return;case"input":Be("invalid",i);var T=m=w=h=null,D=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":h=W;break;case"type":w=W;break;case"checked":D=W;break;case"defaultChecked":j=W;break;case"value":m=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:tt(i,r,l,W,a,null)}}Gs(i,m,T,D,j,w,h,!1),Fs(i);return;case"select":Be("invalid",i),l=w=m=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":m=T;break;case"defaultValue":w=T;break;case"multiple":l=T;default:tt(i,r,h,T,a,null)}r=m,a=w,i.multiple=!!l,r!=null?Ke(i,!!l,r,!1):a!=null&&Ke(i,!!l,a,!0);return;case"textarea":Be("invalid",i),m=h=l=null;for(w in a)if(a.hasOwnProperty(w)&&(T=a[w],T!=null))switch(w){case"value":l=T;break;case"defaultValue":h=T;break;case"children":m=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:tt(i,r,w,T,a,null)}Gr(i,l,h,m),Fs(i);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":i.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:tt(i,r,D,l,a,null)}return;case"dialog":Be("cancel",i),Be("close",i);break;case"iframe":case"object":Be("load",i);break;case"video":case"audio":for(l=0;l<iu.length;l++)Be(iu[l],i);break;case"image":Be("error",i),Be("load",i);break;case"details":Be("toggle",i);break;case"embed":case"source":case"link":Be("error",i),Be("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:tt(i,r,j,l,a,null)}return;default:if(wl(r)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&Bm(i,r,W,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&tt(i,r,T,l,a,null))}function p2(i,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,w=null,T=null,D=null,j=null,W=null;for(X in a){var ne=a[X];if(a.hasOwnProperty(X)&&ne!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":D=ne;default:l.hasOwnProperty(X)||tt(i,r,X,null,l,ne)}}for(var G in l){var X=l[G];if(ne=a[G],l.hasOwnProperty(G)&&(X!=null||ne!=null))switch(G){case"type":m=X;break;case"name":h=X;break;case"checked":j=X;break;case"defaultChecked":W=X;break;case"value":w=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:X!==ne&&tt(i,r,G,X,l,ne)}}Fr(i,w,T,D,j,W,m,h);return;case"select":X=w=T=G=null;for(m in a)if(D=a[m],a.hasOwnProperty(m)&&D!=null)switch(m){case"value":break;case"multiple":X=D;default:l.hasOwnProperty(m)||tt(i,r,m,null,l,D)}for(h in l)if(m=l[h],D=a[h],l.hasOwnProperty(h)&&(m!=null||D!=null))switch(h){case"value":G=m;break;case"defaultValue":T=m;break;case"multiple":w=m;default:m!==D&&tt(i,r,h,m,l,D)}r=T,a=w,l=X,G!=null?Ke(i,!!a,G,!1):!!l!=!!a&&(r!=null?Ke(i,!!a,r,!0):Ke(i,!!a,a?[]:"",!1));return;case"textarea":X=G=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:tt(i,r,T,null,l,h)}for(w in l)if(h=l[w],m=a[w],l.hasOwnProperty(w)&&(h!=null||m!=null))switch(w){case"value":G=h;break;case"defaultValue":X=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==m&&tt(i,r,w,h,l,m)}$s(i,G,X);return;case"option":for(var pe in a)if(G=a[pe],a.hasOwnProperty(pe)&&G!=null&&!l.hasOwnProperty(pe))switch(pe){case"selected":i.selected=!1;break;default:tt(i,r,pe,null,l,G)}for(D in l)if(G=l[D],X=a[D],l.hasOwnProperty(D)&&G!==X&&(G!=null||X!=null))switch(D){case"selected":i.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:tt(i,r,D,G,l,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in a)G=a[Se],a.hasOwnProperty(Se)&&G!=null&&!l.hasOwnProperty(Se)&&tt(i,r,Se,null,l,G);for(j in l)if(G=l[j],X=a[j],l.hasOwnProperty(j)&&G!==X&&(G!=null||X!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:tt(i,r,j,G,l,X)}return;default:if(wl(r)){for(var gt in a)G=a[gt],a.hasOwnProperty(gt)&&G!==void 0&&!l.hasOwnProperty(gt)&&Bm(i,r,gt,void 0,l,G);for(W in l)G=l[W],X=a[W],!l.hasOwnProperty(W)||G===X||G===void 0&&X===void 0||Bm(i,r,W,G,l,X);return}}for(var z in a)G=a[z],a.hasOwnProperty(z)&&G!=null&&!l.hasOwnProperty(z)&&tt(i,r,z,null,l,G);for(ne in l)G=l[ne],X=a[ne],!l.hasOwnProperty(ne)||G===X||G==null&&X==null||tt(i,r,ne,G,l,X)}var jm=null,zm=null;function mh(i){return i.nodeType===9?i:i.ownerDocument}function J_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ew(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Hm(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var qm=null;function g2(){var i=window.event;return i&&i.type==="popstate"?i===qm?!1:(qm=i,!0):(qm=null,!1)}var tw=typeof setTimeout=="function"?setTimeout:void 0,y2=typeof clearTimeout=="function"?clearTimeout:void 0,nw=typeof Promise=="function"?Promise:void 0,v2=typeof queueMicrotask=="function"?queueMicrotask:typeof nw<"u"?function(i){return nw.resolve(null).then(i).catch(_2)}:tw;function _2(i){setTimeout(function(){throw i})}function Fm(i,r){var a=r,l=0;do{var h=a.nextSibling;if(i.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){i.removeChild(h),fu(r);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);fu(r)}function Gm(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Gm(a),qs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function w2(i,r,a,l){for(;i.nodeType===1;){var h=a;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(l){if(!i[Br])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(m=i.getAttribute("rel"),m==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(m!==h.rel||i.getAttribute("href")!==(h.href==null?null:h.href)||i.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||i.getAttribute("title")!==(h.title==null?null:h.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(m=i.getAttribute("src"),(m!==(h.src==null?null:h.src)||i.getAttribute("type")!==(h.type==null?null:h.type)||i.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&i.getAttribute("name")===m)return i}else return i;if(i=hi(i.nextSibling),i===null)break}return null}function E2(i,r,a){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=hi(i.nextSibling),i===null))return null;return i}function hi(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}function iw(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return i;r--}else a==="/$"&&r++}i=i.previousSibling}return null}function rw(i,r,a){switch(r=mh(a),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}var ni=new Map,sw=new Set;function ph(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var mr=le.d;le.d={f:b2,r:T2,D:A2,C:S2,L:R2,m:C2,X:D2,S:I2,M:x2};function b2(){var i=mr.f(),r=oh();return i||r}function T2(i){var r=$i(i);r!==null&&r.tag===5&&r.type==="form"?Nv(r):mr.r(i)}var Ao=typeof document>"u"?null:document;function aw(i,r,a){var l=Ao;if(l&&typeof r=="string"&&r){var h=dt(r);h='link[rel="'+i+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),sw.has(h)||(sw.add(h),i={rel:i,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),Jt(r,"link",i),ot(r),l.head.appendChild(r)))}}function A2(i){mr.D(i),aw("dns-prefetch",i,null)}function S2(i,r){mr.C(i,r),aw("preconnect",i,r)}function R2(i,r,a){mr.L(i,r,a);var l=Ao;if(l&&i&&r){var h='link[rel="preload"][as="'+dt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+dt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+dt(a.imageSizes)+'"]')):h+='[href="'+dt(i)+'"]';var m=h;switch(r){case"style":m=So(i);break;case"script":m=Ro(i)}ni.has(m)||(i=O({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:i,as:r},a),ni.set(m,i),l.querySelector(h)!==null||r==="style"&&l.querySelector(su(m))||r==="script"&&l.querySelector(au(m))||(r=l.createElement("link"),Jt(r,"link",i),ot(r),l.head.appendChild(r)))}}function C2(i,r){mr.m(i,r);var a=Ao;if(a&&i){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+dt(l)+'"][href="'+dt(i)+'"]',m=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Ro(i)}if(!ni.has(m)&&(i=O({rel:"modulepreload",href:i},r),ni.set(m,i),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(au(m)))return}l=a.createElement("link"),Jt(l,"link",i),ot(l),a.head.appendChild(l)}}}function I2(i,r,a){mr.S(i,r,a);var l=Ao;if(l&&i){var h=zr(l).hoistableStyles,m=So(i);r=r||"default";var w=h.get(m);if(!w){var T={loading:0,preload:null};if(w=l.querySelector(su(m)))T.loading=5;else{i=O({rel:"stylesheet",href:i,"data-precedence":r},a),(a=ni.get(m))&&$m(i,a);var D=w=l.createElement("link");ot(D),Jt(D,"link",i),D._p=new Promise(function(j,W){D.onload=j,D.onerror=W}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,gh(w,r,l)}w={type:"stylesheet",instance:w,count:1,state:T},h.set(m,w)}}}function D2(i,r){mr.X(i,r);var a=Ao;if(a&&i){var l=zr(a).hoistableScripts,h=Ro(i),m=l.get(h);m||(m=a.querySelector(au(h)),m||(i=O({src:i,async:!0},r),(r=ni.get(h))&&Km(i,r),m=a.createElement("script"),ot(m),Jt(m,"link",i),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function x2(i,r){mr.M(i,r);var a=Ao;if(a&&i){var l=zr(a).hoistableScripts,h=Ro(i),m=l.get(h);m||(m=a.querySelector(au(h)),m||(i=O({src:i,async:!0,type:"module"},r),(r=ni.get(h))&&Km(i,r),m=a.createElement("script"),ot(m),Jt(m,"link",i),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function ow(i,r,a,l){var h=(h=jn.current)?ph(h):null;if(!h)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=So(a.href),a=zr(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=So(a.href);var m=zr(h).hoistableStyles,w=m.get(i);if(w||(h=h.ownerDocument||h,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(i,w),(m=h.querySelector(su(i)))&&!m._p&&(w.instance=m,w.state.loading=5),ni.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ni.set(i,a),m||O2(h,i,a,w.state))),r&&l===null)throw Error(s(528,""));return w}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ro(a),a=zr(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function So(i){return'href="'+dt(i)+'"'}function su(i){return'link[rel="stylesheet"]['+i+"]"}function lw(i){return O({},i,{"data-precedence":i.precedence,precedence:null})}function O2(i,r,a,l){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=i.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Jt(r,"link",a),ot(r),i.head.appendChild(r))}function Ro(i){return'[src="'+dt(i)+'"]'}function au(i){return"script[async]"+i}function uw(i,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=i.querySelector('style[data-href~="'+dt(a.href)+'"]');if(l)return r.instance=l,ot(l),l;var h=O({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(i.ownerDocument||i).createElement("style"),ot(l),Jt(l,"style",h),gh(l,a.precedence,i),r.instance=l;case"stylesheet":h=So(a.href);var m=i.querySelector(su(h));if(m)return r.state.loading|=4,r.instance=m,ot(m),m;l=lw(a),(h=ni.get(h))&&$m(l,h),m=(i.ownerDocument||i).createElement("link"),ot(m);var w=m;return w._p=new Promise(function(T,D){w.onload=T,w.onerror=D}),Jt(m,"link",l),r.state.loading|=4,gh(m,a.precedence,i),r.instance=m;case"script":return m=Ro(a.src),(h=i.querySelector(au(m)))?(r.instance=h,ot(h),h):(l=a,(h=ni.get(m))&&(l=O({},a),Km(l,h)),i=i.ownerDocument||i,h=i.createElement("script"),ot(h),Jt(h,"link",l),i.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&!(r.state.loading&4)&&(l=r.instance,r.state.loading|=4,gh(l,a.precedence,i));return r.instance}function gh(i,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,m=h,w=0;w<l.length;w++){var T=l[w];if(T.dataset.precedence===r)m=T;else if(m!==h)break}m?m.parentNode.insertBefore(i,m.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(i,r.firstChild))}function $m(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Km(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var yh=null;function cw(i,r,a){if(yh===null){var l=new Map,h=yh=new Map;h.set(a,l)}else h=yh,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(i))return l;for(l.set(i,null),a=a.getElementsByTagName(i),h=0;h<a.length;h++){var m=a[h];if(!(m[Br]||m[Ht]||i==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var w=m.getAttribute(r)||"";w=i+w;var T=l.get(w);T?T.push(m):l.set(w,[m])}}return l}function hw(i,r,a){i=i.ownerDocument||i,i.head.insertBefore(a,r==="title"?i.querySelector("head > title"):null)}function N2(i,r,a){if(a===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function fw(i){return!(i.type==="stylesheet"&&!(i.state.loading&3))}var ou=null;function k2(){}function M2(i,r,a){if(ou===null)throw Error(s(475));var l=ou;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(r.state.loading&4)){if(r.instance===null){var h=So(a.href),m=i.querySelector(su(h));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(l.count++,l=vh.bind(l),i.then(l,l)),r.state.loading|=4,r.instance=m,ot(m);return}m=i.ownerDocument||i,a=lw(a),(h=ni.get(h))&&$m(a,h),m=m.createElement("link"),ot(m);var w=m;w._p=new Promise(function(T,D){w.onload=T,w.onerror=D}),Jt(m,"link",a),r.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,i),(i=r.state.preload)&&!(r.state.loading&3)&&(l.count++,r=vh.bind(l),i.addEventListener("load",r),i.addEventListener("error",r))}}function P2(){if(ou===null)throw Error(s(475));var i=ou;return i.stylesheets&&i.count===0&&Qm(i,i.stylesheets),0<i.count?function(r){var a=setTimeout(function(){if(i.stylesheets&&Qm(i,i.stylesheets),i.unsuspend){var l=i.unsuspend;i.unsuspend=null,l()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(a)}}:null}function vh(){if(this.count--,this.count===0){if(this.stylesheets)Qm(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var _h=null;function Qm(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,_h=new Map,r.forEach(V2,i),_h=null,vh.call(i))}function V2(i,r){if(!(r.state.loading&4)){var a=_h.get(i);if(a)var l=a.get(null);else{a=new Map,_h.set(i,a);for(var h=i.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var w=h[m];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(a.set(w.dataset.precedence,w),l=w)}l&&a.set(null,l)}h=r.instance,w=h.getAttribute("data-precedence"),m=a.get(w)||l,m===l&&a.set(null,h),a.set(w,h),this.count++,l=vh.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),m?m.parentNode.insertBefore(h,m.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(h,i.firstChild)),r.state.loading|=4}}var lu={$$typeof:R,Provider:null,Consumer:null,_currentValue:xe,_currentValue2:xe,_threadCount:0};function L2(i,r,a,l,h,m,w,T){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ja(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ja(0),this.hiddenUpdates=ja(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function dw(i,r,a,l,h,m,w,T,D,j,W,ne){return i=new L2(i,r,a,w,T,D,j,ne),r=1,m===!0&&(r|=24),m=ei(3,null,null,r),i.current=m,m.stateNode=i,r=Rd(),r.refCount++,i.pooledCache=r,r.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:r},am(m),i}function mw(i){return i?(i=io,i):io}function pw(i,r,a,l,h,m){h=mw(h),l.context===null?l.context=h:l.pendingContext=h,l=es(r),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=ts(i,l,r),a!==null&&(vn(a,i,r),Gl(a,i,r))}function gw(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<r?a:r}}function Ym(i,r){gw(i,r),(i=i.alternate)&&gw(i,r)}function yw(i){if(i.tag===13){var r=Kr(i,67108864);r!==null&&vn(r,i,67108864),Ym(i,67108864)}}var wh=!0;function U2(i,r,a,l){var h=S.T;S.T=null;var m=le.p;try{le.p=2,Xm(i,r,a,l)}finally{le.p=m,S.T=h}}function B2(i,r,a,l){var h=S.T;S.T=null;var m=le.p;try{le.p=8,Xm(i,r,a,l)}finally{le.p=m,S.T=h}}function Xm(i,r,a,l){if(wh){var h=Wm(l);if(h===null)Um(i,r,l,Eh,a),_w(i,l);else if(z2(h,i,r,a,l))l.stopPropagation();else if(_w(i,l),r&4&&-1<j2.indexOf(i)){for(;h!==null;){var m=$i(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var w=ai(m.pendingLanes);if(w!==0){var T=m;for(T.pendingLanes|=2,T.entangledLanes|=2;w;){var D=1<<31-mn(w);T.entanglements[1]|=D,w&=~D}Oi(m),!(ut&6)&&(rh=En()+500,nu(0))}}break;case 13:T=Kr(m,2),T!==null&&vn(T,m,2),oh(),Ym(m,2)}if(m=Wm(l),m===null&&Um(i,r,l,Eh,a),m===h)break;h=m}h!==null&&l.stopPropagation()}else Um(i,r,l,null,a)}}function Wm(i){return i=Ga(i),Zm(i)}var Eh=null;function Zm(i){if(Eh=null,i=oi(i),i!==null){var r=me(i);if(r===null)i=null;else{var a=r.tag;if(a===13){if(i=Ne(r),i!==null)return i;i=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Eh=i,null}function vw(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ac()){case Ot:return 2;case zt:return 8;case Fi:case oc:return 32;case cl:return 268435456;default:return 32}default:return 32}}var Jm=!1,ls=null,us=null,cs=null,uu=new Map,cu=new Map,hs=[],j2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _w(i,r){switch(i){case"focusin":case"focusout":ls=null;break;case"dragenter":case"dragleave":us=null;break;case"mouseover":case"mouseout":cs=null;break;case"pointerover":case"pointerout":uu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":cu.delete(r.pointerId)}}function hu(i,r,a,l,h,m){return i===null||i.nativeEvent!==m?(i={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[h]},r!==null&&(r=$i(r),r!==null&&yw(r)),i):(i.eventSystemFlags|=l,r=i.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),i)}function z2(i,r,a,l,h){switch(r){case"focusin":return ls=hu(ls,i,r,a,l,h),!0;case"dragenter":return us=hu(us,i,r,a,l,h),!0;case"mouseover":return cs=hu(cs,i,r,a,l,h),!0;case"pointerover":var m=h.pointerId;return uu.set(m,hu(uu.get(m)||null,i,r,a,l,h)),!0;case"gotpointercapture":return m=h.pointerId,cu.set(m,hu(cu.get(m)||null,i,r,a,l,h)),!0}return!1}function ww(i){var r=oi(i.target);if(r!==null){var a=me(r);if(a!==null){if(r=a.tag,r===13){if(r=Ne(a),r!==null){i.blockedOn=r,Ur(i.priority,function(){if(a.tag===13){var l=kn(),h=Kr(a,l);h!==null&&vn(h,a,l),Ym(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function bh(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var a=Wm(i.nativeEvent);if(a===null){a=i.nativeEvent;var l=new a.constructor(a.type,a);Fn=l,a.target.dispatchEvent(l),Fn=null}else return r=$i(a),r!==null&&yw(r),i.blockedOn=a,!1;r.shift()}return!0}function Ew(i,r,a){bh(i)&&a.delete(r)}function H2(){Jm=!1,ls!==null&&bh(ls)&&(ls=null),us!==null&&bh(us)&&(us=null),cs!==null&&bh(cs)&&(cs=null),uu.forEach(Ew),cu.forEach(Ew)}function Th(i,r){i.blockedOn===r&&(i.blockedOn=null,Jm||(Jm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,H2)))}var Ah=null;function bw(i){Ah!==i&&(Ah=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Ah===i&&(Ah=null);for(var r=0;r<i.length;r+=3){var a=i[r],l=i[r+1],h=i[r+2];if(typeof l!="function"){if(Zm(l||a)===null)continue;break}var m=$i(a);m!==null&&(i.splice(r,3),r-=3,Hd(m,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function fu(i){function r(D){return Th(D,i)}ls!==null&&Th(ls,i),us!==null&&Th(us,i),cs!==null&&Th(cs,i),uu.forEach(r),cu.forEach(r);for(var a=0;a<hs.length;a++){var l=hs[a];l.blockedOn===i&&(l.blockedOn=null)}for(;0<hs.length&&(a=hs[0],a.blockedOn===null);)ww(a),a.blockedOn===null&&hs.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],m=a[l+1],w=h[Nt]||null;if(typeof m=="function")w||bw(a);else if(w){var T=null;if(m&&m.hasAttribute("formAction")){if(h=m,w=m[Nt]||null)T=w.formAction;else if(Zm(h)!==null)continue}else T=w.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),bw(a)}}}function ep(i){this._internalRoot=i}Sh.prototype.render=ep.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=kn();pw(a,l,i,r,null,null)},Sh.prototype.unmount=ep.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;i.tag===0&&Eo(),pw(i.current,2,null,i,null,null),oh(),r[Gi]=null}};function Sh(i){this._internalRoot=i}Sh.prototype.unstable_scheduleHydration=function(i){if(i){var r=fc();i={blockedOn:null,target:i,priority:r};for(var a=0;a<hs.length&&r!==0&&r<hs[a].priority;a++);hs.splice(a,0,i),a===0&&ww(i)}};var Tw=e.version;if(Tw!=="19.0.0")throw Error(s(527,Tw,"19.0.0"));le.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=ie(r),i=i!==null?de(i):null,i=i===null?null:i.stateNode,i};var q2={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:oi,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rh.isDisabled&&Rh.supportsFiber)try{Nr=Rh.inject(q2),rn=Rh}catch{}}return mu.createRoot=function(i,r){if(!o(i))throw Error(s(299));var a=!1,l="",h=jv,m=zv,w=Hv,T=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(w=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=dw(i,1,!1,null,null,a,l,h,m,w,T,null),i[Gi]=r.current,Lm(i.nodeType===8?i.parentNode:i),new ep(r)},mu.hydrateRoot=function(i,r,a){if(!o(i))throw Error(s(299));var l=!1,h="",m=jv,w=zv,T=Hv,D=null,j=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(w=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(j=a.formState)),r=dw(i,1,!0,r,a??null,l,h,m,w,T,D,j),r.context=mw(null),a=r.current,l=kn(),h=es(l),h.callback=null,ts(a,h,l),r.current.lanes=l,vt(r,l),Oi(r),i[Gi]=r.current,Lm(i),new Sh(r)},mu.version="19.0.0",mu}var kw;function e1(){if(kw)return ip.exports;kw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ip.exports=J2(),ip.exports}var t1=e1(),pu={},Mw;function n1(){if(Mw)return pu;Mw=1,Object.defineProperty(pu,"__esModule",{value:!0}),pu.parse=f,pu.serialize=g;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function f(b,R){const x=new u,L=b.length;if(L<2)return x;const M=(R==null?void 0:R.decode)||v;let K=0;do{const Z=b.indexOf("=",K);if(Z===-1)break;const $=b.indexOf(";",K),oe=$===-1?L:$;if(Z>oe){K=b.lastIndexOf(";",Z-1)+1;continue}const ae=p(b,K,Z),we=d(b,Z,ae),U=b.slice(ae,we);if(x[U]===void 0){let C=p(b,Z+1,oe),S=d(b,oe,C);const O=M(b.slice(C,S));x[U]=O}K=oe+1}while(K<L);return x}function p(b,R,x){do{const L=b.charCodeAt(R);if(L!==32&&L!==9)return R}while(++R<x);return x}function d(b,R,x){for(;R>x;){const L=b.charCodeAt(--R);if(L!==32&&L!==9)return R+1}return x}function g(b,R,x){const L=(x==null?void 0:x.encode)||encodeURIComponent;if(!n.test(b))throw new TypeError(`argument name is invalid: ${b}`);const M=L(R);if(!e.test(M))throw new TypeError(`argument val is invalid: ${R}`);let K=b+"="+M;if(!x)return K;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);K+="; Max-Age="+x.maxAge}if(x.domain){if(!t.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);K+="; Domain="+x.domain}if(x.path){if(!s.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);K+="; Path="+x.path}if(x.expires){if(!E(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);K+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(K+="; HttpOnly"),x.secure&&(K+="; Secure"),x.partitioned&&(K+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":K+="; Priority=Low";break;case"medium":K+="; Priority=Medium";break;case"high":K+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":K+="; SameSite=Strict";break;case"lax":K+="; SameSite=Lax";break;case"none":K+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return K}function v(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function E(b){return o.call(b)==="[object Date]"}return pu}n1();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Pw="popstate";function i1(n={}){function e(s,o){let{pathname:u,search:f,hash:p}=s.location;return bp("",{pathname:u,search:f,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:Du(o)}return s1(e,t,null,n)}function ct(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function mi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function r1(){return Math.random().toString(36).substring(2,10)}function Vw(n,e){return{usr:n.state,key:n.key,idx:e}}function bp(n,e,t=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Yo(e):e,state:t,key:e&&e.key||s||r1()}}function Du({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Yo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function s1(n,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,p="POP",d=null,g=v();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function v(){return(f.state||{idx:null}).idx}function E(){p="POP";let M=v(),K=M==null?null:M-g;g=M,d&&d({action:p,location:L.location,delta:K})}function b(M,K){p="PUSH";let Z=bp(L.location,M,K);g=v()+1;let $=Vw(Z,g),oe=L.createHref(Z);try{f.pushState($,"",oe)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;o.location.assign(oe)}u&&d&&d({action:p,location:L.location,delta:1})}function R(M,K){p="REPLACE";let Z=bp(L.location,M,K);g=v();let $=Vw(Z,g),oe=L.createHref(Z);f.replaceState($,"",oe),u&&d&&d({action:p,location:L.location,delta:0})}function x(M){let K=o.location.origin!=="null"?o.location.origin:o.location.href,Z=typeof M=="string"?M:Du(M);return Z=Z.replace(/ $/,"%20"),ct(K,`No window.location.(origin|href) available to create URL for href: ${Z}`),new URL(Z,K)}let L={get action(){return p},get location(){return n(o,f)},listen(M){if(d)throw new Error("A history only accepts one active listener");return o.addEventListener(Pw,E),d=M,()=>{o.removeEventListener(Pw,E),d=null}},createHref(M){return e(o,M)},createURL:x,encodeLocation(M){let K=x(M);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:b,replace:R,go(M){return f.go(M)}};return L}function CE(n,e,t="/"){return a1(n,e,t,!1)}function a1(n,e,t,s){let o=typeof e=="string"?Yo(e):e,u=Rs(o.pathname||"/",t);if(u==null)return null;let f=IE(n);o1(f);let p=null;for(let d=0;p==null&&d<f.length;++d){let g=v1(u);p=g1(f[d],g,s)}return p}function IE(n,e=[],t=[],s=""){let o=(u,f,p)=>{let d={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};d.relativePath.startsWith("/")&&(ct(d.relativePath.startsWith(s),`Absolute route path "${d.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(s.length));let g=_r([s,d.relativePath]),v=t.concat(d);u.children&&u.children.length>0&&(ct(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),IE(u.children,e,v,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:m1(g,u.index),routesMeta:v})};return n.forEach((u,f)=>{var p;if(u.path===""||!((p=u.path)!=null&&p.includes("?")))o(u,f);else for(let d of DE(u.path))o(u,f,d)}),e}function DE(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=DE(s.join("/")),p=[];return p.push(...f.map(d=>d===""?u:[u,d].join("/"))),o&&p.push(...f),p.map(d=>n.startsWith("/")&&d===""?"/":d)}function o1(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:p1(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var l1=/^:[\w-]+$/,u1=3,c1=2,h1=1,f1=10,d1=-2,Lw=n=>n==="*";function m1(n,e){let t=n.split("/"),s=t.length;return t.some(Lw)&&(s+=d1),e&&(s+=c1),t.filter(o=>!Lw(o)).reduce((o,u)=>o+(l1.test(u)?u1:u===""?h1:f1),s)}function p1(n,e){return n.length===e.length&&n.slice(0,-1).every((s,o)=>s===e[o])?n[n.length-1]-e[e.length-1]:0}function g1(n,e,t=!1){let{routesMeta:s}=n,o={},u="/",f=[];for(let p=0;p<s.length;++p){let d=s[p],g=p===s.length-1,v=u==="/"?e:e.slice(u.length)||"/",E=Kh({path:d.relativePath,caseSensitive:d.caseSensitive,end:g},v),b=d.route;if(!E&&g&&t&&!s[s.length-1].route.index&&(E=Kh({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},v)),!E)return null;Object.assign(o,E.params),f.push({params:o,pathname:_r([u,E.pathname]),pathnameBase:b1(_r([u,E.pathnameBase])),route:b}),E.pathnameBase!=="/"&&(u=_r([u,E.pathnameBase]))}return f}function Kh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=y1(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:E},b)=>{if(v==="*"){let x=p[b]||"";f=u.slice(0,u.length-x.length).replace(/(.)\/+$/,"$1")}const R=p[b];return E&&!R?g[v]=void 0:g[v]=(R||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:n}}function y1(n,e=!1,t=!0){mi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,d)=>(s.push({paramName:p,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(s.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function v1(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return mi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Rs(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}function _1(n,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof n=="string"?Yo(n):n;return{pathname:t?t.startsWith("/")?t:w1(t,e):e,search:T1(s),hash:A1(o)}}function w1(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function op(n,e,t,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function E1(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function xE(n){let e=E1(n);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function OE(n,e,t,s=!1){let o;typeof n=="string"?o=Yo(n):(o={...n},ct(!o.pathname||!o.pathname.includes("?"),op("?","pathname","search",o)),ct(!o.pathname||!o.pathname.includes("#"),op("#","pathname","hash",o)),ct(!o.search||!o.search.includes("#"),op("#","search","hash",o)));let u=n===""||o.pathname==="",f=u?"/":o.pathname,p;if(f==null)p=t;else{let E=e.length-1;if(!s&&f.startsWith("..")){let b=f.split("/");for(;b[0]==="..";)b.shift(),E-=1;o.pathname=b.join("/")}p=E>=0?e[E]:"/"}let d=_1(o,p),g=f&&f!=="/"&&f.endsWith("/"),v=(u||f===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(g||v)&&(d.pathname+="/"),d}var _r=n=>n.join("/").replace(/\/\/+/g,"/"),b1=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),T1=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,A1=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function S1(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var NE=["POST","PUT","PATCH","DELETE"];new Set(NE);var R1=["GET",...NE];new Set(R1);var Xo=F.createContext(null);Xo.displayName="DataRouter";var Sf=F.createContext(null);Sf.displayName="DataRouterState";var kE=F.createContext({isTransitioning:!1});kE.displayName="ViewTransition";var C1=F.createContext(new Map);C1.displayName="Fetchers";var I1=F.createContext(null);I1.displayName="Await";var ji=F.createContext(null);ji.displayName="Navigation";var ju=F.createContext(null);ju.displayName="Location";var zi=F.createContext({outlet:null,matches:[],isDataRoute:!1});zi.displayName="Route";var ig=F.createContext(null);ig.displayName="RouteError";function D1(n,{relative:e}={}){ct(zu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=F.useContext(ji),{hash:o,pathname:u,search:f}=Hu(n,{relative:e}),p=u;return t!=="/"&&(p=u==="/"?t:_r([t,u])),s.createHref({pathname:p,search:f,hash:o})}function zu(){return F.useContext(ju)!=null}function Ms(){return ct(zu(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(ju).location}var ME="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function PE(n){F.useContext(ji).static||F.useLayoutEffect(n)}function Oa(){let{isDataRoute:n}=F.useContext(zi);return n?q1():x1()}function x1(){ct(zu(),"useNavigate() may be used only in the context of a <Router> component.");let n=F.useContext(Xo),{basename:e,navigator:t}=F.useContext(ji),{matches:s}=F.useContext(zi),{pathname:o}=Ms(),u=JSON.stringify(xE(s)),f=F.useRef(!1);return PE(()=>{f.current=!0}),F.useCallback((d,g={})=>{if(mi(f.current,ME),!f.current)return;if(typeof d=="number"){t.go(d);return}let v=OE(d,JSON.parse(u),o,g.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:_r([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,u,o,n])}F.createContext(null);function O1(){let{matches:n}=F.useContext(zi),e=n[n.length-1];return e?e.params:{}}function Hu(n,{relative:e}={}){let{matches:t}=F.useContext(zi),{pathname:s}=Ms(),o=JSON.stringify(xE(t));return F.useMemo(()=>OE(n,JSON.parse(o),s,e==="path"),[n,o,s,e])}function N1(n,e){return VE(n,e)}function VE(n,e,t,s){var Z;ct(zu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=F.useContext(ji),{matches:f}=F.useContext(zi),p=f[f.length-1],d=p?p.params:{},g=p?p.pathname:"/",v=p?p.pathnameBase:"/",E=p&&p.route;{let $=E&&E.path||"";LE(g,!E||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let b=Ms(),R;if(e){let $=typeof e=="string"?Yo(e):e;ct(v==="/"||((Z=$.pathname)==null?void 0:Z.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${$.pathname}" was given in the \`location\` prop.`),R=$}else R=b;let x=R.pathname||"/",L=x;if(v!=="/"){let $=v.replace(/^\//,"").split("/");L="/"+x.replace(/^\//,"").split("/").slice($.length).join("/")}let M=!u&&t&&t.matches&&t.matches.length>0?t.matches:CE(n,{pathname:L});mi(E||M!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),mi(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let K=L1(M&&M.map($=>Object.assign({},$,{params:Object.assign({},d,$.params),pathname:_r([v,o.encodeLocation?o.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?v:_r([v,o.encodeLocation?o.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),f,t,s);return e&&K?F.createElement(ju.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},K):K}function k1(){let n=H1(),e=S1(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",n),f=F.createElement(F.Fragment,null,F.createElement("p",null,"💿 Hey developer 👋"),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:u},"ErrorBoundary")," or"," ",F.createElement("code",{style:u},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),t?F.createElement("pre",{style:o},t):null,f)}var M1=F.createElement(k1,null),P1=class extends F.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?F.createElement(zi.Provider,{value:this.props.routeContext},F.createElement(ig.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function V1({routeContext:n,match:e,children:t}){let s=F.useContext(Xo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(zi.Provider,{value:n},t)}function L1(n,e=[],t=null,s=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,u=t==null?void 0:t.errors;if(u!=null){let d=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);ct(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,d+1))}let f=!1,p=-1;if(t)for(let d=0;d<o.length;d++){let g=o[d];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(p=d),g.route.id){let{loaderData:v,errors:E}=t,b=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!E||E[g.route.id]===void 0);if(g.route.lazy||b){f=!0,p>=0?o=o.slice(0,p+1):o=[o[0]];break}}}return o.reduceRight((d,g,v)=>{let E,b=!1,R=null,x=null;t&&(E=u&&g.route.id?u[g.route.id]:void 0,R=g.route.errorElement||M1,f&&(p<0&&v===0?(LE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,x=null):p===v&&(b=!0,x=g.route.hydrateFallbackElement||null)));let L=e.concat(o.slice(0,v+1)),M=()=>{let K;return E?K=R:b?K=x:g.route.Component?K=F.createElement(g.route.Component,null):g.route.element?K=g.route.element:K=d,F.createElement(V1,{match:g,routeContext:{outlet:d,matches:L,isDataRoute:t!=null},children:K})};return t&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?F.createElement(P1,{location:t.location,revalidation:t.revalidation,component:R,error:E,children:M(),routeContext:{outlet:null,matches:L,isDataRoute:!0}}):M()},null)}function rg(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function U1(n){let e=F.useContext(Xo);return ct(e,rg(n)),e}function B1(n){let e=F.useContext(Sf);return ct(e,rg(n)),e}function j1(n){let e=F.useContext(zi);return ct(e,rg(n)),e}function sg(n){let e=j1(n),t=e.matches[e.matches.length-1];return ct(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function z1(){return sg("useRouteId")}function H1(){var s;let n=F.useContext(ig),e=B1("useRouteError"),t=sg("useRouteError");return n!==void 0?n:(s=e.errors)==null?void 0:s[t]}function q1(){let{router:n}=U1("useNavigate"),e=sg("useNavigate"),t=F.useRef(!1);return PE(()=>{t.current=!0}),F.useCallback(async(o,u={})=>{mi(t.current,ME),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...u}))},[n,e])}var Uw={};function LE(n,e,t){!e&&!Uw[n]&&(Uw[n]=!0,mi(!1,t))}F.memo(F1);function F1({routes:n,future:e,state:t}){return VE(n,void 0,t,e)}function _a(n){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function G1({basename:n="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){ct(!zu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=n.replace(/^\/*/,"/"),p=F.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof t=="string"&&(t=Yo(t));let{pathname:d="/",search:g="",hash:v="",state:E=null,key:b="default"}=t,R=F.useMemo(()=>{let x=Rs(d,f);return x==null?null:{location:{pathname:x,search:g,hash:v,state:E,key:b},navigationType:s}},[f,d,g,v,E,b,s]);return mi(R!=null,`<Router basename="${f}"> is not able to match the URL "${d}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:F.createElement(ji.Provider,{value:p},F.createElement(ju.Provider,{children:e,value:R}))}function $1({children:n,location:e}){return N1(Tp(n),e)}function Tp(n,e=[]){let t=[];return F.Children.forEach(n,(s,o)=>{if(!F.isValidElement(s))return;let u=[...e,o];if(s.type===F.Fragment){t.push.apply(t,Tp(s.props.children,u));return}ct(s.type===_a,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Tp(s.props.children,u)),t.push(f)}),t}var Ph="get",Vh="application/x-www-form-urlencoded";function Rf(n){return n!=null&&typeof n.tagName=="string"}function K1(n){return Rf(n)&&n.tagName.toLowerCase()==="button"}function Q1(n){return Rf(n)&&n.tagName.toLowerCase()==="form"}function Y1(n){return Rf(n)&&n.tagName.toLowerCase()==="input"}function X1(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function W1(n,e){return n.button===0&&(!e||e==="_self")&&!X1(n)}function Ap(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let s=n[t];return e.concat(Array.isArray(s)?s.map(o=>[t,o]):[[t,s]])},[]))}function Z1(n,e){let t=Ap(n);return e&&e.forEach((s,o)=>{t.has(o)||e.getAll(o).forEach(u=>{t.append(o,u)})}),t}var Ch=null;function J1(){if(Ch===null)try{new FormData(document.createElement("form"),0),Ch=!1}catch{Ch=!0}return Ch}var eR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lp(n){return n!=null&&!eR.has(n)?(mi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vh}"`),null):n}function tR(n,e){let t,s,o,u,f;if(Q1(n)){let p=n.getAttribute("action");s=p?Rs(p,e):null,t=n.getAttribute("method")||Ph,o=lp(n.getAttribute("enctype"))||Vh,u=new FormData(n)}else if(K1(n)||Y1(n)&&(n.type==="submit"||n.type==="image")){let p=n.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||p.getAttribute("action");if(s=d?Rs(d,e):null,t=n.getAttribute("formmethod")||p.getAttribute("method")||Ph,o=lp(n.getAttribute("formenctype"))||lp(p.getAttribute("enctype"))||Vh,u=new FormData(p,n),!J1()){let{name:g,type:v,value:E}=n;if(v==="image"){let b=g?`${g}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else g&&u.append(g,E)}}else{if(Rf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ph,s=null,o=Vh,f=n}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:f}}function ag(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function nR(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function iR(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function rR(n,e,t){let s=await Promise.all(n.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await nR(u,t);return f.links?f.links():[]}return[]}));return lR(s.flat(1).filter(iR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Bw(n,e,t,s,o,u){let f=(d,g)=>t[g]?d.route.id!==t[g].route.id:!0,p=(d,g)=>{var v;return t[g].pathname!==d.pathname||((v=t[g].route.path)==null?void 0:v.endsWith("*"))&&t[g].params["*"]!==d.params["*"]};return u==="assets"?e.filter((d,g)=>f(d,g)||p(d,g)):u==="data"?e.filter((d,g)=>{var E;let v=s.routes[d.route.id];if(!v||!v.hasLoader)return!1;if(f(d,g)||p(d,g))return!0;if(d.route.shouldRevalidate){let b=d.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((E=t[0])==null?void 0:E.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function sR(n,e){return aR(n.map(t=>{let s=e.routes[t.route.id];if(!s)return[];let o=[s.module];return s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function aR(n){return[...new Set(n)]}function oR(n){let e={},t=Object.keys(n).sort();for(let s of t)e[s]=n[s];return e}function lR(n,e){let t=new Set;return new Set(e),n.reduce((s,o)=>{let u=JSON.stringify(oR(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}function uR(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function cR(){let n=F.useContext(Xo);return ag(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function hR(){let n=F.useContext(Sf);return ag(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var og=F.createContext(void 0);og.displayName="FrameworkContext";function UE(){let n=F.useContext(og);return ag(n,"You must render this element inside a <HydratedRouter> element"),n}function fR(n,e){let t=F.useContext(og),[s,o]=F.useState(!1),[u,f]=F.useState(!1),{onFocus:p,onBlur:d,onMouseEnter:g,onMouseLeave:v,onTouchStart:E}=e,b=F.useRef(null);F.useEffect(()=>{if(n==="render"&&f(!0),n==="viewport"){let L=K=>{K.forEach(Z=>{f(Z.isIntersecting)})},M=new IntersectionObserver(L,{threshold:.5});return b.current&&M.observe(b.current),()=>{M.disconnect()}}},[n]),F.useEffect(()=>{if(s){let L=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(L)}}},[s]);let R=()=>{o(!0)},x=()=>{o(!1),f(!1)};return t?n!=="intent"?[u,b,{}]:[u,b,{onFocus:gu(p,R),onBlur:gu(d,x),onMouseEnter:gu(g,R),onMouseLeave:gu(v,x),onTouchStart:gu(E,R)}]:[!1,b,{}]}function gu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function dR({page:n,...e}){let{router:t}=cR(),s=F.useMemo(()=>CE(t.routes,n,t.basename),[t.routes,n,t.basename]);return s?F.createElement(pR,{page:n,matches:s,...e}):null}function mR(n){let{manifest:e,routeModules:t}=UE(),[s,o]=F.useState([]);return F.useEffect(()=>{let u=!1;return rR(n,e,t).then(f=>{u||o(f)}),()=>{u=!0}},[n,e,t]),s}function pR({page:n,matches:e,...t}){let s=Ms(),{manifest:o,routeModules:u}=UE(),{loaderData:f,matches:p}=hR(),d=F.useMemo(()=>Bw(n,e,p,o,s,"data"),[n,e,p,o,s]),g=F.useMemo(()=>Bw(n,e,p,o,s,"assets"),[n,e,p,o,s]),v=F.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let R=new Set,x=!1;if(e.forEach(M=>{var Z;let K=o.routes[M.route.id];!K||!K.hasLoader||(!d.some($=>$.route.id===M.route.id)&&M.route.id in f&&((Z=u[M.route.id])!=null&&Z.shouldRevalidate)||K.hasClientLoader?x=!0:R.add(M.route.id))}),R.size===0)return[];let L=uR(n);return x&&R.size>0&&L.searchParams.set("_routes",e.filter(M=>R.has(M.route.id)).map(M=>M.route.id).join(",")),[L.pathname+L.search]},[f,s,o,d,e,n,u]),E=F.useMemo(()=>sR(g,o),[g,o]),b=mR(g);return F.createElement(F.Fragment,null,v.map(R=>F.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...t})),E.map(R=>F.createElement("link",{key:R,rel:"modulepreload",href:R,...t})),b.map(({key:R,link:x})=>F.createElement("link",{key:R,...x})))}function gR(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var BE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{BE&&(window.__reactRouterVersion="7.1.5")}catch{}function yR({basename:n,children:e,window:t}){let s=F.useRef();s.current==null&&(s.current=i1({window:t,v5Compat:!0}));let o=s.current,[u,f]=F.useState({action:o.action,location:o.location}),p=F.useCallback(d=>{F.startTransition(()=>f(d))},[f]);return F.useLayoutEffect(()=>o.listen(p),[o,p]),F.createElement(G1,{basename:n,children:e,location:u.location,navigationType:u.action,navigator:o})}var jE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zE=F.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:p,target:d,to:g,preventScrollReset:v,viewTransition:E,...b},R){let{basename:x}=F.useContext(ji),L=typeof g=="string"&&jE.test(g),M,K=!1;if(typeof g=="string"&&L&&(M=g,BE))try{let S=new URL(window.location.href),O=g.startsWith("//")?new URL(S.protocol+g):new URL(g),V=Rs(O.pathname,x);O.origin===S.origin&&V!=null?g=V+O.search+O.hash:K=!0}catch{mi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Z=D1(g,{relative:o}),[$,oe,ae]=fR(s,b),we=ER(g,{replace:f,state:p,target:d,preventScrollReset:v,relative:o,viewTransition:E});function U(S){e&&e(S),S.defaultPrevented||we(S)}let C=F.createElement("a",{...b,...ae,href:M||Z,onClick:K||u?e:U,ref:gR(R,oe),target:d,"data-discover":!L&&t==="render"?"true":void 0});return $&&!L?F.createElement(F.Fragment,null,C,F.createElement(dR,{page:Z})):C});zE.displayName="Link";var vR=F.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:p,children:d,...g},v){let E=Hu(f,{relative:g.relative}),b=Ms(),R=F.useContext(Sf),{navigator:x,basename:L}=F.useContext(ji),M=R!=null&&CR(E)&&p===!0,K=x.encodeLocation?x.encodeLocation(E).pathname:E.pathname,Z=b.pathname,$=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;t||(Z=Z.toLowerCase(),$=$?$.toLowerCase():null,K=K.toLowerCase()),$&&L&&($=Rs($,L)||$);const oe=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let ae=Z===K||!o&&Z.startsWith(K)&&Z.charAt(oe)==="/",we=$!=null&&($===K||!o&&$.startsWith(K)&&$.charAt(K.length)==="/"),U={isActive:ae,isPending:we,isTransitioning:M},C=ae?e:void 0,S;typeof s=="function"?S=s(U):S=[s,ae?"active":null,we?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(U):u;return F.createElement(zE,{...g,"aria-current":C,className:S,ref:v,style:O,to:f,viewTransition:p},typeof d=="function"?d(U):d)});vR.displayName="NavLink";var _R=F.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:f=Ph,action:p,onSubmit:d,relative:g,preventScrollReset:v,viewTransition:E,...b},R)=>{let x=SR(),L=RR(p,{relative:g}),M=f.toLowerCase()==="get"?"get":"post",K=typeof p=="string"&&jE.test(p),Z=$=>{if(d&&d($),$.defaultPrevented)return;$.preventDefault();let oe=$.nativeEvent.submitter,ae=(oe==null?void 0:oe.getAttribute("formmethod"))||f;x(oe||$.currentTarget,{fetcherKey:e,method:ae,navigate:t,replace:o,state:u,relative:g,preventScrollReset:v,viewTransition:E})};return F.createElement("form",{ref:R,method:M,action:L,onSubmit:s?d:Z,...b,"data-discover":!K&&n==="render"?"true":void 0})});_R.displayName="Form";function wR(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HE(n){let e=F.useContext(Xo);return ct(e,wR(n)),e}function ER(n,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let p=Oa(),d=Ms(),g=Hu(n,{relative:u});return F.useCallback(v=>{if(W1(v,e)){v.preventDefault();let E=t!==void 0?t:Du(d)===Du(g);p(n,{replace:E,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[d,p,g,t,s,e,n,o,u,f])}function bR(n){mi(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=F.useRef(Ap(n)),t=F.useRef(!1),s=Ms(),o=F.useMemo(()=>Z1(s.search,t.current?null:e.current),[s.search]),u=Oa(),f=F.useCallback((p,d)=>{const g=Ap(typeof p=="function"?p(o):p);t.current=!0,u("?"+g,d)},[u,o]);return[o,f]}var TR=0,AR=()=>`__${String(++TR)}__`;function SR(){let{router:n}=HE("useSubmit"),{basename:e}=F.useContext(ji),t=z1();return F.useCallback(async(s,o={})=>{let{action:u,method:f,encType:p,formData:d,body:g}=tR(s,e);if(o.navigate===!1){let v=o.fetcherKey||AR();await n.fetch(v,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:d,body:g,formMethod:o.method||f,formEncType:o.encType||p,flushSync:o.flushSync})}else await n.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:d,body:g,formMethod:o.method||f,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function RR(n,{relative:e}={}){let{basename:t}=F.useContext(ji),s=F.useContext(zi);ct(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Hu(n||".",{relative:e})},f=Ms();if(n==null){u.search=f.search;let p=new URLSearchParams(u.search),d=p.getAll("index");if(d.some(v=>v==="")){p.delete("index"),d.filter(E=>E).forEach(E=>p.append("index",E));let v=p.toString();u.search=v?`?${v}`:""}}return(!n||n===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:_r([t,u.pathname])),Du(u)}function CR(n,e={}){let t=F.useContext(kE);ct(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=HE("useViewTransitionState"),o=Hu(n,{relative:e.relative});if(!t.isTransitioning)return!1;let u=Rs(t.currentLocation.pathname,s)||t.currentLocation.pathname,f=Rs(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Kh(o.pathname,f)!=null||Kh(o.pathname,u)!=null}new TextEncoder;var jw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let o=n.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},IR=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const o=n[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=n[t++],f=n[t++],p=n[t++],d=((o&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(d>>10)),e[s++]=String.fromCharCode(56320+(d&1023))}else{const u=n[t++],f=n[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},FE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<n.length;o+=3){const u=n[o],f=o+1<n.length,p=f?n[o+1]:0,d=o+2<n.length,g=d?n[o+2]:0,v=u>>2,E=(u&3)<<4|p>>4;let b=(p&15)<<2|g>>6,R=g&63;d||(R=64,f||(b=64)),s.push(t[v],t[E],t[b],t[R])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(qE(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):IR(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<n.length;){const u=t[n.charAt(o++)],p=o<n.length?t[n.charAt(o)]:0;++o;const g=o<n.length?t[n.charAt(o)]:64;++o;const E=o<n.length?t[n.charAt(o)]:64;if(++o,u==null||p==null||g==null||E==null)throw new DR;const b=u<<2|p>>4;if(s.push(b),g!==64){const R=p<<4&240|g>>2;if(s.push(R),E!==64){const x=g<<6&192|E;s.push(x)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class DR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xR=function(n){const e=qE(n);return FE.encodeByteArray(e,!0)},Qh=function(n){return xR(n).replace(/\./g,"")},GE=function(n){try{return FE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR=()=>OR().__FIREBASE_DEFAULTS__,kR=()=>{if(typeof process>"u"||typeof jw>"u")return;const n=jw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},MR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&GE(n[1]);return e&&JSON.parse(e)},Cf=()=>{try{return NR()||kR()||MR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},$E=n=>{var e,t;return(t=(e=Cf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},PR=n=>{const e=$E(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},KE=()=>{var n;return(n=Cf())===null||n===void 0?void 0:n.config},QE=n=>{var e;return(e=Cf())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Qh(JSON.stringify(t)),Qh(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function UR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function BR(){var n;const e=(n=Cf())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function HR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qR(){const n=hn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function FR(){return!BR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GR(){try{return typeof indexedDB=="object"}catch{return!1}}function $R(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR="FirebaseError";class Ir extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=KR,Object.setPrototypeOf(this,Ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qu.prototype.create)}}class qu{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?QR(u,s):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new Ir(o,p,s)}}function QR(n,e){return n.replace(YR,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const YR=/\{\$([^}]+)}/g;function XR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Yh(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=n[o],f=e[o];if(zw(u)&&zw(f)){if(!Yh(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function zw(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function yu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function vu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function WR(n,e){const t=new ZR(n,e);return t.subscribe.bind(t)}class ZR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");JR(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=up),o.error===void 0&&(o.error=up),o.complete===void 0&&(o.complete=up);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JR(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function up(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(n){return n&&n._delegate?n._delegate:n}class Aa{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new VR;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nC(e))try{this.getOrInitializeService({instanceIdentifier:wa})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=wa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wa){return this.instances.has(e)}getOptions(e=wa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&f.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:tC(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=wa){return this.component?this.component.multipleInstances?e:wa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tC(n){return n===wa?void 0:n}function nC(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new eC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Le||(Le={}));const rC={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},sC=Le.INFO,aC={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},oC=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),o=aC[e];if(o)console[o](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lg{constructor(e){this.name=e,this._logLevel=sC,this._logHandler=oC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const lC=(n,e)=>e.some(t=>n instanceof t);let Hw,qw;function uC(){return Hw||(Hw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cC(){return qw||(qw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const YE=new WeakMap,Sp=new WeakMap,XE=new WeakMap,cp=new WeakMap,ug=new WeakMap;function hC(n){const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",f)},u=()=>{t(Es(n.result)),o()},f=()=>{s(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",f)});return e.then(t=>{t instanceof IDBCursor&&YE.set(t,n)}).catch(()=>{}),ug.set(e,n),e}function fC(n){if(Sp.has(n))return;const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",f),n.removeEventListener("abort",f)},u=()=>{t(),o()},f=()=>{s(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",f),n.addEventListener("abort",f)});Sp.set(n,e)}let Rp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Sp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||XE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Es(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function dC(n){Rp=n(Rp)}function mC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(hp(this),e,...t);return XE.set(s,e.sort?e.sort():[e]),Es(s)}:cC().includes(n)?function(...e){return n.apply(hp(this),e),Es(YE.get(this))}:function(...e){return Es(n.apply(hp(this),e))}}function pC(n){return typeof n=="function"?mC(n):(n instanceof IDBTransaction&&fC(n),lC(n,uC())?new Proxy(n,Rp):n)}function Es(n){if(n instanceof IDBRequest)return hC(n);if(cp.has(n))return cp.get(n);const e=pC(n);return e!==n&&(cp.set(n,e),ug.set(e,n)),e}const hp=n=>ug.get(n);function gC(n,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(n,e),p=Es(f);return s&&f.addEventListener("upgradeneeded",d=>{s(Es(f.result),d.oldVersion,d.newVersion,Es(f.transaction),d)}),t&&f.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),p.then(d=>{u&&d.addEventListener("close",()=>u()),o&&d.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const yC=["get","getKey","getAll","getAllKeys","count"],vC=["put","add","delete","clear"],fp=new Map;function Fw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(fp.get(e))return fp.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=vC.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||yC.includes(t)))return;const u=async function(f,...p){const d=this.transaction(f,o?"readwrite":"readonly");let g=d.store;return s&&(g=g.index(p.shift())),(await Promise.all([g[t](...p),o&&d.done]))[0]};return fp.set(e,u),u}dC(n=>({...n,get:(e,t,s)=>Fw(e,t)||n.get(e,t,s),has:(e,t)=>!!Fw(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(wC(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function wC(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Cp="@firebase/app",Gw="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr=new lg("@firebase/app"),EC="@firebase/app-compat",bC="@firebase/analytics-compat",TC="@firebase/analytics",AC="@firebase/app-check-compat",SC="@firebase/app-check",RC="@firebase/auth",CC="@firebase/auth-compat",IC="@firebase/database",DC="@firebase/data-connect",xC="@firebase/database-compat",OC="@firebase/functions",NC="@firebase/functions-compat",kC="@firebase/installations",MC="@firebase/installations-compat",PC="@firebase/messaging",VC="@firebase/messaging-compat",LC="@firebase/performance",UC="@firebase/performance-compat",BC="@firebase/remote-config",jC="@firebase/remote-config-compat",zC="@firebase/storage",HC="@firebase/storage-compat",qC="@firebase/firestore",FC="@firebase/vertexai",GC="@firebase/firestore-compat",$C="firebase",KC="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip="[DEFAULT]",QC={[Cp]:"fire-core",[EC]:"fire-core-compat",[TC]:"fire-analytics",[bC]:"fire-analytics-compat",[SC]:"fire-app-check",[AC]:"fire-app-check-compat",[RC]:"fire-auth",[CC]:"fire-auth-compat",[IC]:"fire-rtdb",[DC]:"fire-data-connect",[xC]:"fire-rtdb-compat",[OC]:"fire-fn",[NC]:"fire-fn-compat",[kC]:"fire-iid",[MC]:"fire-iid-compat",[PC]:"fire-fcm",[VC]:"fire-fcm-compat",[LC]:"fire-perf",[UC]:"fire-perf-compat",[BC]:"fire-rc",[jC]:"fire-rc-compat",[zC]:"fire-gcs",[HC]:"fire-gcs-compat",[qC]:"fire-fst",[GC]:"fire-fst-compat",[FC]:"fire-vertex","fire-js":"fire-js",[$C]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh=new Map,YC=new Map,Dp=new Map;function $w(n,e){try{n.container.addComponent(e)}catch(t){Tr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Uo(n){const e=n.name;if(Dp.has(e))return Tr.debug(`There were multiple attempts to register component ${e}.`),!1;Dp.set(e,n);for(const t of Xh.values())$w(t,n);for(const t of YC.values())$w(t,n);return!0}function cg(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Mn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bs=new qu("app","Firebase",XC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo=KC;function WE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Ip,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw bs.create("bad-app-name",{appName:String(o)});if(t||(t=KE()),!t)throw bs.create("no-options");const u=Xh.get(o);if(u){if(Yh(t,u.options)&&Yh(s,u.config))return u;throw bs.create("duplicate-app",{appName:o})}const f=new iC(o);for(const d of Dp.values())f.addComponent(d);const p=new WC(t,s,f);return Xh.set(o,p),p}function ZE(n=Ip){const e=Xh.get(n);if(!e&&n===Ip&&KE())return WE();if(!e)throw bs.create("no-app",{appName:n});return e}function Ts(n,e,t){var s;let o=(s=QC[n])!==null&&s!==void 0?s:n;t&&(o+=`-${t}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const p=[`Unable to register library "${o}" with version "${e}":`];u&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&p.push("and"),f&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Tr.warn(p.join(" "));return}Uo(new Aa(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC="firebase-heartbeat-database",JC=1,xu="firebase-heartbeat-store";let dp=null;function JE(){return dp||(dp=gC(ZC,JC,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(xu)}catch(t){console.warn(t)}}}}).catch(n=>{throw bs.create("idb-open",{originalErrorMessage:n.message})})),dp}async function eI(n){try{const t=(await JE()).transaction(xu),s=await t.objectStore(xu).get(eb(n));return await t.done,s}catch(e){if(e instanceof Ir)Tr.warn(e.message);else{const t=bs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Tr.warn(t.message)}}}async function Kw(n,e){try{const s=(await JE()).transaction(xu,"readwrite");await s.objectStore(xu).put(e,eb(n)),await s.done}catch(t){if(t instanceof Ir)Tr.warn(t.message);else{const s=bs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Tr.warn(s.message)}}}function eb(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI=1024,nI=30;class iI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new sI(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Qw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>nI){const f=aI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Tr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Qw(),{heartbeatsToSend:s,unsentEntries:o}=rI(this._heartbeatsCache.heartbeats),u=Qh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return Tr.warn(t),""}}}function Qw(){return new Date().toISOString().substring(0,10)}function rI(n,e=tI){const t=[];let s=n.slice();for(const o of n){const u=t.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Yw(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Yw(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class sI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GR()?$R().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await eI(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Kw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Kw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Yw(n){return Qh(JSON.stringify({version:2,heartbeats:n})).length}function aI(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(n){Uo(new Aa("platform-logger",e=>new _C(e),"PRIVATE")),Uo(new Aa("heartbeat",e=>new iI(e),"PRIVATE")),Ts(Cp,Gw,n),Ts(Cp,Gw,"esm2017"),Ts("fire-js","")}oI("");function hg(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(n);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(n,s[o])&&(t[s[o]]=n[s[o]]);return t}function tb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lI=tb,nb=new qu("auth","Firebase",tb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh=new lg("@firebase/auth");function uI(n,...e){Wh.logLevel<=Le.WARN&&Wh.warn(`Auth (${Wo}): ${n}`,...e)}function Lh(n,...e){Wh.logLevel<=Le.ERROR&&Wh.error(`Auth (${Wo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(n,...e){throw dg(n,...e)}function fi(n,...e){return dg(n,...e)}function fg(n,e,t){const s=Object.assign(Object.assign({},lI()),{[e]:t});return new qu("auth","Firebase",s).create(e,{appName:n.name})}function wr(n){return fg(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cI(n,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&ri(n,"argument-error"),fg(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function dg(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return nb.create(n,...e)}function be(n,e,...t){if(!n)throw dg(e,...t)}function gr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Lh(e),new Error(e)}function Ar(n,e){n||gr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function hI(){return Xw()==="http:"||Xw()==="https:"}function Xw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hI()||zR()||"connection"in navigator)?navigator.onLine:!0}function dI(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ar(t>e,"Short delay should be less than long delay!"),this.isMobile=UR()||HR()}get(){return fI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(n,e){Ar(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI=new Gu(3e4,6e4);function Ps(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Dr(n,e,t,s,o={}){return rb(n,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const p=Fu(Object.assign({key:n.config.apiKey},f)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:e,headers:d},u);return jR()||(g.referrerPolicy="no-referrer"),ib.fetch()(sb(n,n.config.apiHost,t,p),g)})}async function rb(n,e,t){n._canInitEmulator=!1;const s=Object.assign(Object.assign({},mI),e);try{const o=new yI(n),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Ih(n,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const p=u.ok?f.errorMessage:f.error.message,[d,g]=p.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ih(n,"credential-already-in-use",f);if(d==="EMAIL_EXISTS")throw Ih(n,"email-already-in-use",f);if(d==="USER_DISABLED")throw Ih(n,"user-disabled",f);const v=s[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw fg(n,v,g);ri(n,v)}}catch(o){if(o instanceof Ir)throw o;ri(n,"network-request-failed",{message:String(o)})}}async function $u(n,e,t,s,o={}){const u=await Dr(n,e,t,s,o);return"mfaPendingCredential"in u&&ri(n,"multi-factor-auth-required",{_serverResponse:u}),u}function sb(n,e,t,s){const o=`${e}${t}?${s}`;return n.config.emulator?mg(n.config,o):`${n.config.apiScheme}://${o}`}function gI(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class yI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(fi(this.auth,"network-request-failed")),pI.get())})}}function Ih(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=fi(n,e,s);return o.customData._tokenResponse=t,o}function Ww(n){return n!==void 0&&n.enterprise!==void 0}class vI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return gI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function _I(n,e){return Dr(n,"GET","/v2/recaptchaConfig",Ps(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wI(n,e){return Dr(n,"POST","/v1/accounts:delete",e)}async function ab(n,e){return Dr(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function EI(n,e=!1){const t=jt(n),s=await t.getIdToken(e),o=pg(s);be(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Tu(mp(o.auth_time)),issuedAtTime:Tu(mp(o.iat)),expirationTime:Tu(mp(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function mp(n){return Number(n)*1e3}function pg(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return Lh("JWT malformed, contained fewer than 3 sections"),null;try{const o=GE(t);return o?JSON.parse(o):(Lh("Failed to decode base64 JWT payload"),null)}catch(o){return Lh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Zw(n){const e=pg(n);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bo(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Ir&&bI(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function bI({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tu(this.lastLoginAt),this.creationTime=Tu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zh(n){var e;const t=n.auth,s=await n.getIdToken(),o=await Bo(n,ab(t,{idToken:s}));be(o==null?void 0:o.users.length,t,"internal-error");const u=o.users[0];n._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?ob(u.providerUserInfo):[],p=SI(n.providerData,f),d=n.isAnonymous,g=!(n.email&&u.passwordHash)&&!(p!=null&&p.length),v=d?g:!1,E={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:p,metadata:new Op(u.createdAt,u.lastLoginAt),isAnonymous:v};Object.assign(n,E)}async function AI(n){const e=jt(n);await Zh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function SI(n,e){return[...n.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function ob(n){return n.map(e=>{var{providerId:t}=e,s=hg(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RI(n,e){const t=await rb(n,{},async()=>{const s=Fu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=n.config,f=sb(n,o,"/v1/token",`key=${u}`),p=await n._getAdditionalHeaders();return p["Content-Type"]="application/x-www-form-urlencoded",ib.fetch()(f,{method:"POST",headers:p,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function CI(n,e){return Dr(n,"POST","/v2/accounts:revokeToken",Ps(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Zw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){be(e.length!==0,"internal-error");const t=Zw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await RI(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,f=new No;return s&&(be(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(be(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(be(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new No,this.toJSON())}_performRefresh(){return gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(n,e){be(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class yr{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,u=hg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new TI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Op(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await Bo(this,this.stsTokenManager.getToken(this.auth,e));return be(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return EI(this,e)}reload(){return AI(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new yr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Zh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mn(this.auth.app))return Promise.reject(wr(this.auth));const e=await this.getIdToken();return await Bo(this,wI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,u,f,p,d,g,v;const E=(s=t.displayName)!==null&&s!==void 0?s:void 0,b=(o=t.email)!==null&&o!==void 0?o:void 0,R=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,x=(f=t.photoURL)!==null&&f!==void 0?f:void 0,L=(p=t.tenantId)!==null&&p!==void 0?p:void 0,M=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,K=(g=t.createdAt)!==null&&g!==void 0?g:void 0,Z=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:$,emailVerified:oe,isAnonymous:ae,providerData:we,stsTokenManager:U}=t;be($&&U,e,"internal-error");const C=No.fromJSON(this.name,U);be(typeof $=="string",e,"internal-error"),ds(E,e.name),ds(b,e.name),be(typeof oe=="boolean",e,"internal-error"),be(typeof ae=="boolean",e,"internal-error"),ds(R,e.name),ds(x,e.name),ds(L,e.name),ds(M,e.name),ds(K,e.name),ds(Z,e.name);const S=new yr({uid:$,auth:e,email:b,emailVerified:oe,displayName:E,isAnonymous:ae,photoURL:x,phoneNumber:R,tenantId:L,stsTokenManager:C,createdAt:K,lastLoginAt:Z});return we&&Array.isArray(we)&&(S.providerData=we.map(O=>Object.assign({},O))),M&&(S._redirectEventId=M),S}static async _fromIdTokenResponse(e,t,s=!1){const o=new No;o.updateFromServerResponse(t);const u=new yr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Zh(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];be(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?ob(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),p=new No;p.updateFromIdToken(s);const d=new yr({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Op(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(d,g),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw=new Map;function vr(n){Ar(n instanceof Function,"Expected a class definition");let e=Jw.get(n);return e?(Ar(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Jw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}lb.type="NONE";const e0=lb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(n,e,t){return`firebase:${n}:${e}:${t}`}class ko{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Uh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Uh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?yr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new ko(vr(e0),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||vr(e0);const f=Uh(s,e.config.apiKey,e.name);let p=null;for(const g of t)try{const v=await g._get(f);if(v){const E=yr._fromJSON(e,v);g!==u&&(p=E),u=g;break}}catch{}const d=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!d.length?new ko(u,e,s):(u=d[0],p&&await u._set(f,p.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new ko(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ub(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mb(e))return"Blackberry";if(pb(e))return"Webos";if(cb(e))return"Safari";if((e.includes("chrome/")||hb(e))&&!e.includes("edge/"))return"Chrome";if(db(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function ub(n=hn()){return/firefox\//i.test(n)}function cb(n=hn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hb(n=hn()){return/crios\//i.test(n)}function fb(n=hn()){return/iemobile/i.test(n)}function db(n=hn()){return/android/i.test(n)}function mb(n=hn()){return/blackberry/i.test(n)}function pb(n=hn()){return/webos/i.test(n)}function gg(n=hn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function II(n=hn()){var e;return gg(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function DI(){return qR()&&document.documentMode===10}function gb(n=hn()){return gg(n)||db(n)||pb(n)||mb(n)||/windows phone/i.test(n)||fb(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(n,e=[]){let t;switch(n){case"Browser":t=t0(hn());break;case"Worker":t=`${t0(hn())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Wo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((f,p)=>{try{const d=e(u);f(d)}catch(d){p(d)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OI(n,e={}){return Dr(n,"GET","/v2/passwordPolicy",Ps(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=6;class kI{constructor(e){var t,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=f.minPasswordLength)!==null&&t!==void 0?t:NI,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,u,f,p;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(s=d.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(o=d.containsLowercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(u=d.containsUppercaseLetter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(f=d.containsNumericCharacter)!==null&&f!==void 0?f:!0),d.isValid&&(d.isValid=(p=d.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),d}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new n0(this),this.idTokenSubscription=new n0(this),this.beforeStateQueue=new xI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=vr(t)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await ko.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await ab(this,{idToken:e}),s=await yr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Mn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(p,p))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,p=o==null?void 0:o._redirectEventId,d=await this.tryRedirectSignIn(e);(!f||f===p)&&(d!=null&&d.user)&&(o=d.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Zh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=dI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mn(this.app))return Promise.reject(wr(this));const t=e?jt(e):null;return t&&be(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mn(this.app)?Promise.reject(wr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mn(this.app)?Promise.reject(wr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await OI(this),t=new kI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new qu("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await CI(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&vr(e)||this._popupRedirectResolver;be(t,this,"argument-error"),this.redirectPersistenceManager=await ko.create(this,[vr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(p,this,"internal-error"),p.then(()=>{f||u(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,s,o);return()=>{f=!0,d()}}else{const d=e.addObserver(t);return()=>{f=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&uI(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Vs(n){return jt(n)}class n0{constructor(e){this.auth=e,this.observer=null,this.addObserver=WR(t=>this.observer=t)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let If={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function PI(n){If=n}function vb(n){return If.loadJS(n)}function VI(){return If.recaptchaEnterpriseScript}function LI(){return If.gapiScript}function UI(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class BI{constructor(){this.enterprise=new jI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class jI{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const zI="recaptcha-enterprise",_b="NO_RECAPTCHA";class HI{constructor(e){this.type=zI,this.auth=Vs(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,p)=>{_I(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const g=new vI(d);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(d=>{p(d)})})}function o(u,f,p){const d=window.grecaptcha;Ww(d)?d.enterprise.ready(()=>{d.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(_b)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new BI().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(p=>{if(!t&&Ww(window.grecaptcha))o(p,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let d=VI();d.length!==0&&(d+=p),vb(d).then(()=>{o(p,u,f)}).catch(g=>{f(g)})}}).catch(p=>{f(p)})})}}async function i0(n,e,t,s=!1,o=!1){const u=new HI(n);let f;if(o)f=_b;else try{f=await u.verify(t)}catch{f=await u.verify(t,!0)}const p=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const d=p.phoneEnrollmentInfo.phoneNumber,g=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const d=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:f}):Object.assign(p,{captchaResponse:f}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Np(n,e,t,s,o){var u;if(!((u=n._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await i0(n,e,t,t==="getOobCode");return s(n,f)}else return s(n,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await i0(n,e,t,t==="getOobCode");return s(n,p)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(n,e){const t=cg(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(Yh(u,e??{}))return o;ri(o,"already-initialized")}return t.initialize({options:e})}function FI(n,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(vr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function GI(n,e,t){const s=Vs(n);be(s._canInitEmulator,s,"emulator-config-failed"),be(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=wb(e),{host:f,port:p}=$I(e),d=p===null?"":`:${p}`;s.config.emulator={url:`${u}//${f}${d}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:f,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})}),KI()}function wb(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function $I(n){const e=wb(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:r0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:r0(f)}}}function r0(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function KI(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return gr("not implemented")}_getIdTokenResponse(e){return gr("not implemented")}_linkToIdToken(e,t){return gr("not implemented")}_getReauthenticationResolver(e){return gr("not implemented")}}async function QI(n,e){return Dr(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YI(n,e){return $u(n,"POST","/v1/accounts:signInWithPassword",Ps(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XI(n,e){return $u(n,"POST","/v1/accounts:signInWithEmailLink",Ps(n,e))}async function WI(n,e){return $u(n,"POST","/v1/accounts:signInWithEmailLink",Ps(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou extends yg{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Ou(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Ou(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Np(e,t,"signInWithPassword",YI);case"emailLink":return XI(e,{email:this._email,oobCode:this._password});default:ri(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Np(e,s,"signUpPassword",QI);case"emailLink":return WI(e,{idToken:t,email:this._email,oobCode:this._password});default:ri(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mo(n,e){return $u(n,"POST","/v1/accounts:signInWithIdp",Ps(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI="http://localhost";class Sa extends yg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Sa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ri("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,u=hg(t,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Sa(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const t=this.buildRequest();return Mo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Mo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Mo(e,t)}buildRequest(){const e={requestUri:ZI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Fu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function eD(n){const e=yu(vu(n)).link,t=e?yu(vu(e)).deep_link_id:null,s=yu(vu(n)).deep_link_id;return(s?yu(vu(s)).link:null)||s||t||e||n}class vg{constructor(e){var t,s,o,u,f,p;const d=yu(vu(e)),g=(t=d.apiKey)!==null&&t!==void 0?t:null,v=(s=d.oobCode)!==null&&s!==void 0?s:null,E=JI((o=d.mode)!==null&&o!==void 0?o:null);be(g&&v&&E,"argument-error"),this.apiKey=g,this.operation=E,this.code=v,this.continueUrl=(u=d.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=d.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(p=d.tenantId)!==null&&p!==void 0?p:null}static parseLink(e){const t=eD(e);try{return new vg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(){this.providerId=Zo.PROVIDER_ID}static credential(e,t){return Ou._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=vg.parseLink(t);return be(s,"argument-error"),Ou._fromEmailAndCode(e,s.code,s.tenantId)}}Zo.PROVIDER_ID="password";Zo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Zo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku extends _g{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends Ku{constructor(){super("facebook.com")}static credential(e){return Sa._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ms.credential(e.oauthAccessToken)}catch{return null}}}ms.FACEBOOK_SIGN_IN_METHOD="facebook.com";ms.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr extends Ku{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Sa._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return pr.credential(t,s)}catch{return null}}}pr.GOOGLE_SIGN_IN_METHOD="google.com";pr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends Ku{constructor(){super("github.com")}static credential(e){return Sa._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ps.credential(e.oauthAccessToken)}catch{return null}}}ps.GITHUB_SIGN_IN_METHOD="github.com";ps.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends Ku{constructor(){super("twitter.com")}static credential(e,t){return Sa._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return gs.credential(t,s)}catch{return null}}}gs.TWITTER_SIGN_IN_METHOD="twitter.com";gs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tD(n,e){return $u(n,"POST","/v1/accounts:signUp",Ps(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await yr._fromIdTokenResponse(e,s,o),f=s0(s);return new Ra({user:u,providerId:f,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=s0(s);return new Ra({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function s0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh extends Ir{constructor(e,t,s,o){var u;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Jh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Jh(e,t,s,o)}}function Eb(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Jh._fromErrorAndOperation(n,u,e,s):u})}async function nD(n,e,t=!1){const s=await Bo(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ra._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iD(n,e,t=!1){const{auth:s}=n;if(Mn(s.app))return Promise.reject(wr(s));const o="reauthenticate";try{const u=await Bo(n,Eb(s,o,e,n),t);be(u.idToken,s,"internal-error");const f=pg(u.idToken);be(f,s,"internal-error");const{sub:p}=f;return be(n.uid===p,s,"user-mismatch"),Ra._forOperation(n,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&ri(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bb(n,e,t=!1){if(Mn(n.app))return Promise.reject(wr(n));const s="signIn",o=await Eb(n,s,e),u=await Ra._fromIdTokenResponse(n,s,o);return t||await n._updateCurrentUser(u.user),u}async function rD(n,e){return bb(Vs(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tb(n){const e=Vs(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function sD(n,e,t){if(Mn(n.app))return Promise.reject(wr(n));const s=Vs(n),f=await Np(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tD).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&Tb(n),d}),p=await Ra._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(p.user),p}function aD(n,e,t){return Mn(n.app)?Promise.reject(wr(n)):rD(jt(n),Zo.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Tb(n),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oD(n,e){return Dr(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lD(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const s=jt(n),u={idToken:await s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},f=await Bo(s,oD(s.auth,u));s.displayName=f.displayName||null,s.photoURL=f.photoUrl||null;const p=s.providerData.find(({providerId:d})=>d==="password");p&&(p.displayName=s.displayName,p.photoURL=s.photoURL),await s._updateTokensIfNecessary(f)}function uD(n,e,t,s){return jt(n).onIdTokenChanged(e,t,s)}function cD(n,e,t){return jt(n).beforeAuthStateChanged(e,t)}function wg(n,e,t,s){return jt(n).onAuthStateChanged(e,t,s)}const ef="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ef,"1"),this.storage.removeItem(ef),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD=1e3,fD=10;class Sb extends Ab{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=gb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((f,p,d)=>{this.notifyListeners(f,d)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!t&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);DI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,fD):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},hD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Sb.type="LOCAL";const dD=Sb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb extends Ab{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Rb.type="SESSION";const Cb=Rb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Df(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(f).map(async g=>g(t.origin,u)),d=await mD(p);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Df.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((p,d)=>{const g=Eg("",20);o.port1.start();const v=setTimeout(()=>{d(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(E){const b=E;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(b.data.response);break;default:clearTimeout(v),clearTimeout(u),d(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(){return window}function gD(n){Pi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(){return typeof Pi().WorkerGlobalScope<"u"&&typeof Pi().importScripts=="function"}async function yD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vD(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function _D(){return Ib()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db="firebaseLocalStorageDb",wD=1,tf="firebaseLocalStorage",xb="fbase_key";class Qu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function xf(n,e){return n.transaction([tf],e?"readwrite":"readonly").objectStore(tf)}function ED(){const n=indexedDB.deleteDatabase(Db);return new Qu(n).toPromise()}function kp(){const n=indexedDB.open(Db,wD);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(tf,{keyPath:xb})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(tf)?e(s):(s.close(),await ED(),e(await kp()))})})}async function a0(n,e,t){const s=xf(n,!0).put({[xb]:e,value:t});return new Qu(s).toPromise()}async function bD(n,e){const t=xf(n,!1).get(e),s=await new Qu(t).toPromise();return s===void 0?null:s.value}function o0(n,e){const t=xf(n,!0).delete(e);return new Qu(t).toPromise()}const TD=800,AD=3;class Ob{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await kp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>AD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ib()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Df._getInstance(_D()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await yD(),!this.activeServiceWorker)return;this.sender=new pD(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||vD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await kp();return await a0(e,ef,"1"),await o0(e,ef),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>a0(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>bD(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>o0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=xf(o,!1).getAll();return new Qu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ob.type="LOCAL";const SD=Ob;new Gu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(n,e){return e?vr(e):(be(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg extends yg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Mo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Mo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Mo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function RD(n){return bb(n.auth,new bg(n),n.bypassAuthState)}function CD(n){const{auth:e,user:t}=n;return be(t,e,"internal-error"),iD(t,new bg(n),n.bypassAuthState)}async function ID(n){const{auth:e,user:t}=n;return be(t,e,"internal-error"),nD(t,new bg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:f,type:p}=e;if(f){this.reject(f);return}const d={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(d))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return RD;case"linkViaPopup":case"linkViaRedirect":return ID;case"reauthViaPopup":case"reauthViaRedirect":return CD;default:ri(this.auth,"internal-error")}}resolve(e){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD=new Gu(2e3,1e4);async function xD(n,e,t){if(Mn(n.app))return Promise.reject(fi(n,"operation-not-supported-in-this-environment"));const s=Vs(n);cI(n,e,_g);const o=Nb(s,t);return new Ea(s,"signInViaPopup",e,o).executeNotNull()}class Ea extends kb{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ea.currentPopupAction&&Ea.currentPopupAction.cancel(),Ea.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){Ar(this.filter.length===1,"Popup operations only handle one event");const e=Eg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(fi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(fi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ea.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,DD.get())};e()}}Ea.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD="pendingRedirect",Bh=new Map;class ND extends kb{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Bh.get(this.auth._key());if(!e){try{const s=await kD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Bh.set(this.auth._key(),e)}return this.bypassAuthState||Bh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function kD(n,e){const t=VD(e),s=PD(n);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function MD(n,e){Bh.set(n._key(),e)}function PD(n){return vr(n._redirectPersistence)}function VD(n){return Uh(OD,n.config.apiKey,n.name)}async function LD(n,e,t=!1){if(Mn(n.app))return Promise.reject(wr(n));const s=Vs(n),o=Nb(s,e),f=await new ND(s,o,t).execute();return f&&!t&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD=10*60*1e3;class BD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!Mb(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(fi(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=UD&&this.cachedEventUids.clear(),this.cachedEventUids.has(l0(e))}saveEventToCache(e){this.cachedEventUids.add(l0(e)),this.lastProcessedEventTime=Date.now()}}function l0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Mb({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function jD(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Mb(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zD(n,e={}){return Dr(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qD=/^https?/;async function FD(n){if(n.config.emulator)return;const{authorizedDomains:e}=await zD(n);for(const t of e)try{if(GD(t))return}catch{}ri(n,"unauthorized-domain")}function GD(n){const e=xp(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const f=new URL(n);return f.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&f.hostname===s}if(!qD.test(t))return!1;if(HD.test(n))return s===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=new Gu(3e4,6e4);function u0(){const n=Pi().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function KD(n){return new Promise((e,t)=>{var s,o,u;function f(){u0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{u0(),t(fi(n,"network-request-failed"))},timeout:$D.get()})}if(!((o=(s=Pi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Pi().gapi)===null||u===void 0)&&u.load)f();else{const p=UI("iframefcb");return Pi()[p]=()=>{gapi.load?f():t(fi(n,"network-request-failed"))},vb(`${LI()}?onload=${p}`).catch(d=>t(d))}}).catch(e=>{throw jh=null,e})}let jh=null;function QD(n){return jh=jh||KD(n),jh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=new Gu(5e3,15e3),XD="__/auth/iframe",WD="emulator/auth/iframe",ZD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ex(n){const e=n.config;be(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?mg(e,WD):`https://${n.config.authDomain}/${XD}`,s={apiKey:e.apiKey,appName:n.name,v:Wo},o=JD.get(n.config.apiHost);o&&(s.eid=o);const u=n._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${Fu(s).slice(1)}`}async function tx(n){const e=await QD(n),t=Pi().gapi;return be(t,n,"internal-error"),e.open({where:document.body,url:ex(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZD,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=fi(n,"network-request-failed"),p=Pi().setTimeout(()=>{u(f)},YD.get());function d(){Pi().clearTimeout(p),o(s)}s.ping(d).then(d,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ix=500,rx=600,sx="_blank",ax="http://localhost";class c0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ox(n,e,t,s=ix,o=rx){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const d=Object.assign(Object.assign({},nx),{width:s.toString(),height:o.toString(),top:u,left:f}),g=hn().toLowerCase();t&&(p=hb(g)?sx:t),ub(g)&&(e=e||ax,d.scrollbars="yes");const v=Object.entries(d).reduce((b,[R,x])=>`${b}${R}=${x},`,"");if(II(g)&&p!=="_self")return lx(e||"",p),new c0(null);const E=window.open(e||"",p,v);be(E,n,"popup-blocked");try{E.focus()}catch{}return new c0(E)}function lx(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux="__/auth/handler",cx="emulator/auth/handler",hx=encodeURIComponent("fac");async function h0(n,e,t,s,o,u){be(n.config.authDomain,n,"auth-domain-config-required"),be(n.config.apiKey,n,"invalid-api-key");const f={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:Wo,eventId:o};if(e instanceof _g){e.setDefaultLanguage(n.languageCode),f.providerId=e.providerId||"",XR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,E]of Object.entries({}))f[v]=E}if(e instanceof Ku){const v=e.getScopes().filter(E=>E!=="");v.length>0&&(f.scopes=v.join(","))}n.tenantId&&(f.tid=n.tenantId);const p=f;for(const v of Object.keys(p))p[v]===void 0&&delete p[v];const d=await n._getAppCheckToken(),g=d?`#${hx}=${encodeURIComponent(d)}`:"";return`${fx(n)}?${Fu(p).slice(1)}${g}`}function fx({config:n}){return n.emulator?mg(n,cx):`https://${n.authDomain}/${ux}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp="webStorageSupport";class dx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Cb,this._completeRedirectFn=LD,this._overrideRedirectResult=MD}async _openPopup(e,t,s,o){var u;Ar((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await h0(e,t,s,xp(),o);return ox(e,f,Eg())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await h0(e,t,s,xp(),o);return gD(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(Ar(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await tx(e),s=new BD(e);return t.register("authEvent",o=>(be(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(pp,{type:pp},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[pp];f!==void 0&&t(!!f),ri(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=FD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return gb()||cb()||gg()}}const mx=dx;var f0="@firebase/auth",d0="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yx(n){Uo(new Aa("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=s.options;be(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const d={apiKey:f,authDomain:p,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yb(n)},g=new MI(s,o,u,d);return FI(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Uo(new Aa("auth-internal",e=>{const t=Vs(e.getProvider("auth").getImmediate());return(s=>new px(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ts(f0,d0,gx(n)),Ts(f0,d0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx=5*60,_x=QE("authIdTokenMaxAge")||vx;let m0=null;const wx=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>_x)return;const o=t==null?void 0:t.token;m0!==o&&(m0=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Ex(n=ZE()){const e=cg(n,"auth");if(e.isInitialized())return e.getImmediate();const t=qI(n,{popupRedirectResolver:mx,persistence:[SD,dD,Cb]}),s=QE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=wx(u.toString());cD(t,f,()=>f(t.currentUser)),uD(t,p=>f(p))}}const o=$E("auth");return o&&GI(t,`http://${o}`),t}function bx(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}PI({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=o=>{const u=fi("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",bx().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yx("Browser");var Tx="firebase",Ax="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ts(Tx,Ax,"app");var p0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var As,Pb;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(U,C){function S(){}S.prototype=C.prototype,U.D=C.prototype,U.prototype=new S,U.prototype.constructor=U,U.C=function(O,V,k){for(var I=Array(arguments.length-2),De=2;De<arguments.length;De++)I[De-2]=arguments[De];return C.prototype[V].apply(O,I)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(U,C,S){S||(S=0);var O=Array(16);if(typeof C=="string")for(var V=0;16>V;++V)O[V]=C.charCodeAt(S++)|C.charCodeAt(S++)<<8|C.charCodeAt(S++)<<16|C.charCodeAt(S++)<<24;else for(V=0;16>V;++V)O[V]=C[S++]|C[S++]<<8|C[S++]<<16|C[S++]<<24;C=U.g[0],S=U.g[1],V=U.g[2];var k=U.g[3],I=C+(k^S&(V^k))+O[0]+3614090360&4294967295;C=S+(I<<7&4294967295|I>>>25),I=k+(V^C&(S^V))+O[1]+3905402710&4294967295,k=C+(I<<12&4294967295|I>>>20),I=V+(S^k&(C^S))+O[2]+606105819&4294967295,V=k+(I<<17&4294967295|I>>>15),I=S+(C^V&(k^C))+O[3]+3250441966&4294967295,S=V+(I<<22&4294967295|I>>>10),I=C+(k^S&(V^k))+O[4]+4118548399&4294967295,C=S+(I<<7&4294967295|I>>>25),I=k+(V^C&(S^V))+O[5]+1200080426&4294967295,k=C+(I<<12&4294967295|I>>>20),I=V+(S^k&(C^S))+O[6]+2821735955&4294967295,V=k+(I<<17&4294967295|I>>>15),I=S+(C^V&(k^C))+O[7]+4249261313&4294967295,S=V+(I<<22&4294967295|I>>>10),I=C+(k^S&(V^k))+O[8]+1770035416&4294967295,C=S+(I<<7&4294967295|I>>>25),I=k+(V^C&(S^V))+O[9]+2336552879&4294967295,k=C+(I<<12&4294967295|I>>>20),I=V+(S^k&(C^S))+O[10]+4294925233&4294967295,V=k+(I<<17&4294967295|I>>>15),I=S+(C^V&(k^C))+O[11]+2304563134&4294967295,S=V+(I<<22&4294967295|I>>>10),I=C+(k^S&(V^k))+O[12]+1804603682&4294967295,C=S+(I<<7&4294967295|I>>>25),I=k+(V^C&(S^V))+O[13]+4254626195&4294967295,k=C+(I<<12&4294967295|I>>>20),I=V+(S^k&(C^S))+O[14]+2792965006&4294967295,V=k+(I<<17&4294967295|I>>>15),I=S+(C^V&(k^C))+O[15]+1236535329&4294967295,S=V+(I<<22&4294967295|I>>>10),I=C+(V^k&(S^V))+O[1]+4129170786&4294967295,C=S+(I<<5&4294967295|I>>>27),I=k+(S^V&(C^S))+O[6]+3225465664&4294967295,k=C+(I<<9&4294967295|I>>>23),I=V+(C^S&(k^C))+O[11]+643717713&4294967295,V=k+(I<<14&4294967295|I>>>18),I=S+(k^C&(V^k))+O[0]+3921069994&4294967295,S=V+(I<<20&4294967295|I>>>12),I=C+(V^k&(S^V))+O[5]+3593408605&4294967295,C=S+(I<<5&4294967295|I>>>27),I=k+(S^V&(C^S))+O[10]+38016083&4294967295,k=C+(I<<9&4294967295|I>>>23),I=V+(C^S&(k^C))+O[15]+3634488961&4294967295,V=k+(I<<14&4294967295|I>>>18),I=S+(k^C&(V^k))+O[4]+3889429448&4294967295,S=V+(I<<20&4294967295|I>>>12),I=C+(V^k&(S^V))+O[9]+568446438&4294967295,C=S+(I<<5&4294967295|I>>>27),I=k+(S^V&(C^S))+O[14]+3275163606&4294967295,k=C+(I<<9&4294967295|I>>>23),I=V+(C^S&(k^C))+O[3]+4107603335&4294967295,V=k+(I<<14&4294967295|I>>>18),I=S+(k^C&(V^k))+O[8]+1163531501&4294967295,S=V+(I<<20&4294967295|I>>>12),I=C+(V^k&(S^V))+O[13]+2850285829&4294967295,C=S+(I<<5&4294967295|I>>>27),I=k+(S^V&(C^S))+O[2]+4243563512&4294967295,k=C+(I<<9&4294967295|I>>>23),I=V+(C^S&(k^C))+O[7]+1735328473&4294967295,V=k+(I<<14&4294967295|I>>>18),I=S+(k^C&(V^k))+O[12]+2368359562&4294967295,S=V+(I<<20&4294967295|I>>>12),I=C+(S^V^k)+O[5]+4294588738&4294967295,C=S+(I<<4&4294967295|I>>>28),I=k+(C^S^V)+O[8]+2272392833&4294967295,k=C+(I<<11&4294967295|I>>>21),I=V+(k^C^S)+O[11]+1839030562&4294967295,V=k+(I<<16&4294967295|I>>>16),I=S+(V^k^C)+O[14]+4259657740&4294967295,S=V+(I<<23&4294967295|I>>>9),I=C+(S^V^k)+O[1]+2763975236&4294967295,C=S+(I<<4&4294967295|I>>>28),I=k+(C^S^V)+O[4]+1272893353&4294967295,k=C+(I<<11&4294967295|I>>>21),I=V+(k^C^S)+O[7]+4139469664&4294967295,V=k+(I<<16&4294967295|I>>>16),I=S+(V^k^C)+O[10]+3200236656&4294967295,S=V+(I<<23&4294967295|I>>>9),I=C+(S^V^k)+O[13]+681279174&4294967295,C=S+(I<<4&4294967295|I>>>28),I=k+(C^S^V)+O[0]+3936430074&4294967295,k=C+(I<<11&4294967295|I>>>21),I=V+(k^C^S)+O[3]+3572445317&4294967295,V=k+(I<<16&4294967295|I>>>16),I=S+(V^k^C)+O[6]+76029189&4294967295,S=V+(I<<23&4294967295|I>>>9),I=C+(S^V^k)+O[9]+3654602809&4294967295,C=S+(I<<4&4294967295|I>>>28),I=k+(C^S^V)+O[12]+3873151461&4294967295,k=C+(I<<11&4294967295|I>>>21),I=V+(k^C^S)+O[15]+530742520&4294967295,V=k+(I<<16&4294967295|I>>>16),I=S+(V^k^C)+O[2]+3299628645&4294967295,S=V+(I<<23&4294967295|I>>>9),I=C+(V^(S|~k))+O[0]+4096336452&4294967295,C=S+(I<<6&4294967295|I>>>26),I=k+(S^(C|~V))+O[7]+1126891415&4294967295,k=C+(I<<10&4294967295|I>>>22),I=V+(C^(k|~S))+O[14]+2878612391&4294967295,V=k+(I<<15&4294967295|I>>>17),I=S+(k^(V|~C))+O[5]+4237533241&4294967295,S=V+(I<<21&4294967295|I>>>11),I=C+(V^(S|~k))+O[12]+1700485571&4294967295,C=S+(I<<6&4294967295|I>>>26),I=k+(S^(C|~V))+O[3]+2399980690&4294967295,k=C+(I<<10&4294967295|I>>>22),I=V+(C^(k|~S))+O[10]+4293915773&4294967295,V=k+(I<<15&4294967295|I>>>17),I=S+(k^(V|~C))+O[1]+2240044497&4294967295,S=V+(I<<21&4294967295|I>>>11),I=C+(V^(S|~k))+O[8]+1873313359&4294967295,C=S+(I<<6&4294967295|I>>>26),I=k+(S^(C|~V))+O[15]+4264355552&4294967295,k=C+(I<<10&4294967295|I>>>22),I=V+(C^(k|~S))+O[6]+2734768916&4294967295,V=k+(I<<15&4294967295|I>>>17),I=S+(k^(V|~C))+O[13]+1309151649&4294967295,S=V+(I<<21&4294967295|I>>>11),I=C+(V^(S|~k))+O[4]+4149444226&4294967295,C=S+(I<<6&4294967295|I>>>26),I=k+(S^(C|~V))+O[11]+3174756917&4294967295,k=C+(I<<10&4294967295|I>>>22),I=V+(C^(k|~S))+O[2]+718787259&4294967295,V=k+(I<<15&4294967295|I>>>17),I=S+(k^(V|~C))+O[9]+3951481745&4294967295,U.g[0]=U.g[0]+C&4294967295,U.g[1]=U.g[1]+(V+(I<<21&4294967295|I>>>11))&4294967295,U.g[2]=U.g[2]+V&4294967295,U.g[3]=U.g[3]+k&4294967295}s.prototype.u=function(U,C){C===void 0&&(C=U.length);for(var S=C-this.blockSize,O=this.B,V=this.h,k=0;k<C;){if(V==0)for(;k<=S;)o(this,U,k),k+=this.blockSize;if(typeof U=="string"){for(;k<C;)if(O[V++]=U.charCodeAt(k++),V==this.blockSize){o(this,O),V=0;break}}else for(;k<C;)if(O[V++]=U[k++],V==this.blockSize){o(this,O),V=0;break}}this.h=V,this.o+=C},s.prototype.v=function(){var U=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);U[0]=128;for(var C=1;C<U.length-8;++C)U[C]=0;var S=8*this.o;for(C=U.length-8;C<U.length;++C)U[C]=S&255,S/=256;for(this.u(U),U=Array(16),C=S=0;4>C;++C)for(var O=0;32>O;O+=8)U[S++]=this.g[C]>>>O&255;return U};function u(U,C){var S=p;return Object.prototype.hasOwnProperty.call(S,U)?S[U]:S[U]=C(U)}function f(U,C){this.h=C;for(var S=[],O=!0,V=U.length-1;0<=V;V--){var k=U[V]|0;O&&k==C||(S[V]=k,O=!1)}this.g=S}var p={};function d(U){return-128<=U&&128>U?u(U,function(C){return new f([C|0],0>C?-1:0)}):new f([U|0],0>U?-1:0)}function g(U){if(isNaN(U)||!isFinite(U))return E;if(0>U)return M(g(-U));for(var C=[],S=1,O=0;U>=S;O++)C[O]=U/S|0,S*=4294967296;return new f(C,0)}function v(U,C){if(U.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(U.charAt(0)=="-")return M(v(U.substring(1),C));if(0<=U.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=g(Math.pow(C,8)),O=E,V=0;V<U.length;V+=8){var k=Math.min(8,U.length-V),I=parseInt(U.substring(V,V+k),C);8>k?(k=g(Math.pow(C,k)),O=O.j(k).add(g(I))):(O=O.j(S),O=O.add(g(I)))}return O}var E=d(0),b=d(1),R=d(16777216);n=f.prototype,n.m=function(){if(L(this))return-M(this).m();for(var U=0,C=1,S=0;S<this.g.length;S++){var O=this.i(S);U+=(0<=O?O:4294967296+O)*C,C*=4294967296}return U},n.toString=function(U){if(U=U||10,2>U||36<U)throw Error("radix out of range: "+U);if(x(this))return"0";if(L(this))return"-"+M(this).toString(U);for(var C=g(Math.pow(U,6)),S=this,O="";;){var V=oe(S,C).g;S=K(S,V.j(C));var k=((0<S.g.length?S.g[0]:S.h)>>>0).toString(U);if(S=V,x(S))return k+O;for(;6>k.length;)k="0"+k;O=k+O}},n.i=function(U){return 0>U?0:U<this.g.length?this.g[U]:this.h};function x(U){if(U.h!=0)return!1;for(var C=0;C<U.g.length;C++)if(U.g[C]!=0)return!1;return!0}function L(U){return U.h==-1}n.l=function(U){return U=K(this,U),L(U)?-1:x(U)?0:1};function M(U){for(var C=U.g.length,S=[],O=0;O<C;O++)S[O]=~U.g[O];return new f(S,~U.h).add(b)}n.abs=function(){return L(this)?M(this):this},n.add=function(U){for(var C=Math.max(this.g.length,U.g.length),S=[],O=0,V=0;V<=C;V++){var k=O+(this.i(V)&65535)+(U.i(V)&65535),I=(k>>>16)+(this.i(V)>>>16)+(U.i(V)>>>16);O=I>>>16,k&=65535,I&=65535,S[V]=I<<16|k}return new f(S,S[S.length-1]&-2147483648?-1:0)};function K(U,C){return U.add(M(C))}n.j=function(U){if(x(this)||x(U))return E;if(L(this))return L(U)?M(this).j(M(U)):M(M(this).j(U));if(L(U))return M(this.j(M(U)));if(0>this.l(R)&&0>U.l(R))return g(this.m()*U.m());for(var C=this.g.length+U.g.length,S=[],O=0;O<2*C;O++)S[O]=0;for(O=0;O<this.g.length;O++)for(var V=0;V<U.g.length;V++){var k=this.i(O)>>>16,I=this.i(O)&65535,De=U.i(V)>>>16,Me=U.i(V)&65535;S[2*O+2*V]+=I*Me,Z(S,2*O+2*V),S[2*O+2*V+1]+=k*Me,Z(S,2*O+2*V+1),S[2*O+2*V+1]+=I*De,Z(S,2*O+2*V+1),S[2*O+2*V+2]+=k*De,Z(S,2*O+2*V+2)}for(O=0;O<C;O++)S[O]=S[2*O+1]<<16|S[2*O];for(O=C;O<2*C;O++)S[O]=0;return new f(S,0)};function Z(U,C){for(;(U[C]&65535)!=U[C];)U[C+1]+=U[C]>>>16,U[C]&=65535,C++}function $(U,C){this.g=U,this.h=C}function oe(U,C){if(x(C))throw Error("division by zero");if(x(U))return new $(E,E);if(L(U))return C=oe(M(U),C),new $(M(C.g),M(C.h));if(L(C))return C=oe(U,M(C)),new $(M(C.g),C.h);if(30<U.g.length){if(L(U)||L(C))throw Error("slowDivide_ only works with positive integers.");for(var S=b,O=C;0>=O.l(U);)S=ae(S),O=ae(O);var V=we(S,1),k=we(O,1);for(O=we(O,2),S=we(S,2);!x(O);){var I=k.add(O);0>=I.l(U)&&(V=V.add(S),k=I),O=we(O,1),S=we(S,1)}return C=K(U,V.j(C)),new $(V,C)}for(V=E;0<=U.l(C);){for(S=Math.max(1,Math.floor(U.m()/C.m())),O=Math.ceil(Math.log(S)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),k=g(S),I=k.j(C);L(I)||0<I.l(U);)S-=O,k=g(S),I=k.j(C);x(k)&&(k=b),V=V.add(k),U=K(U,I)}return new $(V,U)}n.A=function(U){return oe(this,U).h},n.and=function(U){for(var C=Math.max(this.g.length,U.g.length),S=[],O=0;O<C;O++)S[O]=this.i(O)&U.i(O);return new f(S,this.h&U.h)},n.or=function(U){for(var C=Math.max(this.g.length,U.g.length),S=[],O=0;O<C;O++)S[O]=this.i(O)|U.i(O);return new f(S,this.h|U.h)},n.xor=function(U){for(var C=Math.max(this.g.length,U.g.length),S=[],O=0;O<C;O++)S[O]=this.i(O)^U.i(O);return new f(S,this.h^U.h)};function ae(U){for(var C=U.g.length+1,S=[],O=0;O<C;O++)S[O]=U.i(O)<<1|U.i(O-1)>>>31;return new f(S,U.h)}function we(U,C){var S=C>>5;C%=32;for(var O=U.g.length-S,V=[],k=0;k<O;k++)V[k]=0<C?U.i(k+S)>>>C|U.i(k+S+1)<<32-C:U.i(k+S);return new f(V,U.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Pb=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=v,As=f}).apply(typeof p0<"u"?p0:typeof self<"u"?self:typeof window<"u"?window:{});var Dh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vb,_u,Lb,zh,Mp,Ub,Bb,jb;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dh=="object"&&Dh];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var H=c[A];if(!(H in _))break e;_=_[H]}c=c[c.length-1],A=_[c],y=y(A),y!=A&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,A=!1,H={next:function(){if(!A&&_<c.length){var Q=_++;return{value:y(Q,c[Q]),done:!1}}return A=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},p=this||self;function d(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,_){return c.call.apply(c.bind,arguments)}function E(c,y,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,A),c.apply(y,H)}}return function(){return c.apply(y,arguments)}}function b(c,y,_){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:E,b.apply(null,arguments)}function R(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function x(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,H,Q){for(var se=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)se[ze-2]=arguments[ze];return y.prototype[H].apply(A,se)}}function L(c){const y=c.length;if(0<y){const _=Array(y);for(let A=0;A<y;A++)_[A]=c[A];return _}return[]}function M(c,y){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(d(A)){const H=c.length||0,Q=A.length||0;c.length=H+Q;for(let se=0;se<Q;se++)c[H+se]=A[se]}else c.push(A)}}class K{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Z(c){return/^[\s\xa0]*$/.test(c)}function $(){var c=p.navigator;return c&&(c=c.userAgent)?c:""}function oe(c){return oe[" "](c),c}oe[" "]=function(){};var ae=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function we(c,y,_){for(const A in c)y.call(_,c[A],A,c)}function U(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function C(c){const y={};for(const _ in c)y[_]=c[_];return y}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,y){let _,A;for(let H=1;H<arguments.length;H++){A=arguments[H];for(_ in A)c[_]=A[_];for(let Q=0;Q<S.length;Q++)_=S[Q],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function V(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function k(c){p.setTimeout(()=>{throw c},0)}function I(){var c=Ne;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class De{constructor(){this.h=this.g=null}add(y,_){const A=Me.get();A.set(y,_),this.h?this.h.next=A:this.g=A,this.h=A}}var Me=new K(()=>new re,c=>c.reset());class re{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ge,me=!1,Ne=new De,P=()=>{const c=p.Promise.resolve(void 0);ge=()=>{c.then(ie)}};var ie=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(_){k(_)}var y=Me;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}me=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var le=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};p.addEventListener("test",_,y),p.removeEventListener("test",_,y)}catch{}return c}();function xe(c,y){if(ue.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ae){e:{try{oe(y.nodeName);var H=!0;break e}catch{}H=!1}H||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ce[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&xe.aa.h.call(this)}}x(xe,ue);var Ce={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var St="closure_listenable_"+(1e6*Math.random()|0),$e=0;function ft(c,y,_,A,H){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!A,this.ha=H,this.key=++$e,this.da=this.fa=!1}function Je(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function dn(c){this.src=c,this.g={},this.h=0}dn.prototype.add=function(c,y,_,A,H){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var se=jn(c,y,A,H);return-1<se?(y=c[se],_||(y.fa=!1)):(y=new ft(y,this.src,Q,!!A,H),y.fa=_,c.push(y)),y};function Hi(c,y){var _=y.type;if(_ in c.g){var A=c.g[_],H=Array.prototype.indexOf.call(A,y,void 0),Q;(Q=0<=H)&&Array.prototype.splice.call(A,H,1),Q&&(Je(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function jn(c,y,_,A){for(var H=0;H<c.length;++H){var Q=c[H];if(!Q.da&&Q.listener==y&&Q.capture==!!_&&Q.ha==A)return H}return-1}var xr="closure_lm_"+(1e6*Math.random()|0),Or={};function qi(c,y,_,A,H){if(Array.isArray(y)){for(var Q=0;Q<y.length;Q++)qi(c,y[Q],_,A,H);return null}return _=ac(_),c&&c[St]?c.K(y,_,g(A)?!!A.capture:!1,H):ll(c,y,_,!1,A,H)}function ll(c,y,_,A,H,Q){if(!y)throw Error("Invalid event type");var se=g(H)?!!H.capture:!!H,ze=ul(c);if(ze||(c[xr]=ze=new dn(c)),_=ze.add(y,_,A,se,Q),_.proxy)return _;if(A=Va(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)le||(H=se),H===void 0&&(H=!1),c.addEventListener(y.toString(),A,H);else if(c.attachEvent)c.attachEvent(Ua(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Va(){function c(_){return y.call(c.src,c.listener,_)}const y=id;return c}function La(c,y,_,A,H){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)La(c,y[Q],_,A,H);else A=g(A)?!!A.capture:!!A,_=ac(_),c&&c[St]?(c=c.i,y=String(y).toString(),y in c.g&&(Q=c.g[y],_=jn(Q,_,A,H),-1<_&&(Je(Q[_]),Array.prototype.splice.call(Q,_,1),Q.length==0&&(delete c.g[y],c.h--)))):c&&(c=ul(c))&&(y=c.g[y.toString()],c=-1,y&&(c=jn(y,_,A,H)),(_=-1<c?y[c]:null)&&js(_))}function js(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[St])Hi(y.i,c);else{var _=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(_,A,c.capture):y.detachEvent?y.detachEvent(Ua(_),A):y.addListener&&y.removeListener&&y.removeListener(A),(_=ul(y))?(Hi(_,c),_.h==0&&(_.src=null,y[xr]=null)):Je(c)}}}function Ua(c){return c in Or?Or[c]:Or[c]="on"+c}function id(c,y){if(c.da)c=!0;else{y=new xe(y,this);var _=c.listener,A=c.ha||c.src;c.fa&&js(c),c=_.call(A,y)}return c}function ul(c){return c=c[xr],c instanceof dn?c:null}var En="__closure_events_fn_"+(1e9*Math.random()>>>0);function ac(c){return typeof c=="function"?c:(c[En]||(c[En]=function(y){return c.handleEvent(y)}),c[En])}function Ot(){de.call(this),this.i=new dn(this),this.M=this,this.F=null}x(Ot,de),Ot.prototype[St]=!0,Ot.prototype.removeEventListener=function(c,y,_,A){La(this,c,y,_,A)};function zt(c,y){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new ue(y,c);else if(y instanceof ue)y.target=y.target||c;else{var H=y;y=new ue(A,c),O(y,H)}if(H=!0,_)for(var Q=_.length-1;0<=Q;Q--){var se=y.g=_[Q];H=Fi(se,A,!0,y)&&H}if(se=y.g=c,H=Fi(se,A,!0,y)&&H,H=Fi(se,A,!1,y)&&H,_)for(Q=0;Q<_.length;Q++)se=y.g=_[Q],H=Fi(se,A,!1,y)&&H}Ot.prototype.N=function(){if(Ot.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],A=0;A<_.length;A++)Je(_[A]);delete c.g[y],c.h--}}this.F=null},Ot.prototype.K=function(c,y,_,A){return this.i.add(String(c),y,!1,_,A)},Ot.prototype.L=function(c,y,_,A){return this.i.add(String(c),y,!0,_,A)};function Fi(c,y,_,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var H=!0,Q=0;Q<y.length;++Q){var se=y[Q];if(se&&!se.da&&se.capture==_){var ze=se.listener,kt=se.ha||se.src;se.fa&&Hi(c.i,se),H=ze.call(kt,A)!==!1&&H}}return H&&!A.defaultPrevented}function oc(c,y,_){if(typeof c=="function")_&&(c=b(c,_));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:p.setTimeout(c,y||0)}function cl(c){c.g=oc(()=>{c.g=null,c.i&&(c.i=!1,cl(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class rd extends de{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:cl(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zs(c){de.call(this),this.h=c,this.g={}}x(zs,de);var Nr=[];function rn(c){we(c.g,function(y,_){this.g.hasOwnProperty(_)&&js(y)},c),c.g={}}zs.prototype.N=function(){zs.aa.N.call(this),rn(this)},zs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hl=p.JSON.stringify,gi=p.JSON.parse,mn=class{stringify(c){return p.JSON.stringify(c,void 0)}parse(c){return p.JSON.parse(c,void 0)}};function fl(){}fl.prototype.h=null;function lc(c){return c.h||(c.h=c.i())}function uc(){}var yi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function kr(){ue.call(this,"d")}x(kr,ue);function ai(){ue.call(this,"c")}x(ai,ue);var zn={},Mr=null;function Ba(){return Mr=Mr||new Ot}zn.La="serverreachability";function dl(c){ue.call(this,zn.La,c)}x(dl,ue);function Pr(c){const y=Ba();zt(y,new dl(y))}zn.STAT_EVENT="statevent";function ja(c,y){ue.call(this,zn.STAT_EVENT,c),this.stat=y}x(ja,ue);function vt(c){const y=Ba();zt(y,new ja(y,c))}zn.Ma="timingevent";function cc(c,y){ue.call(this,zn.Ma,c),this.size=y}x(cc,ue);function Vr(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){c()},y)}function Lr(){this.g=!0}Lr.prototype.xa=function(){this.g=!1};function hc(c,y,_,A,H,Q){c.info(function(){if(c.g)if(Q)for(var se="",ze=Q.split("&"),kt=0;kt<ze.length;kt++){var He=ze[kt].split("=");if(1<He.length){var Ft=He[0];He=He[1];var Mt=Ft.split("_");se=2<=Mt.length&&Mt[1]=="type"?se+(Ft+"="+He+"&"):se+(Ft+"=redacted&")}}else se=null;else se=Q;return"XMLHTTP REQ ("+A+") [attempt "+H+"]: "+y+`
`+_+`
`+se})}function fc(c,y,_,A,H,Q,se){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+H+"]: "+y+`
`+_+`
`+Q+" "+se})}function Ur(c,y,_,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ht(c,_)+(A?" "+A:"")})}function vi(c,y){c.info(function(){return"TIMEOUT: "+y})}Lr.prototype.info=function(){};function Ht(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var H=A[1];if(Array.isArray(H)&&!(1>H.length)){var Q=H[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var se=1;se<H.length;se++)H[se]=""}}}}return hl(_)}catch{return y}}var Nt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Gi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hs;function za(){}x(za,fl),za.prototype.g=function(){return new XMLHttpRequest},za.prototype.i=function(){return{}},Hs=new za;function _i(c,y,_,A){this.j=c,this.i=y,this.l=_,this.R=A||1,this.U=new zs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ml}function ml(){this.i=null,this.g="",this.h=!1}var Br={},qs={};function oi(c,y,_){c.L=1,c.v=$s(dt(y)),c.m=_,c.P=!0,$i(c,null)}function $i(c,y){c.F=Date.now(),ot(c),c.A=dt(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Yi(_.i,"t",A),c.C=0,_=c.j.J,c.h=new ml,c.g=Rc(c.j,_?y:null,!c.m),0<c.O&&(c.M=new rd(b(c.Y,c,c.g),c.O)),y=c.U,_=c.g,A=c.ca;var H="readystatechange";Array.isArray(H)||(H&&(Nr[0]=H.toString()),H=Nr);for(var Q=0;Q<H.length;Q++){var se=qi(_,H[Q],A||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.H?C(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Pr(),hc(c.i,c.u,c.A,c.l,c.R,c.m)}_i.prototype.ca=function(c){c=c.target;const y=this.M;y&&$n(c)==3?y.j():this.Y(c)},_i.prototype.Y=function(c){try{if(c==this.g)e:{const Mt=$n(this.g);var y=this.g.Ba();const Ji=this.g.Z();if(!(3>Mt)&&(Mt!=3||this.g&&(this.h.h||this.g.oa()||vc(this.g)))){this.J||Mt!=4||y==7||(y==8||0>=Ji?Pr(3):Pr(2)),Ha(this);var _=this.g.Z();this.X=_;t:if(jr(this)){var A=vc(this.g);c="";var H=A.length,Q=$n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){bn(this),Cn(this);var se="";break t}this.h.i=new p.TextDecoder}for(y=0;y<H;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!(Q&&y==H-1)});A.length=0,this.h.g+=c,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=_==200,fc(this.i,this.u,this.A,this.l,this.R,Mt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,kt=this.g;if((ze=kt.g?kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(ze)){var He=ze;break t}}He=null}if(_=He)Ur(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,In(this,_);else{this.o=!1,this.s=3,vt(12),bn(this),Cn(this);break e}}if(this.P){_=!0;let Xt;for(;!this.J&&this.C<se.length;)if(Xt=zr(this,se),Xt==qs){Mt==4&&(this.s=4,vt(14),_=!1),Ur(this.i,this.l,null,"[Incomplete Response]");break}else if(Xt==Br){this.s=4,vt(15),Ur(this.i,this.l,se,"[Invalid Chunk]"),_=!1;break}else Ur(this.i,this.l,Xt,null),In(this,Xt);if(jr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mt!=4||se.length!=0||this.h.h||(this.s=1,vt(16),_=!1),this.o=this.o&&_,!_)Ur(this.i,this.l,se,"[Invalid Chunked Response]"),bn(this),Cn(this);else if(0<se.length&&!this.W){this.W=!0;var Ft=this.j;Ft.g==this&&Ft.ba&&!Ft.M&&(Ft.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),Js(Ft),Ft.M=!0,vt(11))}}else Ur(this.i,this.l,se,null),In(this,se);Mt==4&&bn(this),this.o&&!this.J&&(Mt==4?Tc(this.j,this):(this.o=!1,ot(this)))}else cd(this.g),_==400&&0<se.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),bn(this),Cn(this)}}}catch{}finally{}};function jr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function zr(c,y){var _=c.C,A=y.indexOf(`
`,_);return A==-1?qs:(_=Number(y.substring(_,A)),isNaN(_)?Br:(A+=1,A+_>y.length?qs:(y=y.slice(A,A+_),c.C=A+_,y)))}_i.prototype.cancel=function(){this.J=!0,bn(this)};function ot(c){c.S=Date.now()+c.I,pl(c,c.I)}function pl(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Vr(b(c.ba,c),y)}function Ha(c){c.B&&(p.clearTimeout(c.B),c.B=null)}_i.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(vi(this.i,this.A),this.L!=2&&(Pr(),vt(17)),bn(this),this.s=2,Cn(this)):pl(this,this.S-c)};function Cn(c){c.j.G==0||c.J||Tc(c.j,c)}function bn(c){Ha(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,rn(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function In(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Hr(_.h,c))){if(!c.K&&Hr(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var H=A;if(H[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Za(_),Xa(_);else break e;Rl(_),vt(18)}}else _.za=H[1],0<_.za-_.T&&37500>H[2]&&_.F&&_.v==0&&!_.C&&(_.C=Vr(b(_.Za,_),6e3));if(1>=dc(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Zi(_,11)}else if((c.K||_.g==c)&&Za(_),!Z(y))for(H=_.Da.g.parse(y),y=0;y<H.length;y++){let He=H[y];if(_.T=He[0],He=He[1],_.G==2)if(He[0]=="c"){_.K=He[1],_.ia=He[2];const Ft=He[3];Ft!=null&&(_.la=Ft,_.j.info("VER="+_.la));const Mt=He[4];Mt!=null&&(_.Aa=Mt,_.j.info("SVER="+_.Aa));const Ji=He[5];Ji!=null&&typeof Ji=="number"&&0<Ji&&(A=1.5*Ji,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Xt=c.g;if(Xt){const Ri=Xt.g?Xt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ri){var Q=A.h;Q.g||Ri.indexOf("spdy")==-1&&Ri.indexOf("quic")==-1&&Ri.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(qr(Q,Q.h),Q.h=null))}if(A.D){const Il=Xt.g?Xt.g.getResponseHeader("X-HTTP-Session-Id"):null;Il&&(A.ya=Il,Ke(A.I,A.D,Il))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var se=c;if(A.qa=Sc(A,A.J?A.ia:null,A.W),se.K){Hn(A.h,se);var ze=se,kt=A.L;kt&&(ze.I=kt),ze.B&&(Ha(ze),ot(ze)),A.g=se}else Ec(A);0<_.i.length&&Wa(_)}else He[0]!="stop"&&He[0]!="close"||Zi(_,7);else _.G==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Zi(_,7):Al(_):He[0]!="noop"&&_.l&&_.l.ta(He),_.v=0)}}Pr(4)}catch{}}var sd=class{constructor(c,y){this.g=c,this.map=y}};function gl(c){this.l=c||10,p.PerformanceNavigationTiming?(c=p.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function yl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function dc(c){return c.h?1:c.g?c.g.size:0}function Hr(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function qr(c,y){c.g?c.g.add(y):c.h=y}function Hn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}gl.prototype.cancel=function(){if(this.i=pn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function pn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return L(c.i)}function mc(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(d(c)){for(var y=[],_=c.length,A=0;A<_;A++)y.push(c[A]);return y}y=[],_=0;for(A in c)y[_++]=c[A];return y}function ad(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(d(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const A in c)y[_++]=A;return y}}}function Fs(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(d(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=ad(c),A=mc(c),H=A.length,Q=0;Q<H;Q++)y.call(void 0,A[Q],_&&_[Q],c)}var vl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qa(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),H=null;if(0<=A){var Q=c[_].substring(0,A);H=c[_].substring(A+1)}else Q=c[_];y(Q,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Ki(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ki){this.h=c.h,Fr(this,c.j),this.o=c.o,this.g=c.g,Gs(this,c.s),this.l=c.l;var y=c.i,_=new wi;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Fa(this,_),this.m=c.m}else c&&(y=String(c).match(vl))?(this.h=!1,Fr(this,y[1]||"",!0),this.o=Gr(y[2]||""),this.g=Gr(y[3]||"",!0),Gs(this,y[4]),this.l=Gr(y[5]||"",!0),Fa(this,y[6]||"",!0),this.m=Gr(y[7]||"")):(this.h=!1,this.i=new wi(null,this.h))}Ki.prototype.toString=function(){var c=[],y=this.j;y&&c.push(qn(y,_l,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(qn(y,_l,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(qn(_,_.charAt(0)=="/"?wl:pc,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",qn(_,ud)),c.join("")};function dt(c){return new Ki(c)}function Fr(c,y,_){c.j=_?Gr(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Gs(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Fa(c,y,_){y instanceof wi?(c.i=y,El(c.i,c.h)):(_||(y=qn(y,ld)),c.i=new wi(y,c.h))}function Ke(c,y,_){c.i.set(y,_)}function $s(c){return Ke(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Gr(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function qn(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,od),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function od(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var _l=/[#\/\?@]/g,pc=/[#\?:]/g,wl=/[#\?]/g,ld=/[#\?@]/g,ud=/#/g;function wi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Fn(c){c.g||(c.g=new Map,c.h=0,c.i&&qa(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}n=wi.prototype,n.add=function(c,y){Fn(this),this.i=null,c=Xi(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Ga(c,y){Fn(c),y=Xi(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Qi(c,y){return Fn(c),y=Xi(c,y),c.g.has(y)}n.forEach=function(c,y){Fn(this),this.g.forEach(function(_,A){_.forEach(function(H){c.call(y,H,A,this)},this)},this)},n.na=function(){Fn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let A=0;A<y.length;A++){const H=c[A];for(let Q=0;Q<H.length;Q++)_.push(y[A])}return _},n.V=function(c){Fn(this);let y=[];if(typeof c=="string")Qi(this,c)&&(y=y.concat(this.g.get(Xi(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},n.set=function(c,y){return Fn(this),this.i=null,c=Xi(this,c),Qi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},n.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Yi(c,y,_){Ga(c,y),0<_.length&&(c.i=null,c.g.set(Xi(c,y),L(_)),c.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var A=y[_];const Q=encodeURIComponent(String(A)),se=this.V(A);for(A=0;A<se.length;A++){var H=Q;se[A]!==""&&(H+="="+encodeURIComponent(String(se[A]))),c.push(H)}}return this.i=c.join("&")};function Xi(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function El(c,y){y&&!c.j&&(Fn(c),c.i=null,c.g.forEach(function(_,A){var H=A.toLowerCase();A!=H&&(Ga(this,A),Yi(this,H,_))},c)),c.j=y}function gc(c,y){const _=new Lr;if(p.Image){const A=new Image;A.onload=R(Gn,_,"TestLoadImage: loaded",!0,y,A),A.onerror=R(Gn,_,"TestLoadImage: error",!1,y,A),A.onabort=R(Gn,_,"TestLoadImage: abort",!1,y,A),A.ontimeout=R(Gn,_,"TestLoadImage: timeout",!1,y,A),p.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Ks(c,y){const _=new Lr,A=new AbortController,H=setTimeout(()=>{A.abort(),Gn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(Q=>{clearTimeout(H),Q.ok?Gn(_,"TestPingServer: ok",!0,y):Gn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),Gn(_,"TestPingServer: error",!1,y)})}function Gn(c,y,_,A,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),A(_)}catch{}}function Qs(){this.g=new mn}function Ei(c,y,_){const A=_||"";try{Fs(c,function(H,Q){let se=H;g(H)&&(se=hl(H)),y.push(A+Q+"="+encodeURIComponent(se))})}catch(H){throw y.push(A+"type="+encodeURIComponent("_badmap")),H}}function $r(c){this.l=c.Ub||null,this.j=c.eb||!1}x($r,fl),$r.prototype.g=function(){return new Wi(this.l,this.j)},$r.prototype.i=function(c){return function(){return c}}({});function Wi(c,y){Ot.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Wi,Ot),n=Wi.prototype,n.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Ti(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||p).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bi(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ti(this)),this.g&&(this.readyState=3,Ti(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function bl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?bi(this):Ti(this),this.readyState==3&&bl(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,bi(this))},n.Qa=function(c){this.g&&(this.response=c,bi(this))},n.ga=function(){this.g&&bi(this)};function bi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ti(c)}n.setRequestHeader=function(c,y){this.u.append(c,y)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function Ti(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Wi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Tl(c){let y="";return we(c,function(_,A){y+=A,y+=":",y+=_,y+=`\r
`}),y}function qt(c,y,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=Tl(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Ke(c,y,_))}function We(c){Ot.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(We,Ot);var $a=/^https?$/i,Ys=["POST","PUT"];n=We.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,y,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hs.g(),this.v=this.o?lc(this.o):lc(Hs),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Q){yc(this,Q);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var H in A)_.set(H,A[H]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())_.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),H=p.FormData&&c instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Ys,y,void 0))||A||H||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,se]of _)this.g.setRequestHeader(Q,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xs(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){yc(this,Q)}};function yc(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Ka(c),Ai(c)}function Ka(c){c.A||(c.A=!0,zt(c,"complete"),zt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,zt(this,"complete"),zt(this,"abort"),Ai(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ai(this,!0)),We.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Qa(this):this.bb())},n.bb=function(){Qa(this)};function Qa(c){if(c.h&&typeof f<"u"&&(!c.v[1]||$n(c)!=4||c.Z()!=2)){if(c.u&&$n(c)==4)oc(c.Ea,0,c);else if(zt(c,"readystatechange"),$n(c)==4){c.h=!1;try{const se=c.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var A;if(A=se===0){var H=String(c.D).match(vl)[1]||null;!H&&p.self&&p.self.location&&(H=p.self.location.protocol.slice(0,-1)),A=!$a.test(H?H.toLowerCase():"")}_=A}if(_)zt(c,"complete"),zt(c,"success");else{c.m=6;try{var Q=2<$n(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",Ka(c)}}finally{Ai(c)}}}}function Ai(c,y){if(c.g){Xs(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||zt(c,"ready");try{_.onreadystatechange=A}catch{}}}function Xs(c){c.I&&(p.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function $n(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<$n(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),gi(y)}};function vc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function cd(c){const y={};c=(c.g&&2<=$n(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(Z(c[A]))continue;var _=V(c[A]);const H=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=y[H]||[];y[H]=Q,Q.push(_)}U(y,function(A){return A.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ws(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Ya(c){this.Aa=0,this.i=[],this.j=new Lr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ws("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ws("baseRetryDelayMs",5e3,c),this.cb=Ws("retryDelaySeedMs",1e4,c),this.Wa=Ws("forwardChannelMaxRetries",2,c),this.wa=Ws("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new gl(c&&c.concurrentRequestLimit),this.Da=new Qs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ya.prototype,n.la=8,n.G=1,n.connect=function(c,y,_,A){vt(0),this.W=c,this.H=y||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=Sc(this,null,this.W),Wa(this)};function Al(c){if(_c(c),c.G==3){var y=c.U++,_=dt(c.I);if(Ke(_,"SID",c.K),Ke(_,"RID",y),Ke(_,"TYPE","terminate"),Zs(c,_),y=new _i(c,c.j,y),y.L=2,y.v=$s(dt(_)),_=!1,p.navigator&&p.navigator.sendBeacon)try{_=p.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&p.Image&&(new Image().src=y.v,_=!0),_||(y.g=Rc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ot(y)}Ac(c)}function Xa(c){c.g&&(Js(c),c.g.cancel(),c.g=null)}function _c(c){Xa(c),c.u&&(p.clearTimeout(c.u),c.u=null),Za(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&p.clearTimeout(c.s),c.s=null)}function Wa(c){if(!yl(c.h)&&!c.s){c.s=!0;var y=c.Ga;ge||P(),me||(ge(),me=!0),Ne.add(y,c),c.B=0}}function hd(c,y){return dc(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Vr(b(c.Ga,c,y),Cl(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const H=new _i(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=C(Q),O(Q,this.S)):Q=this.S),this.m!==null||this.O||(H.H=Q,Q=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=wc(this,H,y),_=dt(this.I),Ke(_,"RID",c),Ke(_,"CVER",22),this.D&&Ke(_,"X-HTTP-Session-Id",this.D),Zs(this,_),Q&&(this.O?y="headers="+encodeURIComponent(String(Tl(Q)))+"&"+y:this.m&&qt(_,this.m,Q)),qr(this.h,H),this.Ua&&Ke(_,"TYPE","init"),this.P?(Ke(_,"$req",y),Ke(_,"SID","null"),H.T=!0,oi(H,_,null)):oi(H,_,y),this.G=2}}else this.G==3&&(c?Sl(this,c):this.i.length==0||yl(this.h)||Sl(this))};function Sl(c,y){var _;y?_=y.l:_=c.U++;const A=dt(c.I);Ke(A,"SID",c.K),Ke(A,"RID",_),Ke(A,"AID",c.T),Zs(c,A),c.m&&c.o&&qt(A,c.m,c.o),_=new _i(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=wc(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),qr(c.h,_),oi(_,A,y)}function Zs(c,y){c.H&&we(c.H,function(_,A){Ke(y,A,_)}),c.l&&Fs({},function(_,A){Ke(y,A,_)})}function wc(c,y,_){_=Math.min(c.i.length,_);var A=c.l?b(c.l.Na,c.l,c):null;e:{var H=c.i;let Q=-1;for(;;){const se=["count="+_];Q==-1?0<_?(Q=H[0].g,se.push("ofs="+Q)):Q=0:se.push("ofs="+Q);let ze=!0;for(let kt=0;kt<_;kt++){let He=H[kt].g;const Ft=H[kt].map;if(He-=Q,0>He)Q=Math.max(0,H[kt].g-100),ze=!1;else try{Ei(Ft,se,"req"+He+"_")}catch{A&&A(Ft)}}if(ze){A=se.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,A}function Ec(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ge||P(),me||(ge(),me=!0),Ne.add(y,c),c.v=0}}function Rl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Vr(b(c.Fa,c),Cl(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,bc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Vr(b(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vt(10),Xa(this),bc(this))};function Js(c){c.A!=null&&(p.clearTimeout(c.A),c.A=null)}function bc(c){c.g=new _i(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=dt(c.qa);Ke(y,"RID","rpc"),Ke(y,"SID",c.K),Ke(y,"AID",c.T),Ke(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ke(y,"TO",c.ja),Ke(y,"TYPE","xmlhttp"),Zs(c,y),c.m&&c.o&&qt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=$s(dt(y)),_.m=null,_.P=!0,$i(_,c)}n.Za=function(){this.C!=null&&(this.C=null,Xa(this),Rl(this),vt(19))};function Za(c){c.C!=null&&(p.clearTimeout(c.C),c.C=null)}function Tc(c,y){var _=null;if(c.g==y){Za(c),Js(c),c.g=null;var A=2}else if(Hr(c.h,y))_=y.D,Hn(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var H=c.B;A=Ba(),zt(A,new cc(A,_)),Wa(c)}else Ec(c);else if(H=y.s,H==3||H==0&&0<y.X||!(A==1&&hd(c,y)||A==2&&Rl(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),H){case 1:Zi(c,5);break;case 4:Zi(c,10);break;case 3:Zi(c,6);break;default:Zi(c,2)}}}function Cl(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Zi(c,y){if(c.j.info("Error code "+y),y==2){var _=b(c.fb,c),A=c.Xa;const H=!A;A=new Ki(A||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Fr(A,"https"),$s(A),H?gc(A.toString(),_):Ks(A.toString(),_)}else vt(2);c.G=0,c.l&&c.l.sa(y),Ac(c),_c(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function Ac(c){if(c.G=0,c.ka=[],c.l){const y=pn(c.h);(y.length!=0||c.i.length!=0)&&(M(c.ka,y),M(c.ka,c.i),c.h.i.length=0,L(c.i),c.i.length=0),c.l.ra()}}function Sc(c,y,_){var A=_ instanceof Ki?dt(_):new Ki(_);if(A.g!="")y&&(A.g=y+"."+A.g),Gs(A,A.s);else{var H=p.location;A=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;var Q=new Ki(null);A&&Fr(Q,A),y&&(Q.g=y),H&&Gs(Q,H),_&&(Q.l=_),A=Q}return _=c.D,y=c.ya,_&&y&&Ke(A,_,y),Ke(A,"VER",c.la),Zs(c,A),A}function Rc(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new We(new $r({eb:_})):new We(c.pa),y.Ha(c.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cc(){}n=Cc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ja(){}Ja.prototype.g=function(c,y){return new gn(c,y)};function gn(c,y){Ot.call(this),this.g=new Ya(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!Z(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!Z(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Si(this)}x(gn,Ot),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Al(this.g)},gn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=hl(c),c=_);y.i.push(new sd(y.Ya++,c)),y.G==3&&Wa(y)},gn.prototype.N=function(){this.g.l=null,delete this.j,Al(this.g),delete this.g,gn.aa.N.call(this)};function Ic(c){kr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}x(Ic,kr);function Dc(){ai.call(this),this.status=1}x(Dc,ai);function Si(c){this.g=c}x(Si,Cc),Si.prototype.ua=function(){zt(this.g,"a")},Si.prototype.ta=function(c){zt(this.g,new Ic(c))},Si.prototype.sa=function(c){zt(this.g,new Dc)},Si.prototype.ra=function(){zt(this.g,"b")},Ja.prototype.createWebChannel=Ja.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,jb=function(){return new Ja},Bb=function(){return Ba()},Ub=zn,Mp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Nt.NO_ERROR=0,Nt.TIMEOUT=8,Nt.HTTP_ERROR=6,zh=Nt,Gi.COMPLETE="complete",Lb=Gi,uc.EventType=yi,yi.OPEN="a",yi.CLOSE="b",yi.ERROR="c",yi.MESSAGE="d",Ot.prototype.listen=Ot.prototype.K,_u=uc,We.prototype.listenOnce=We.prototype.L,We.prototype.getLastError=We.prototype.Ka,We.prototype.getLastErrorCode=We.prototype.Ba,We.prototype.getStatus=We.prototype.Z,We.prototype.getResponseJson=We.prototype.Oa,We.prototype.getResponseText=We.prototype.oa,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Ha,Vb=We}).apply(typeof Dh<"u"?Dh:typeof self<"u"?self:typeof window<"u"?window:{});const g0="@firebase/firestore",y0="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jo="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca=new lg("@firebase/firestore");function Co(){return Ca.logLevel}function ce(n,...e){if(Ca.logLevel<=Le.DEBUG){const t=e.map(Tg);Ca.debug(`Firestore (${Jo}): ${n}`,...t)}}function Sr(n,...e){if(Ca.logLevel<=Le.ERROR){const t=e.map(Tg);Ca.error(`Firestore (${Jo}): ${n}`,...t)}}function jo(n,...e){if(Ca.logLevel<=Le.WARN){const t=e.map(Tg);Ca.warn(`Firestore (${Jo}): ${n}`,...t)}}function Tg(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(n="Unexpected state"){const e=`FIRESTORE (${Jo}) INTERNAL ASSERTION FAILED: `+n;throw Sr(e),new Error(e)}function Ze(n,e){n||Te()}function Re(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Ir{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Sx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ln.UNAUTHENTICATED))}shutdown(){}}class Rx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Cx{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ze(this.o===void 0);let s=this.i;const o=d=>this.i!==s?(s=this.i,t(d)):Promise.resolve();let u=new Er;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Er,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const d=u;e.enqueueRetryable(async()=>{await d.promise,await o(this.currentUser)})},p=d=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(d=>p(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?p(d):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Er)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ze(typeof s.accessToken=="string"),new zb(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string"),new ln(e)}}class Ix{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Dx{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new Ix(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class v0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xx{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Mn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Ze(this.o===void 0);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new v0(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ze(typeof t.token=="string"),this.R=t.token,new v0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Ox(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function je(n,e){return n<e?-1:n>e?1:0}function zo(n,e,t){return n.length===e.length&&n.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0=-62135596800,w0=1e6;class Ut{static now(){return Ut.fromMillis(Date.now())}static fromDate(e){return Ut.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*w0);return new Ut(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<_0)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/w0}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-_0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new Ut(0,0))}static max(){return new Ae(new Ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0="__name__";class Ni{constructor(e,t,s){t===void 0?t=0:t>e.length&&Te(),s===void 0?s=e.length-t:s>e.length-t&&Te(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Ni.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ni?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=Ni.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Math.sign(e.length-t.length)}static compareSegments(e,t){const s=Ni.isNumericId(e),o=Ni.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Ni.extractNumericId(e).compare(Ni.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return As.fromString(e.substring(4,e.length-2))}}class at extends Ni{construct(e,t,s){return new at(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new at(t)}static emptyPath(){return new at([])}}const Nx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Ni{construct(e,t,s){return new tn(e,t,s)}static isValidIdentifier(e){return Nx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===E0}static keyField(){return new tn([E0])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let f=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new he(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[o+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new he(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=d,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(s+=p,o++):(u(),o++)}if(u(),f)throw new he(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(t)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(at.fromString(e))}static fromName(e){return new ve(at.fromString(e).popFirst(5))}static empty(){return new ve(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return at.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new at(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nu=-1;function kx(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new Ut(t+1,0):new Ut(t,s));return new Cs(o,ve.empty(),e)}function Mx(n){return new Cs(n.readTime,n.key,Nu)}class Cs{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Cs(Ae.min(),ve.empty(),Nu)}static max(){return new Cs(Ae.max(),ve.empty(),Nu)}}function Px(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(n.documentKey,e.documentKey),t!==0?t:je(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Lx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function el(n){if(n.code!==ee.FAILED_PRECONDITION||n.message!==Vx)throw n;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):te.reject(t)}static resolve(e){return new te((t,s)=>{t(e)})}static reject(e){return new te((t,s)=>{s(e)})}static waitFor(e){return new te((t,s)=>{let o=0,u=0,f=!1;e.forEach(p=>{++o,p.next(()=>{++u,f&&u===o&&t()},d=>s(d))}),f=!0,u===o&&t()})}static or(e){let t=te.resolve(!1);for(const s of e)t=t.next(o=>o?te.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new te((s,o)=>{const u=e.length,f=new Array(u);let p=0;for(let d=0;d<u;d++){const g=d;t(e[g]).next(v=>{f[g]=v,++p,p===u&&s(f)},v=>o(v))}})}static doWhile(e,t){return new te((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function Ux(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function tl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.oe(s),this._e=s=>t.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Of.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag=-1;function Nf(n){return n==null}function nf(n){return n===0&&1/n==-1/0}function Bx(n){return typeof n=="number"&&Number.isInteger(n)&&!nf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="";function jx(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=b0(e)),e=zx(n.get(t),e);return b0(e)}function zx(n,e){let t=e;const s=n.length;for(let o=0;o<s;o++){const u=n.charAt(o);switch(u){case"\0":t+="";break;case qb:t+="";break;default:t+=u}}return t}function b0(n){return n+qb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ls(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Fb(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,t){this.comparator=e,this.root=t||en.EMPTY}insert(e,t){return new ht(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xh(this.root,e,this.comparator,!1)}getReverseIterator(){return new xh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xh(this.root,e,this.comparator,!0)}}class xh{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??en.RED,this.left=o??en.EMPTY,this.right=u??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new en(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return en.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,t,s,o,u){return this}insert(e,t,s){return new en(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new A0(this.data.getIterator())}getIteratorFrom(e){return new A0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Bt(this.comparator);return t.data=e,t}}class A0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new Pn([])}unionWith(e){let t=new Bt(tn.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Pn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return zo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Gb("Invalid base64 string: "+u):u}}(e);return new nn(t)}static fromUint8Array(e){const t=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new nn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const Hx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Is(n){if(Ze(!!n),typeof n=="string"){let e=0;const t=Hx.exec(n);if(Ze(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Tt(n.seconds),nanos:Tt(n.nanos)}}function Tt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ds(n){return typeof n=="string"?nn.fromBase64String(n):nn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b="server_timestamp",Kb="__type__",Qb="__previous_value__",Yb="__local_write_time__";function Sg(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Kb])===null||t===void 0?void 0:t.stringValue)===$b}function kf(n){const e=n.mapValue.fields[Qb];return Sg(e)?kf(e):e}function ku(n){const e=Is(n.mapValue.fields[Yb].timestampValue);return new Ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e,t,s,o,u,f,p,d,g){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=d,this.useFetchStreams=g}}const rf="(default)";class Mu{constructor(e,t){this.projectId=e,this.database=t||rf}static empty(){return new Mu("","")}get isDefaultDatabase(){return this.database===rf}isEqual(e){return e instanceof Mu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb="__type__",Fx="__max__",Oh={mapValue:{}},Wb="__vector__",sf="value";function xs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Sg(n)?4:$x(n)?9007199254740991:Gx(n)?10:11:Te()}function Ui(n,e){if(n===e)return!0;const t=xs(n);if(t!==xs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ku(n).isEqual(ku(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Is(o.timestampValue),p=Is(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,u){return Ds(o.bytesValue).isEqual(Ds(u.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,u){return Tt(o.geoPointValue.latitude)===Tt(u.geoPointValue.latitude)&&Tt(o.geoPointValue.longitude)===Tt(u.geoPointValue.longitude)}(n,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Tt(o.integerValue)===Tt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Tt(o.doubleValue),p=Tt(u.doubleValue);return f===p?nf(f)===nf(p):isNaN(f)&&isNaN(p)}return!1}(n,e);case 9:return zo(n.arrayValue.values||[],e.arrayValue.values||[],Ui);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},p=u.mapValue.fields||{};if(T0(f)!==T0(p))return!1;for(const d in f)if(f.hasOwnProperty(d)&&(p[d]===void 0||!Ui(f[d],p[d])))return!1;return!0}(n,e);default:return Te()}}function Pu(n,e){return(n.values||[]).find(t=>Ui(t,e))!==void 0}function Ho(n,e){if(n===e)return 0;const t=xs(n),s=xs(e);if(t!==s)return je(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return je(n.booleanValue,e.booleanValue);case 2:return function(u,f){const p=Tt(u.integerValue||u.doubleValue),d=Tt(f.integerValue||f.doubleValue);return p<d?-1:p>d?1:p===d?0:isNaN(p)?isNaN(d)?0:-1:1}(n,e);case 3:return S0(n.timestampValue,e.timestampValue);case 4:return S0(ku(n),ku(e));case 5:return je(n.stringValue,e.stringValue);case 6:return function(u,f){const p=Ds(u),d=Ds(f);return p.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(u,f){const p=u.split("/"),d=f.split("/");for(let g=0;g<p.length&&g<d.length;g++){const v=je(p[g],d[g]);if(v!==0)return v}return je(p.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(u,f){const p=je(Tt(u.latitude),Tt(f.latitude));return p!==0?p:je(Tt(u.longitude),Tt(f.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return R0(n.arrayValue,e.arrayValue);case 10:return function(u,f){var p,d,g,v;const E=u.fields||{},b=f.fields||{},R=(p=E[sf])===null||p===void 0?void 0:p.arrayValue,x=(d=b[sf])===null||d===void 0?void 0:d.arrayValue,L=je(((g=R==null?void 0:R.values)===null||g===void 0?void 0:g.length)||0,((v=x==null?void 0:x.values)===null||v===void 0?void 0:v.length)||0);return L!==0?L:R0(R,x)}(n.mapValue,e.mapValue);case 11:return function(u,f){if(u===Oh.mapValue&&f===Oh.mapValue)return 0;if(u===Oh.mapValue)return 1;if(f===Oh.mapValue)return-1;const p=u.fields||{},d=Object.keys(p),g=f.fields||{},v=Object.keys(g);d.sort(),v.sort();for(let E=0;E<d.length&&E<v.length;++E){const b=je(d[E],v[E]);if(b!==0)return b;const R=Ho(p[d[E]],g[v[E]]);if(R!==0)return R}return je(d.length,v.length)}(n.mapValue,e.mapValue);default:throw Te()}}function S0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return je(n,e);const t=Is(n),s=Is(e),o=je(t.seconds,s.seconds);return o!==0?o:je(t.nanos,s.nanos)}function R0(n,e){const t=n.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=Ho(t[o],s[o]);if(u)return u}return je(t.length,s.length)}function qo(n){return Pp(n)}function Pp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const s=Is(t);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ds(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ve.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=Pp(u);return s+"]"}(n.arrayValue):"mapValue"in n?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Pp(t.fields[f])}`;return o+"}"}(n.mapValue):Te()}function Hh(n){switch(xs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=kf(n);return e?16+Hh(e):16;case 5:return 2*n.stringValue.length;case 6:return Ds(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Hh(u),0)}(n.arrayValue);case 10:case 11:return function(s){let o=0;return Ls(s.fields,(u,f)=>{o+=u.length+Hh(f)}),o}(n.mapValue);default:throw Te()}}function C0(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Vp(n){return!!n&&"integerValue"in n}function Rg(n){return!!n&&"arrayValue"in n}function I0(n){return!!n&&"nullValue"in n}function D0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function qh(n){return!!n&&"mapValue"in n}function Gx(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Xb])===null||t===void 0?void 0:t.stringValue)===Wb}function Au(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ls(n.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Au(s)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Au(n.arrayValue.values[t]);return e}return Object.assign({},n)}function $x(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Fx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.value=e}static empty(){return new Sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!qh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Au(t)}setAll(e){let t=tn.emptyPath(),s={},o=[];e.forEach((f,p)=>{if(!t.isImmediateParentOf(p)){const d=this.getFieldsMap(t);this.applyChanges(d,s,o),s={},o=[],t=p.popLast()}f?s[p.lastSegment()]=Au(f):o.push(p.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());qh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ui(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];qh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Ls(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new Sn(Au(this.value))}}function Zb(n){const e=[];return Ls(n.fields,(t,s)=>{const o=new tn([t]);if(qh(s)){const u=Zb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,t,s,o,u,f,p){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(e){return new un(e,0,Ae.min(),Ae.min(),Ae.min(),Sn.empty(),0)}static newFoundDocument(e,t,s,o){return new un(e,1,t,Ae.min(),s,o,0)}static newNoDocument(e,t){return new un(e,2,t,Ae.min(),Ae.min(),Sn.empty(),0)}static newUnknownDocument(e,t){return new un(e,3,t,Ae.min(),Ae.min(),Sn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,t){this.position=e,this.inclusive=t}}function x0(n,e,t){let s=0;for(let o=0;o<n.position.length;o++){const u=e[o],f=n.position[o];if(u.field.isKeyField()?s=ve.comparator(ve.fromName(f.referenceValue),t.key):s=Ho(f,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function O0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ui(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,t="asc"){this.field=e,this.dir=t}}function Kx(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{}class xt extends Jb{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new Yx(e,t,s):t==="array-contains"?new Zx(e,s):t==="in"?new Jx(e,s):t==="not-in"?new eO(e,s):t==="array-contains-any"?new tO(e,s):new xt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new Xx(e,s):new Wx(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Ho(t,this.value)):t!==null&&xs(this.value)===xs(t)&&this.matchesComparison(Ho(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pi extends Jb{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new pi(e,t)}matches(e){return eT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function eT(n){return n.op==="and"}function tT(n){return Qx(n)&&eT(n)}function Qx(n){for(const e of n.filters)if(e instanceof pi)return!1;return!0}function Lp(n){if(n instanceof xt)return n.field.canonicalString()+n.op.toString()+qo(n.value);if(tT(n))return n.filters.map(e=>Lp(e)).join(",");{const e=n.filters.map(t=>Lp(t)).join(",");return`${n.op}(${e})`}}function nT(n,e){return n instanceof xt?function(s,o){return o instanceof xt&&s.op===o.op&&s.field.isEqual(o.field)&&Ui(s.value,o.value)}(n,e):n instanceof pi?function(s,o){return o instanceof pi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,p)=>u&&nT(f,o.filters[p]),!0):!1}(n,e):void Te()}function iT(n){return n instanceof xt?function(t){return`${t.field.canonicalString()} ${t.op} ${qo(t.value)}`}(n):n instanceof pi?function(t){return t.op.toString()+" {"+t.getFilters().map(iT).join(" ,")+"}"}(n):"Filter"}class Yx extends xt{constructor(e,t,s){super(e,t,s),this.key=ve.fromName(s.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class Xx extends xt{constructor(e,t){super(e,"in",t),this.keys=rT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Wx extends xt{constructor(e,t){super(e,"not-in",t),this.keys=rT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function rT(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>ve.fromName(s.referenceValue))}class Zx extends xt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Rg(t)&&Pu(t.arrayValue,this.value)}}class Jx extends xt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Pu(this.value.arrayValue,t)}}class eO extends xt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Pu(this.value.arrayValue,t)}}class tO extends xt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Rg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Pu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e,t=null,s=[],o=[],u=null,f=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=p,this.le=null}}function N0(n,e=null,t=[],s=[],o=null,u=null,f=null){return new nO(n,e,t,s,o,u,f)}function Cg(n){const e=Re(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Lp(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Nf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>qo(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>qo(s)).join(",")),e.le=t}return e.le}function Ig(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Kx(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!nT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!O0(n.startAt,e.startAt)&&O0(n.endAt,e.endAt)}function Up(n){return ve.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,t=null,s=[],o=[],u=null,f="F",p=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=d,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function iO(n,e,t,s,o,u,f,p){return new nl(n,e,t,s,o,u,f,p)}function Mf(n){return new nl(n)}function k0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function sT(n){return n.collectionGroup!==null}function Su(n){const e=Re(n);if(e.he===null){e.he=[];const t=new Set;for(const u of e.explicitOrderBy)e.he.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new Bt(tn.comparator);return f.filters.forEach(d=>{d.getFlattenedFilters().forEach(g=>{g.isInequality()&&(p=p.add(g.field))})}),p})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.he.push(new Vu(u,s))}),t.has(tn.keyField().canonicalString())||e.he.push(new Vu(tn.keyField(),s))}return e.he}function Vi(n){const e=Re(n);return e.Pe||(e.Pe=rO(e,Su(n))),e.Pe}function rO(n,e){if(n.limitType==="F")return N0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Vu(o.field,u)});const t=n.endAt?new af(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new af(n.startAt.position,n.startAt.inclusive):null;return N0(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function Bp(n,e){const t=n.filters.concat([e]);return new nl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function jp(n,e,t){return new nl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Pf(n,e){return Ig(Vi(n),Vi(e))&&n.limitType===e.limitType}function aT(n){return`${Cg(Vi(n))}|lt:${n.limitType}`}function Io(n){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>iT(o)).join(", ")}]`),Nf(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>qo(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>qo(o)).join(",")),`Target(${s})`}(Vi(n))}; limitType=${n.limitType})`}function Vf(n,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ve.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(n,e)&&function(s,o){for(const u of Su(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(n,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(n,e)&&function(s,o){return!(s.startAt&&!function(f,p,d){const g=x0(f,p,d);return f.inclusive?g<=0:g<0}(s.startAt,Su(s),o)||s.endAt&&!function(f,p,d){const g=x0(f,p,d);return f.inclusive?g>=0:g>0}(s.endAt,Su(s),o))}(n,e)}function sO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function oT(n){return(e,t)=>{let s=!1;for(const o of Su(n)){const u=aO(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function aO(n,e,t){const s=n.field.isKeyField()?ve.comparator(e.key,t.key):function(u,f,p){const d=f.data.field(u),g=p.data.field(u);return d!==null&&g!==null?Ho(d,g):Te()}(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ls(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return Fb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO=new ht(ve.comparator);function Rr(){return oO}const lT=new ht(ve.comparator);function wu(...n){let e=lT;for(const t of n)e=e.insert(t.key,t);return e}function uT(n){let e=lT;return n.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function ba(){return Ru()}function cT(){return Ru()}function Ru(){return new Na(n=>n.toString(),(n,e)=>n.isEqual(e))}const lO=new ht(ve.comparator),uO=new Bt(ve.comparator);function Ue(...n){let e=uO;for(const t of n)e=e.add(t);return e}const cO=new Bt(je);function hO(){return cO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nf(e)?"-0":e}}function hT(n){return{integerValue:""+n}}function fO(n,e){return Bx(e)?hT(e):Dg(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(){this._=void 0}}function dO(n,e,t){return n instanceof Lu?function(o,u){const f={fields:{[Kb]:{stringValue:$b},[Yb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Sg(u)&&(u=kf(u)),u&&(f.fields[Qb]=u),{mapValue:f}}(t,e):n instanceof Uu?dT(n,e):n instanceof Bu?mT(n,e):function(o,u){const f=fT(o,u),p=M0(f)+M0(o.Ie);return Vp(f)&&Vp(o.Ie)?hT(p):Dg(o.serializer,p)}(n,e)}function mO(n,e,t){return n instanceof Uu?dT(n,e):n instanceof Bu?mT(n,e):t}function fT(n,e){return n instanceof of?function(s){return Vp(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Lu extends Lf{}class Uu extends Lf{constructor(e){super(),this.elements=e}}function dT(n,e){const t=pT(e);for(const s of n.elements)t.some(o=>Ui(o,s))||t.push(s);return{arrayValue:{values:t}}}class Bu extends Lf{constructor(e){super(),this.elements=e}}function mT(n,e){let t=pT(e);for(const s of n.elements)t=t.filter(o=>!Ui(o,s));return{arrayValue:{values:t}}}class of extends Lf{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function M0(n){return Tt(n.integerValue||n.doubleValue)}function pT(n){return Rg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e,t){this.field=e,this.transform=t}}function gO(n,e){return n.field.isEqual(e.field)&&function(s,o){return s instanceof Uu&&o instanceof Uu||s instanceof Bu&&o instanceof Bu?zo(s.elements,o.elements,Ui):s instanceof of&&o instanceof of?Ui(s.Ie,o.Ie):s instanceof Lu&&o instanceof Lu}(n.transform,e.transform)}class yO{constructor(e,t){this.version=e,this.transformResults=t}}class di{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new di}static exists(e){return new di(void 0,e)}static updateTime(e){return new di(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Uf{}function gT(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new vT(n.key,di.none()):new Yu(n.key,n.data,di.none());{const t=n.data,s=Sn.empty();let o=new Bt(tn.comparator);for(let u of e.fields)if(!o.has(u)){let f=t.field(u);f===null&&u.length>1&&(u=u.popLast(),f=t.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Us(n.key,s,new Pn(o.toArray()),di.none())}}function vO(n,e,t){n instanceof Yu?function(o,u,f){const p=o.value.clone(),d=V0(o.fieldTransforms,u,f.transformResults);p.setAll(d),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(n,e,t):n instanceof Us?function(o,u,f){if(!Fh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const p=V0(o.fieldTransforms,u,f.transformResults),d=u.data;d.setAll(yT(o)),d.setAll(p),u.convertToFoundDocument(f.version,d).setHasCommittedMutations()}(n,e,t):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,t)}function Cu(n,e,t,s){return n instanceof Yu?function(u,f,p,d){if(!Fh(u.precondition,f))return p;const g=u.value.clone(),v=L0(u.fieldTransforms,d,f);return g.setAll(v),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(n,e,t,s):n instanceof Us?function(u,f,p,d){if(!Fh(u.precondition,f))return p;const g=L0(u.fieldTransforms,d,f),v=f.data;return v.setAll(yT(u)),v.setAll(g),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(E=>E.field))}(n,e,t,s):function(u,f,p){return Fh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p}(n,e,t)}function _O(n,e){let t=null;for(const s of n.fieldTransforms){const o=e.data.field(s.field),u=fT(s.transform,o||null);u!=null&&(t===null&&(t=Sn.empty()),t.set(s.field,u))}return t||null}function P0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&zo(s,o,(u,f)=>gO(u,f))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Yu extends Uf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Us extends Uf{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function yT(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}}),e}function V0(n,e,t){const s=new Map;Ze(n.length===t.length);for(let o=0;o<t.length;o++){const u=n[o],f=u.transform,p=e.data.field(u.field);s.set(u.field,mO(f,p,t[o]))}return s}function L0(n,e,t){const s=new Map;for(const o of n){const u=o.transform,f=t.data.field(o.field);s.set(o.field,dO(u,f,e))}return s}class vT extends Uf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wO extends Uf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&vO(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Cu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Cu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=cT();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=t.has(o.key)?null:p;const d=gT(f,p);d!==null&&s.set(o.key,d),f.isValidDocument()||f.convertToNoDocument(Ae.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ue())}isEqual(e){return this.batchId===e.batchId&&zo(this.mutations,e.mutations,(t,s)=>P0(t,s))&&zo(this.baseMutations,e.baseMutations,(t,s)=>P0(t,s))}}class xg{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Ze(e.mutations.length===s.length);let o=function(){return lO}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new xg(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt,Fe;function AO(n){switch(n){case ee.OK:return Te();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Te()}}function _T(n){if(n===void 0)return Sr("GRPC error has no .code"),ee.UNKNOWN;switch(n){case Dt.OK:return ee.OK;case Dt.CANCELLED:return ee.CANCELLED;case Dt.UNKNOWN:return ee.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return ee.INTERNAL;case Dt.UNAVAILABLE:return ee.UNAVAILABLE;case Dt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Dt.NOT_FOUND:return ee.NOT_FOUND;case Dt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Dt.ABORTED:return ee.ABORTED;case Dt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Dt.DATA_LOSS:return ee.DATA_LOSS;default:return Te()}}(Fe=Dt||(Dt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO=new As([4294967295,4294967295],0);function U0(n){const e=SO().encode(n),t=new Pb;return t.update(e),new Uint8Array(t.digest())}function B0(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new As([t,s],0),new As([o,u],0)]}class Og{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Eu(`Invalid padding: ${t}`);if(s<0)throw new Eu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Eu(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Eu(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=As.fromNumber(this.Ee)}Ae(e,t,s){let o=e.add(t.multiply(As.fromNumber(s)));return o.compare(RO)===1&&(o=new As([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=U0(e),[s,o]=B0(t);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Og(u,o,t);return s.forEach(p=>f.insert(p)),f}insert(e){if(this.Ee===0)return;const t=U0(e),[s,o]=B0(t);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Eu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Xu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Bf(Ae.min(),o,new ht(je),Rr(),Ue())}}class Xu{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Xu(s,t,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,t,s,o){this.me=e,this.removedTargetIds=t,this.key=s,this.fe=o}}class wT{constructor(e,t){this.targetId=e,this.ge=t}}class ET{constructor(e,t,s=nn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class j0{constructor(){this.pe=0,this.ye=z0(),this.we=nn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ue(),t=Ue(),s=Ue();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Te()}}),new Xu(this.we,this.Se,e,t,s)}Me(){this.be=!1,this.ye=z0()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ze(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class CO{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Rr(),this.$e=Nh(),this.Ke=Nh(),this.Ue=new ht(je)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const s=this.He(t);switch(e.state){case 0:this.Je(t)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(t);break;case 3:this.Je(t)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),s.Ce(e.resumeToken));break;default:Te()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((s,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,s=e.ge.count,o=this.Xe(t);if(o){const u=o.target;if(Up(u))if(s===0){const f=new ve(u.path);this.ze(t,f,un.newNoDocument(f,Ae.min()))}else Ze(s===1);else{const f=this.et(t);if(f!==s){const p=this.tt(e),d=p?this.nt(p,e,f):1;if(d!==0){this.Ye(t);const g=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,g)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let f,p;try{f=Ds(s).toUint8Array()}catch(d){if(d instanceof Gb)return jo("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{p=new Og(f,o,u)}catch(d){return jo(d instanceof Eu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return p.Ee===0?null:p}nt(e,t,s){return t.ge.count===s-this.st(e,t.targetId)?0:2}st(e,t){const s=this.ke.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const f=this.ke.it(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.ze(t,u,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((u,f)=>{const p=this.Xe(f);if(p){if(u.current&&Up(p.target)){const d=new ve(p.target.path);this._t(d).has(f)||this.ut(f,d)||this.ze(f,d,un.newNoDocument(d,e))}u.ve&&(t.set(f,u.Fe()),u.Me())}});let s=Ue();this.Ke.forEach((u,f)=>{let p=!0;f.forEachWhile(d=>{const g=this.Xe(d);return!g||g.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new Bf(e,t,this.Ue,this.Qe,s);return this.Qe=Rr(),this.$e=Nh(),this.Ke=Nh(),this.Ue=new ht(je),o}Ge(e,t){if(!this.Je(e))return;const s=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,s),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),s&&(this.Qe=this.Qe.insert(t,s))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new j0,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Bt(je),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Bt(je),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||ce("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new j0),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Nh(){return new ht(ve.comparator)}function z0(){return new ht(ve.comparator)}const IO={asc:"ASCENDING",desc:"DESCENDING"},DO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xO={and:"AND",or:"OR"};class OO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function zp(n,e){return n.useProto3Json||Nf(e)?e:{value:e}}function lf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bT(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function NO(n,e){return lf(n,e.toTimestamp())}function Li(n){return Ze(!!n),Ae.fromTimestamp(function(t){const s=Is(t);return new Ut(s.seconds,s.nanos)}(n))}function Ng(n,e){return Hp(n,e).canonicalString()}function Hp(n,e){const t=function(o){return new at(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function TT(n){const e=at.fromString(n);return Ze(IT(e)),e}function qp(n,e){return Ng(n.databaseId,e.path)}function gp(n,e){const t=TT(e);if(t.get(1)!==n.databaseId.projectId)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ve(ST(t))}function AT(n,e){return Ng(n.databaseId,e)}function kO(n){const e=TT(n);return e.length===4?at.emptyPath():ST(e)}function Fp(n){return new at(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ST(n){return Ze(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function H0(n,e,t){return{name:qp(n,e),fields:t.value.mapValue.fields}}function MO(n,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,v){return g.useProto3Json?(Ze(v===void 0||typeof v=="string"),nn.fromBase64String(v||"")):(Ze(v===void 0||v instanceof Buffer||v instanceof Uint8Array),nn.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),f=e.targetChange.cause,p=f&&function(g){const v=g.code===void 0?ee.UNKNOWN:_T(g.code);return new he(v,g.message||"")}(f);t=new ET(s,o,u,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=gp(n,s.document.name),u=Li(s.document.updateTime),f=s.document.createTime?Li(s.document.createTime):Ae.min(),p=new Sn({mapValue:{fields:s.document.fields}}),d=un.newFoundDocument(o,u,f,p),g=s.targetIds||[],v=s.removedTargetIds||[];t=new Gh(g,v,d.key,d)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=gp(n,s.document),u=s.readTime?Li(s.readTime):Ae.min(),f=un.newNoDocument(o,u),p=s.removedTargetIds||[];t=new Gh([],p,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=gp(n,s.document),u=s.removedTargetIds||[];t=new Gh([],u,o,null)}else{if(!("filter"in e))return Te();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new TO(o,u),p=s.targetId;t=new wT(p,f)}}return t}function PO(n,e){let t;if(e instanceof Yu)t={update:H0(n,e.key,e.value)};else if(e instanceof vT)t={delete:qp(n,e.key)};else if(e instanceof Us)t={update:H0(n,e.key,e.data),updateMask:FO(e.fieldMask)};else{if(!(e instanceof wO))return Te();t={verify:qp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const p=f.transform;if(p instanceof Lu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Uu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Bu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof of)return{fieldPath:f.field.canonicalString(),increment:p.Ie};throw Te()}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:NO(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te()}(n,e.precondition)),t}function VO(n,e){return n&&n.length>0?(Ze(e!==void 0),n.map(t=>function(o,u){let f=o.updateTime?Li(o.updateTime):Li(u);return f.isEqual(Ae.min())&&(f=Li(u)),new yO(f,o.transformResults||[])}(t,e))):[]}function LO(n,e){return{documents:[AT(n,e.path)]}}function UO(n,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=AT(n,o);const u=function(g){if(g.length!==0)return CT(pi.create(g,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(v=>function(b){return{field:Do(b.field),direction:zO(b.dir)}}(v))}(e.orderBy);f&&(t.structuredQuery.orderBy=f);const p=zp(n,e.limit);return p!==null&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:t,parent:o}}function BO(n){let e=kO(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Ze(s===1);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];t.where&&(u=function(E){const b=RT(E);return b instanceof pi&&tT(b)?b.getFilters():[b]}(t.where));let f=[];t.orderBy&&(f=function(E){return E.map(b=>function(x){return new Vu(xo(x.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(b))}(t.orderBy));let p=null;t.limit&&(p=function(E){let b;return b=typeof E=="object"?E.value:E,Nf(b)?null:b}(t.limit));let d=null;t.startAt&&(d=function(E){const b=!!E.before,R=E.values||[];return new af(R,b)}(t.startAt));let g=null;return t.endAt&&(g=function(E){const b=!E.before,R=E.values||[];return new af(R,b)}(t.endAt)),iO(e,o,f,u,p,"F",d,g)}function jO(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function RT(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=xo(t.unaryFilter.field);return xt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=xo(t.unaryFilter.field);return xt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=xo(t.unaryFilter.field);return xt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=xo(t.unaryFilter.field);return xt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(n):n.fieldFilter!==void 0?function(t){return xt.create(xo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return pi.create(t.compositeFilter.filters.map(s=>RT(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te()}}(t.compositeFilter.op))}(n):Te()}function zO(n){return IO[n]}function HO(n){return DO[n]}function qO(n){return xO[n]}function Do(n){return{fieldPath:n.canonicalString()}}function xo(n){return tn.fromServerFormat(n.fieldPath)}function CT(n){return n instanceof xt?function(t){if(t.op==="=="){if(D0(t.value))return{unaryFilter:{field:Do(t.field),op:"IS_NAN"}};if(I0(t.value))return{unaryFilter:{field:Do(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(D0(t.value))return{unaryFilter:{field:Do(t.field),op:"IS_NOT_NAN"}};if(I0(t.value))return{unaryFilter:{field:Do(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Do(t.field),op:HO(t.op),value:t.value}}}(n):n instanceof pi?function(t){const s=t.getFilters().map(o=>CT(o));return s.length===1?s[0]:{compositeFilter:{op:qO(t.op),filters:s}}}(n):Te()}function FO(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function IT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,t,s,o,u=Ae.min(),f=Ae.min(),p=nn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=d}withSequenceNumber(e){return new vs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e){this.Tt=e}}function $O(n){const e=BO({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?jp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(){this.Tn=new QO}addToCollectionParentIndex(e,t){return this.Tn.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(Cs.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(Cs.min())}updateCollectionGroup(e,t,s){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class QO{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Bt(at.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Bt(at.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},DT=41943040;class An{static withCacheSize(e){return new An(e,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(DT,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Fo(0)}static Un(){return new Fo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="LruGarbageCollector",YO=1048576;function G0([n,e],[t,s]){const o=je(n,t);return o===0?je(e,s):o}class XO{constructor(e){this.Hn=e,this.buffer=new Bt(G0),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();G0(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class WO{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ce(F0,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){tl(t)?ce(F0,"Ignoring IndexedDB error during garbage collection: ",t):await el(t)}await this.er(3e5)})}}class ZO{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return te.resolve(Of.ae);const s=new XO(t);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.tr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(q0)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),q0):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let s,o,u,f,p,d,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,f=Date.now(),this.nthSequenceNumber(e,o))).next(E=>(s=E,p=Date.now(),this.removeTargets(e,s,t))).next(E=>(u=E,d=Date.now(),this.removeOrphanedDocuments(e,s))).next(E=>(g=Date.now(),Co()<=Le.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-v}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${u} targets in `+(d-p)+`ms
	Removed ${E} documents in `+(g-d)+`ms
Total Duration: ${g-v}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:E})))}}function JO(n,e){return new ZO(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(){this.changes=new Na(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?te.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&Cu(s.mutation,o,Pn.empty(),Ut.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Ue()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Ue()){const o=ba();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let f=wu();return u.forEach((p,d)=>{f=f.insert(p,d.overlayedDocument)}),f}))}getOverlayedDocuments(e,t){const s=ba();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Ue()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,p)=>{t.set(f,p)})})}computeViews(e,t,s,o){let u=Rr();const f=Ru(),p=function(){return Ru()}();return t.forEach((d,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof Us)?u=u.insert(g.key,g):v!==void 0?(f.set(g.key,v.mutation.getFieldMask()),Cu(v.mutation,g,v.mutation.getFieldMask(),Ut.now())):f.set(g.key,Pn.empty())}),this.recalculateAndSaveOverlays(e,u).next(d=>(d.forEach((g,v)=>f.set(g,v)),t.forEach((g,v)=>{var E;return p.set(g,new tN(v,(E=f.get(g))!==null&&E!==void 0?E:null))}),p))}recalculateAndSaveOverlays(e,t){const s=Ru();let o=new ht((f,p)=>f-p),u=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(f=>{for(const p of f)p.keys().forEach(d=>{const g=t.get(d);if(g===null)return;let v=s.get(d)||Pn.empty();v=p.applyToLocalView(g,v),s.set(d,v);const E=(o.get(p.batchId)||Ue()).add(d);o=o.insert(p.batchId,E)})}).next(()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const d=p.getNext(),g=d.key,v=d.value,E=cT();v.forEach(b=>{if(!u.has(b)){const R=gT(t.get(b),s.get(b));R!==null&&E.set(b,R),u=u.add(b)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,E))}return te.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(f){return ve.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):sT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):te.resolve(ba());let p=Nu,d=u;return f.next(g=>te.forEach(g,(v,E)=>(p<E.largestBatchId&&(p=E.largestBatchId),u.get(v)?te.resolve():this.remoteDocumentCache.getEntry(e,v).next(b=>{d=d.insert(v,b)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,d,g,Ue())).next(v=>({batchId:p,changes:uT(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next(s=>{let o=wu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let f=wu();return this.indexManager.getCollectionParents(e,u).next(p=>te.forEach(p,d=>{const g=function(E,b){return new nl(b,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(t,d.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(v=>{v.forEach((E,b)=>{f=f.insert(E,b)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(f=>{u.forEach((d,g)=>{const v=g.getKey();f.get(v)===null&&(f=f.insert(v,un.newInvalidDocument(v)))});let p=wu();return f.forEach((d,g)=>{const v=u.get(d);v!==void 0&&Cu(v.mutation,g,Pn.empty(),Ut.now()),Vf(t,g)&&(p=p.insert(d,g))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return te.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Li(o.createTime)}}(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:$O(o.bundledQuery),readTime:Li(o.readTime)}}(t)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(){this.overlays=new ht(ve.comparator),this.Rr=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ba();return te.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.Et(e,t,u)}),te.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),te.resolve()}getOverlaysForCollection(e,t,s){const o=ba(),u=t.length+1,f=new ve(t.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const d=p.getNext().value,g=d.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&d.largestBatchId>s&&o.set(d.getKey(),d)}return te.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new ht((g,v)=>g-v);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let v=u.get(g.largestBatchId);v===null&&(v=ba(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const p=ba(),d=u.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((g,v)=>p.set(g,v)),!(p.size()>=o)););return te.resolve(p)}Et(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new bO(t,s));let u=this.Rr.get(t);u===void 0&&(u=Ue(),this.Rr.set(t,u)),this.Rr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(){this.Vr=new Bt(Qt.mr),this.gr=new Bt(Qt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const s=new Qt(e,t);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.wr(new Qt(e,t))}Sr(e,t){e.forEach(s=>this.removeReference(s,t))}br(e){const t=new ve(new at([])),s=new Qt(t,e),o=new Qt(t,e+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new ve(new at([])),s=new Qt(t,e),o=new Qt(t,e+1);let u=Ue();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const t=new Qt(e,0),s=this.Vr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Qt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return ve.comparator(e.key,t.key)||je(e.Cr,t.Cr)}static pr(e,t){return je(e.Cr,t.Cr)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Bt(Qt.mr)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new EO(u,t,s,o);this.mutationQueue.push(f);for(const p of o)this.Mr=this.Mr.add(new Qt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,t){return te.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Nr(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Ag:this.Fr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Qt(t,0),o=new Qt(t,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const p=this.Or(f.Cr);u.push(p)}),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Bt(je);return t.forEach(o=>{const u=new Qt(o,0),f=new Qt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],p=>{s=s.add(p.Cr)})}),te.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;ve.isDocumentKey(u)||(u=u.child(""));const f=new Qt(new ve(u),0);let p=new Bt(je);return this.Mr.forEachWhile(d=>{const g=d.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(p=p.add(d.Cr)),!0)},f),te.resolve(this.Br(p))}Br(e){const t=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Ze(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return te.forEach(t.mutations,o=>{const u=new Qt(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,t){const s=new Qt(t,0),o=this.Mr.firstAfterOrEqual(s);return te.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e){this.kr=e,this.docs=function(){return new ht(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return te.resolve(s?s.document.mutableCopy():un.newInvalidDocument(t))}getEntries(e,t){let s=Rr();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():un.newInvalidDocument(o))}),te.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=Rr();const f=t.path,p=new ve(f.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(p);for(;d.hasNext();){const{key:g,value:{document:v}}=d.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||Px(Mx(v),s)<=0||(o.has(v.key)||Vf(t,v))&&(u=u.insert(v.key,v.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,t,s,o){Te()}qr(e,t){return te.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new lN(this)}getSize(e){return te.resolve(this.size)}}class lN extends eN{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),te.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e){this.persistence=e,this.Qr=new Na(t=>Cg(t),Ig),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.$r=0,this.Kr=new kg,this.targetCount=0,this.Ur=Fo.Kn()}forEachTarget(e,t){return this.Qr.forEach((s,o)=>t(o)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.$r&&(this.$r=t),te.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Fo(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.zn(t),te.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.Qr.forEach((f,p)=>{p.sequenceNumber<=t&&s.get(p.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)}),te.waitFor(u).next(()=>o)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const s=this.Qr.get(t)||null;return te.resolve(s)}addMatchingKeys(e,t,s){return this.Kr.yr(t,s),te.resolve()}removeMatchingKeys(e,t,s){this.Kr.Sr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),te.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),te.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Kr.vr(t);return te.resolve(s)}containsKey(e,t){return te.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Of(0),this.zr=!1,this.zr=!0,this.jr=new sN,this.referenceDelegate=e(this),this.Hr=new uN(this),this.indexManager=new KO,this.remoteDocumentCache=function(o){return new oN(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new GO(t),this.Yr=new iN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new rN,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Wr[e.toKey()];return s||(s=new aN(t,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,s){ce("MemoryPersistence","Starting transaction:",e);const o=new cN(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,t){return te.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,t)))}}class cN extends Lx{constructor(e){super(),this.currentSequenceNumber=e}}class Mg{constructor(e){this.persistence=e,this.ti=new kg,this.ni=null}static ri(e){return new Mg(e)}get ii(){if(this.ni)return this.ni;throw Te()}addReference(e,t,s){return this.ti.addReference(s,t),this.ii.delete(s.toString()),te.resolve()}removeReference(e,t,s){return this.ti.removeReference(s,t),this.ii.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),te.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.ii,s=>{const o=ve.fromPath(s);return this.si(e,o).next(u=>{u||t.removeEntry(o,Ae.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(s=>{s?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return te.or([()=>te.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class uf{constructor(e,t){this.persistence=e,this.oi=new Na(s=>jx(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=JO(this,t)}static ri(e,t){return new uf(e,t)}Zr(){}Xr(e){return te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}sr(e){let t=0;return this.rr(e,s=>{t++}).next(()=>t)}rr(e,t){return te.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?te.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,t).next(p=>{p||(s++,u.removeEntry(f,Ae.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),te.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),te.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Hh(e.data.value)),t}ar(e,t,s){return te.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Hi=s,this.Ji=o}static Yi(e,t){let s=Ue(),o=Ue();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Pg(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return FR()?8:Ux(hn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.rs(e,t).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,t,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new hN;return this._s(e,t,f).next(p=>{if(u.result=p,this.Xi)return this.us(e,t,f,p.size)})}).next(()=>u.result)}us(e,t,s,o){return s.documentReadCount<this.es?(Co()<=Le.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Io(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),te.resolve()):(Co()<=Le.DEBUG&&ce("QueryEngine","Query:",Io(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(Co()<=Le.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Io(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vi(t))):te.resolve())}rs(e,t){if(k0(t))return te.resolve(null);let s=Vi(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=jp(t,null,"F"),s=Vi(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Ue(...u);return this.ns.getDocuments(e,f).next(p=>this.indexManager.getMinOffset(e,s).next(d=>{const g=this.cs(t,p);return this.ls(t,g,f,d.readTime)?this.rs(e,jp(t,null,"F")):this.hs(e,g,t,d)}))})))}ss(e,t,s,o){return k0(t)||o.isEqual(Ae.min())?te.resolve(null):this.ns.getDocuments(e,s).next(u=>{const f=this.cs(t,u);return this.ls(t,f,s,o)?te.resolve(null):(Co()<=Le.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Io(t)),this.hs(e,f,t,kx(o,Nu)).next(p=>p))})}cs(e,t){let s=new Bt(oT(e));return t.forEach((o,u)=>{Vf(e,u)&&(s=s.add(u))}),s}ls(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,t,s){return Co()<=Le.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Io(t)),this.ns.getDocumentsMatchingQuery(e,t,Cs.min(),s)}hs(e,t,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vg="LocalStore",dN=3e8;class mN{constructor(e,t,s,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new ht(je),this.Is=new Na(u=>Cg(u),Ig),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nN(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function pN(n,e,t,s){return new mN(n,e,t,s)}async function OT(n,e){const t=Re(n);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.As(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],p=[];let d=Ue();for(const g of o){f.push(g.batchId);for(const v of g.mutations)d=d.add(v.key)}for(const g of u){p.push(g.batchId);for(const v of g.mutations)d=d.add(v.key)}return t.localDocuments.getDocuments(s,d).next(g=>({Rs:g,removedBatchIds:f,addedBatchIds:p}))})})}function gN(n,e){const t=Re(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.ds.newChangeBuffer({trackRemovals:!0});return function(p,d,g,v){const E=g.batch,b=E.keys();let R=te.resolve();return b.forEach(x=>{R=R.next(()=>v.getEntry(d,x)).next(L=>{const M=g.docVersions.get(x);Ze(M!==null),L.version.compareTo(M)<0&&(E.applyToRemoteDocument(L,g),L.isValidDocument()&&(L.setReadTime(g.commitVersion),v.addEntry(L)))})}),R.next(()=>p.mutationQueue.removeMutationBatch(d,E))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(p){let d=Ue();for(let g=0;g<p.mutationResults.length;++g)p.mutationResults[g].transformResults.length>0&&(d=d.add(p.batch.mutations[g].key));return d}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function NT(n){const e=Re(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function yN(n,e){const t=Re(n),s=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const p=[];e.targetChanges.forEach((v,E)=>{const b=o.get(E);if(!b)return;p.push(t.Hr.removeMatchingKeys(u,v.removedDocuments,E).next(()=>t.Hr.addMatchingKeys(u,v.addedDocuments,E)));let R=b.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(E)!==null?R=R.withResumeToken(nn.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):v.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(v.resumeToken,s)),o=o.insert(E,R),function(L,M,K){return L.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=dN?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(b,R,v)&&p.push(t.Hr.updateTargetData(u,R))});let d=Rr(),g=Ue();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(u,v))}),p.push(vN(u,f,e.documentUpdates).next(v=>{d=v.Vs,g=v.fs})),!s.isEqual(Ae.min())){const v=t.Hr.getLastRemoteSnapshotVersion(u).next(E=>t.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));p.push(v)}return te.waitFor(p).next(()=>f.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,d,g)).next(()=>d)}).then(u=>(t.Ts=o,u))}function vN(n,e,t){let s=Ue(),o=Ue();return t.forEach(u=>s=s.add(u)),e.getEntries(n,s).next(u=>{let f=Rr();return t.forEach((p,d)=>{const g=u.get(p);d.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(p)),d.isNoDocument()&&d.version.isEqual(Ae.min())?(e.removeEntry(p,d.readTime),f=f.insert(p,d)):!g.isValidDocument()||d.version.compareTo(g.version)>0||d.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(d),f=f.insert(p,d)):ce(Vg,"Ignoring outdated watch update for ",p,". Current version:",g.version," Watch version:",d.version)}),{Vs:f,fs:o}})}function _N(n,e){const t=Re(n);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Ag),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function wN(n,e){const t=Re(n);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Hr.getTargetData(s,e).next(u=>u?(o=u,te.resolve(o)):t.Hr.allocateTargetId(s).next(f=>(o=new vs(e,f,"TargetPurposeListen",s.currentSequenceNumber),t.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(s.targetId,s),t.Is.set(e,s.targetId)),s})}async function Gp(n,e,t){const s=Re(n),o=s.Ts.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!tl(f))throw f;ce(Vg,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function $0(n,e,t){const s=Re(n);let o=Ae.min(),u=Ue();return s.persistence.runTransaction("Execute query","readwrite",f=>function(d,g,v){const E=Re(d),b=E.Is.get(v);return b!==void 0?te.resolve(E.Ts.get(b)):E.Hr.getTargetData(g,v)}(s,f,Vi(e)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,p.targetId).next(d=>{u=d})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,t?o:Ae.min(),t?u:Ue())).next(p=>(EN(s,sO(e),p),{documents:p,gs:u})))}function EN(n,e,t){let s=n.Es.get(e)||Ae.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),n.Es.set(e,s)}class K0{constructor(){this.activeTargetIds=hO()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bN{constructor(){this.ho=new K0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,s){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new K0,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="ConnectivityMonitor";class Y0{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ce(Q0,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ce(Q0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kh=null;function $p(){return kh===null?kh=function(){return 268435456+Math.round(2147483648*Math.random())}():kh++,"0x"+kh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yp="RestConnection",AN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class SN{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===rf?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,t,s,o,u){const f=$p(),p=this.bo(e,t.toUriEncodedString());ce(yp,`Sending RPC '${e}' ${f}:`,p,s);const d={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(d,o,u),this.vo(e,p,d,s).then(g=>(ce(yp,`Received RPC '${e}' ${f}: `,g),g),g=>{throw jo(yp,`RPC '${e}' ${f} failed with error: `,g,"url: ",p,"request:",s),g})}Co(e,t,s,o,u,f){return this.So(e,t,s,o,u)}Do(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Jo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}bo(e,t){const s=AN[e];return`${this.po}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class CN extends SN{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,s,o){const u=$p();return new Promise((f,p)=>{const d=new Vb;d.setWithCredentials(!0),d.listenOnce(Lb.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case zh.NO_ERROR:const v=d.getResponseJson();ce(on,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),f(v);break;case zh.TIMEOUT:ce(on,`RPC '${e}' ${u} timed out`),p(new he(ee.DEADLINE_EXCEEDED,"Request time out"));break;case zh.HTTP_ERROR:const E=d.getStatus();if(ce(on,`RPC '${e}' ${u} failed with status:`,E,"response text:",d.getResponseText()),E>0){let b=d.getResponseJson();Array.isArray(b)&&(b=b[0]);const R=b==null?void 0:b.error;if(R&&R.status&&R.message){const x=function(M){const K=M.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(K)>=0?K:ee.UNKNOWN}(R.status);p(new he(x,R.message))}else p(new he(ee.UNKNOWN,"Server responded with status "+d.getStatus()))}else p(new he(ee.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{ce(on,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);ce(on,`RPC '${e}' ${u} sending request:`,o),d.send(t,"POST",g,s,15)})}Wo(e,t,s){const o=$p(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=jb(),p=Bb(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(d.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,t,s),d.encodeInitMessageHeaders=!0;const v=u.join("");ce(on,`Creating RPC '${e}' stream ${o}: ${v}`,d);const E=f.createWebChannel(v,d);let b=!1,R=!1;const x=new RN({Fo:M=>{R?ce(on,`Not sending because RPC '${e}' stream ${o} is closed:`,M):(b||(ce(on,`Opening RPC '${e}' stream ${o} transport.`),E.open(),b=!0),ce(on,`RPC '${e}' stream ${o} sending:`,M),E.send(M))},Mo:()=>E.close()}),L=(M,K,Z)=>{M.listen(K,$=>{try{Z($)}catch(oe){setTimeout(()=>{throw oe},0)}})};return L(E,_u.EventType.OPEN,()=>{R||(ce(on,`RPC '${e}' stream ${o} transport opened.`),x.Qo())}),L(E,_u.EventType.CLOSE,()=>{R||(R=!0,ce(on,`RPC '${e}' stream ${o} transport closed`),x.Ko())}),L(E,_u.EventType.ERROR,M=>{R||(R=!0,jo(on,`RPC '${e}' stream ${o} transport errored:`,M),x.Ko(new he(ee.UNAVAILABLE,"The operation could not be completed")))}),L(E,_u.EventType.MESSAGE,M=>{var K;if(!R){const Z=M.data[0];Ze(!!Z);const $=Z,oe=($==null?void 0:$.error)||((K=$[0])===null||K===void 0?void 0:K.error);if(oe){ce(on,`RPC '${e}' stream ${o} received error:`,oe);const ae=oe.status;let we=function(S){const O=Dt[S];if(O!==void 0)return _T(O)}(ae),U=oe.message;we===void 0&&(we=ee.INTERNAL,U="Unknown error status: "+ae+" with message "+oe.message),R=!0,x.Ko(new he(we,U)),E.close()}else ce(on,`RPC '${e}' stream ${o} received:`,Z),x.Uo(Z)}}),L(p,Ub.STAT_EVENT,M=>{M.stat===Mp.PROXY?ce(on,`RPC '${e}' stream ${o} detected buffering proxy`):M.stat===Mp.NOPROXY&&ce(on,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{x.$o()},0),x}}function vp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jf(n){return new OO(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=t,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="PersistentStream";class MT{constructor(e,t,s,o,u,f,p,d){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=d,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new kT(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(Sr(t.toString()),Sr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===t&&this.V_(s,o)},s=>{e(()=>{const o=new he(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,t){const s=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ce(X0,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(ce(X0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class IN extends MT{constructor(e,t,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,f),this.serializer=u}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=MO(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ae.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ae.min():f.readTime?Li(f.readTime):Ae.min()}(e);return this.listener.p_(t,s)}y_(e){const t={};t.database=Fp(this.serializer),t.addTarget=function(u,f){let p;const d=f.target;if(p=Up(d)?{documents:LO(u,d)}:{query:UO(u,d).ht},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=bT(u,f.resumeToken);const g=zp(u,f.expectedCount);g!==null&&(p.expectedCount=g)}else if(f.snapshotVersion.compareTo(Ae.min())>0){p.readTime=lf(u,f.snapshotVersion.toTimestamp());const g=zp(u,f.expectedCount);g!==null&&(p.expectedCount=g)}return p}(this.serializer,e);const s=jO(this.serializer,e);s&&(t.labels=s),this.I_(t)}w_(e){const t={};t.database=Fp(this.serializer),t.removeTarget=e,this.I_(t)}}class DN extends MT{constructor(e,t,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,f),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=VO(e.writeResults,e.commitTime),s=Li(e.commitTime);return this.listener.v_(s,t)}C_(){const e={};e.database=Fp(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>PO(this.serializer,s))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{}class ON extends xN{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.So(e,Hp(t,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(ee.UNKNOWN,u.toString())})}Co(e,t,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,p])=>this.connection.Co(e,Hp(t,s),o,f,p,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new he(ee.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class NN{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Sr(t),this.N_=!1):ce("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia="RemoteStore";class kN{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{ka(this)&&(ce(Ia,"Restarting streams for network reachability change."),await async function(d){const g=Re(d);g.W_.add(4),await Wu(g),g.j_.set("Unknown"),g.W_.delete(4),await zf(g)}(this))})}),this.j_=new NN(s,o)}}async function zf(n){if(ka(n))for(const e of n.G_)await e(!0)}async function Wu(n){for(const e of n.G_)await e(!1)}function PT(n,e){const t=Re(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),jg(t)?Bg(t):il(t).c_()&&Ug(t,e))}function Lg(n,e){const t=Re(n),s=il(t);t.U_.delete(e),s.c_()&&VT(t,e),t.U_.size===0&&(s.c_()?s.P_():ka(t)&&t.j_.set("Unknown"))}function Ug(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}il(n).y_(e)}function VT(n,e){n.H_.Ne(e),il(n).w_(e)}function Bg(n){n.H_=new CO({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),il(n).start(),n.j_.B_()}function jg(n){return ka(n)&&!il(n).u_()&&n.U_.size>0}function ka(n){return Re(n).W_.size===0}function LT(n){n.H_=void 0}async function MN(n){n.j_.set("Online")}async function PN(n){n.U_.forEach((e,t)=>{Ug(n,e)})}async function VN(n,e){LT(n),jg(n)?(n.j_.q_(e),Bg(n)):n.j_.set("Unknown")}async function LN(n,e,t){if(n.j_.set("Online"),e instanceof ET&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const p of u.targetIds)o.U_.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.U_.delete(p),o.H_.removeTarget(p))}(n,e)}catch(s){ce(Ia,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await cf(n,s)}else if(e instanceof Gh?n.H_.We(e):e instanceof wT?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Ae.min()))try{const s=await NT(n.localStore);t.compareTo(s)>=0&&await function(u,f){const p=u.H_.ot(f);return p.targetChanges.forEach((d,g)=>{if(d.resumeToken.approximateByteSize()>0){const v=u.U_.get(g);v&&u.U_.set(g,v.withResumeToken(d.resumeToken,f))}}),p.targetMismatches.forEach((d,g)=>{const v=u.U_.get(d);if(!v)return;u.U_.set(d,v.withResumeToken(nn.EMPTY_BYTE_STRING,v.snapshotVersion)),VT(u,d);const E=new vs(v.target,d,g,v.sequenceNumber);Ug(u,E)}),u.remoteSyncer.applyRemoteEvent(p)}(n,t)}catch(s){ce(Ia,"Failed to raise snapshot:",s),await cf(n,s)}}async function cf(n,e,t){if(!tl(e))throw e;n.W_.add(1),await Wu(n),n.j_.set("Offline"),t||(t=()=>NT(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ce(Ia,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await zf(n)})}function UT(n,e){return e().catch(t=>cf(n,t,e))}async function Hf(n){const e=Re(n),t=Os(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:Ag;for(;UN(e);)try{const o=await _N(e.localStore,s);if(o===null){e.K_.length===0&&t.P_();break}s=o.batchId,BN(e,o)}catch(o){await cf(e,o)}BT(e)&&jT(e)}function UN(n){return ka(n)&&n.K_.length<10}function BN(n,e){n.K_.push(e);const t=Os(n);t.c_()&&t.S_&&t.b_(e.mutations)}function BT(n){return ka(n)&&!Os(n).u_()&&n.K_.length>0}function jT(n){Os(n).start()}async function jN(n){Os(n).C_()}async function zN(n){const e=Os(n);for(const t of n.K_)e.b_(t.mutations)}async function HN(n,e,t){const s=n.K_.shift(),o=xg.from(s,e,t);await UT(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Hf(n)}async function qN(n,e){e&&Os(n).S_&&await async function(s,o){if(function(f){return AO(f)&&f!==ee.ABORTED}(o.code)){const u=s.K_.shift();Os(s).h_(),await UT(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Hf(s)}}(n,e),BT(n)&&jT(n)}async function W0(n,e){const t=Re(n);t.asyncQueue.verifyOperationInProgress(),ce(Ia,"RemoteStore received new credentials");const s=ka(t);t.W_.add(3),await Wu(t),s&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await zf(t)}async function FN(n,e){const t=Re(n);e?(t.W_.delete(2),await zf(t)):e||(t.W_.add(2),await Wu(t),t.j_.set("Unknown"))}function il(n){return n.J_||(n.J_=function(t,s,o){const u=Re(t);return u.M_(),new IN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(n.datastore,n.asyncQueue,{xo:MN.bind(null,n),No:PN.bind(null,n),Lo:VN.bind(null,n),p_:LN.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),jg(n)?Bg(n):n.j_.set("Unknown")):(await n.J_.stop(),LT(n))})),n.J_}function Os(n){return n.Y_||(n.Y_=function(t,s,o){const u=Re(t);return u.M_(),new DN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:jN.bind(null,n),Lo:qN.bind(null,n),D_:zN.bind(null,n),v_:HN.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await Hf(n)):(await n.Y_.stop(),n.K_.length>0&&(ce(Ia,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const f=Date.now()+s,p=new zg(e,t,f,o,u);return p.start(s),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hg(n,e){if(Sr("AsyncQueue",`${e}: ${n}`),tl(n))return new he(ee.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{static emptySet(e){return new Po(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ve.comparator(t.key,s.key):(t,s)=>ve.comparator(t.key,s.key),this.keyedMap=wu(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Po)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Po;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(){this.Z_=new ht(ve.comparator)}track(e){const t=e.doc.key,s=this.Z_.get(t);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(t):e.type===1&&s.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Te():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class Go{constructor(e,t,s,o,u,f,p,d,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=d,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,u){const f=[];return t.forEach(p=>{f.push({type:0,doc:p})}),new Go(e,t,Po.emptySet(t),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class $N{constructor(){this.queries=J0(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,s){const o=Re(t),u=o.queries;o.queries=J0(),u.forEach((f,p)=>{for(const d of p.ta)d.onError(s)})})(this,new he(ee.ABORTED,"Firestore shutting down"))}}function J0(){return new Na(n=>aT(n),Pf)}async function qg(n,e){const t=Re(n);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new GN,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await t.onListen(o,!0);break;case 1:u.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(f){const p=Hg(f,`Initialization of query '${Io(e.query)}' failed`);return void e.onError(p)}t.queries.set(o,u),u.ta.push(e),e.sa(t.onlineState),u.ea&&e.oa(u.ea)&&Gg(t)}async function Fg(n,e){const t=Re(n),s=e.query;let o=3;const u=t.queries.get(s);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function KN(n,e){const t=Re(n);let s=!1;for(const o of e){const u=o.query,f=t.queries.get(u);if(f){for(const p of f.ta)p.oa(o)&&(s=!0);f.ea=o}}s&&Gg(t)}function QN(n,e,t){const s=Re(n),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(t);s.queries.delete(e)}function Gg(n){n.ia.forEach(e=>{e.next()})}var Kp,eE;(eE=Kp||(Kp={}))._a="default",eE.Cache="cache";class $g{constructor(e,t,s){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Go(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const s=t!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Go.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Kp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e){this.key=e}}class HT{constructor(e){this.key=e}}class YN{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ue(),this.mutatedKeys=Ue(),this.ya=oT(e),this.wa=new Po(this.ya)}get Sa(){return this.fa}ba(e,t){const s=t?t.Da:new Z0,o=t?t.wa:this.wa;let u=t?t.mutatedKeys:this.mutatedKeys,f=o,p=!1;const d=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,E)=>{const b=o.get(v),R=Vf(this.query,E)?E:null,x=!!b&&this.mutatedKeys.has(b.key),L=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let M=!1;b&&R?b.data.isEqual(R.data)?x!==L&&(s.track({type:3,doc:R}),M=!0):this.va(b,R)||(s.track({type:2,doc:R}),M=!0,(d&&this.ya(R,d)>0||g&&this.ya(R,g)<0)&&(p=!0)):!b&&R?(s.track({type:0,doc:R}),M=!0):b&&!R&&(s.track({type:1,doc:b}),M=!0,(d||g)&&(p=!0)),M&&(R?(f=f.add(R),u=L?u.add(v):u.delete(v)):(f=f.delete(v),u=u.delete(v)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const v=this.query.limitType==="F"?f.last():f.first();f=f.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{wa:f,Da:s,ls:p,mutatedKeys:u}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((v,E)=>function(R,x){const L=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return L(R)-L(x)}(v.type,E.type)||this.ya(v.doc,E.doc)),this.Ca(s),o=o!=null&&o;const p=t&&!o?this.Fa():[],d=this.pa.size===0&&this.current&&!o?1:0,g=d!==this.ga;return this.ga=d,f.length!==0||g?{snapshot:new Go(this.query,e.wa,u,f,e.mutatedKeys,d===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:p}:{Ma:p}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Z0,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ue(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const t=[];return e.forEach(s=>{this.pa.has(s)||t.push(new HT(s))}),this.pa.forEach(s=>{e.has(s)||t.push(new zT(s))}),t}Oa(e){this.fa=e.gs,this.pa=Ue();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Go.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Kg="SyncEngine";class XN{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class WN{constructor(e){this.key=e,this.Ba=!1}}class ZN{constructor(e,t,s,o,u,f){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new Na(p=>aT(p),Pf),this.qa=new Map,this.Qa=new Set,this.$a=new ht(ve.comparator),this.Ka=new Map,this.Ua=new kg,this.Wa={},this.Ga=new Map,this.za=Fo.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function JN(n,e,t=!0){const s=QT(n);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await qT(s,e,t,!0),o}async function ek(n,e){const t=QT(n);await qT(t,e,!0,!1)}async function qT(n,e,t,s){const o=await wN(n.localStore,Vi(e)),u=o.targetId,f=n.sharedClientState.addLocalQueryTarget(u,t);let p;return s&&(p=await tk(n,e,u,f==="current",o.resumeToken)),n.isPrimaryClient&&t&&PT(n.remoteStore,o),p}async function tk(n,e,t,s,o){n.Ha=(E,b,R)=>async function(L,M,K,Z){let $=M.view.ba(K);$.ls&&($=await $0(L.localStore,M.query,!1).then(({documents:U})=>M.view.ba(U,$)));const oe=Z&&Z.targetChanges.get(M.targetId),ae=Z&&Z.targetMismatches.get(M.targetId)!=null,we=M.view.applyChanges($,L.isPrimaryClient,oe,ae);return nE(L,M.targetId,we.Ma),we.snapshot}(n,E,b,R);const u=await $0(n.localStore,e,!0),f=new YN(e,u.gs),p=f.ba(u.documents),d=Xu.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",o),g=f.applyChanges(p,n.isPrimaryClient,d);nE(n,t,g.Ma);const v=new XN(e,t,f);return n.ka.set(e,v),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),g.snapshot}async function nk(n,e,t){const s=Re(n),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!Pf(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Gp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Lg(s.remoteStore,o.targetId),Qp(s,o.targetId)}).catch(el)):(Qp(s,o.targetId),await Gp(s.localStore,o.targetId,!0))}async function ik(n,e){const t=Re(n),s=t.ka.get(e),o=t.qa.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Lg(t.remoteStore,s.targetId))}async function rk(n,e,t){const s=hk(n);try{const o=await function(f,p){const d=Re(f),g=Ut.now(),v=p.reduce((R,x)=>R.add(x.key),Ue());let E,b;return d.persistence.runTransaction("Locally write mutations","readwrite",R=>{let x=Rr(),L=Ue();return d.ds.getEntries(R,v).next(M=>{x=M,x.forEach((K,Z)=>{Z.isValidDocument()||(L=L.add(K))})}).next(()=>d.localDocuments.getOverlayedDocuments(R,x)).next(M=>{E=M;const K=[];for(const Z of p){const $=_O(Z,E.get(Z.key).overlayedDocument);$!=null&&K.push(new Us(Z.key,$,Zb($.value.mapValue),di.exists(!0)))}return d.mutationQueue.addMutationBatch(R,g,K,p)}).next(M=>{b=M;const K=M.applyToLocalDocumentSet(E,L);return d.documentOverlayCache.saveOverlays(R,M.batchId,K)})}).then(()=>({batchId:b.batchId,changes:uT(E)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,p,d){let g=f.Wa[f.currentUser.toKey()];g||(g=new ht(je)),g=g.insert(p,d),f.Wa[f.currentUser.toKey()]=g}(s,o.batchId,t),await Zu(s,o.changes),await Hf(s.remoteStore)}catch(o){const u=Hg(o,"Failed to persist write");t.reject(u)}}async function FT(n,e){const t=Re(n);try{const s=await yN(t.localStore,e);e.targetChanges.forEach((o,u)=>{const f=t.Ka.get(u);f&&(Ze(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?Ze(f.Ba):o.removedDocuments.size>0&&(Ze(f.Ba),f.Ba=!1))}),await Zu(t,s,e)}catch(s){await el(s)}}function tE(n,e,t){const s=Re(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.ka.forEach((u,f)=>{const p=f.view.sa(e);p.snapshot&&o.push(p.snapshot)}),function(f,p){const d=Re(f);d.onlineState=p;let g=!1;d.queries.forEach((v,E)=>{for(const b of E.ta)b.sa(p)&&(g=!0)}),g&&Gg(d)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function sk(n,e,t){const s=Re(n);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Ka.get(e),u=o&&o.key;if(u){let f=new ht(ve.comparator);f=f.insert(u,un.newNoDocument(u,Ae.min()));const p=Ue().add(u),d=new Bf(Ae.min(),new Map,new ht(je),f,p);await FT(s,d),s.$a=s.$a.remove(u),s.Ka.delete(e),Qg(s)}else await Gp(s.localStore,e,!1).then(()=>Qp(s,e,t)).catch(el)}async function ak(n,e){const t=Re(n),s=e.batch.batchId;try{const o=await gN(t.localStore,e);$T(t,s,null),GT(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Zu(t,o)}catch(o){await el(o)}}async function ok(n,e,t){const s=Re(n);try{const o=await function(f,p){const d=Re(f);return d.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return d.mutationQueue.lookupMutationBatch(g,p).next(E=>(Ze(E!==null),v=E.keys(),d.mutationQueue.removeMutationBatch(g,E))).next(()=>d.mutationQueue.performConsistencyCheck(g)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(g,v,p)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>d.localDocuments.getDocuments(g,v))})}(s.localStore,e);$T(s,e,t),GT(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Zu(s,o)}catch(o){await el(o)}}function GT(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function $T(n,e,t){const s=Re(n);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function Qp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.qa.get(e))n.ka.delete(s),t&&n.La.Ja(s,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.br(e).forEach(s=>{n.Ua.containsKey(s)||KT(n,s)})}function KT(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(Lg(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),Qg(n))}function nE(n,e,t){for(const s of t)s instanceof zT?(n.Ua.addReference(s.key,e),lk(n,s)):s instanceof HT?(ce(Kg,"Document no longer in limbo: "+s.key),n.Ua.removeReference(s.key,e),n.Ua.containsKey(s.key)||KT(n,s.key)):Te()}function lk(n,e){const t=e.key,s=t.path.canonicalString();n.$a.get(t)||n.Qa.has(s)||(ce(Kg,"New document in limbo: "+t),n.Qa.add(s),Qg(n))}function Qg(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new ve(at.fromString(e)),s=n.za.next();n.Ka.set(s,new WN(t)),n.$a=n.$a.insert(t,s),PT(n.remoteStore,new vs(Vi(Mf(t.path)),s,"TargetPurposeLimboResolution",Of.ae))}}async function Zu(n,e,t){const s=Re(n),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((p,d)=>{f.push(s.Ha(d,e,t).then(g=>{var v;if((g||t)&&s.isPrimaryClient){const E=g?!g.fromCache:(v=t==null?void 0:t.targetChanges.get(d.targetId))===null||v===void 0?void 0:v.current;s.sharedClientState.updateQueryState(d.targetId,E?"current":"not-current")}if(g){o.push(g);const E=Pg.Yi(d.targetId,g);u.push(E)}}))}),await Promise.all(f),s.La.p_(o),await async function(d,g){const v=Re(d);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>te.forEach(g,b=>te.forEach(b.Hi,R=>v.persistence.referenceDelegate.addReference(E,b.targetId,R)).next(()=>te.forEach(b.Ji,R=>v.persistence.referenceDelegate.removeReference(E,b.targetId,R)))))}catch(E){if(!tl(E))throw E;ce(Vg,"Failed to update sequence numbers: "+E)}for(const E of g){const b=E.targetId;if(!E.fromCache){const R=v.Ts.get(b),x=R.snapshotVersion,L=R.withLastLimboFreeSnapshotVersion(x);v.Ts=v.Ts.insert(b,L)}}}(s.localStore,u))}async function uk(n,e){const t=Re(n);if(!t.currentUser.isEqual(e)){ce(Kg,"User change. New user:",e.toKey());const s=await OT(t.localStore,e);t.currentUser=e,function(u,f){u.Ga.forEach(p=>{p.forEach(d=>{d.reject(new he(ee.CANCELLED,f))})}),u.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Zu(t,s.Rs)}}function ck(n,e){const t=Re(n),s=t.Ka.get(e);if(s&&s.Ba)return Ue().add(s.key);{let o=Ue();const u=t.qa.get(e);if(!u)return o;for(const f of u){const p=t.ka.get(f);o=o.unionWith(p.view.Sa)}return o}}function QT(n){const e=Re(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=FT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ck.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sk.bind(null,e),e.La.p_=KN.bind(null,e.eventManager),e.La.Ja=QN.bind(null,e.eventManager),e}function hk(n){const e=Re(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ak.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ok.bind(null,e),e}class hf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return pN(this.persistence,new fN,e.initialUser,this.serializer)}Xa(e){return new xT(Mg.ri,this.serializer)}Za(e){return new bN}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hf.provider={build:()=>new hf};class fk extends hf{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Ze(this.persistence.referenceDelegate instanceof uf);const s=this.persistence.referenceDelegate.garbageCollector;return new WO(s,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new xT(s=>uf.ri(s,t),this.serializer)}}class Yp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>tE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=uk.bind(null,this.syncEngine),await FN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new $N}()}createDatastore(e){const t=jf(e.databaseInfo.databaseId),s=function(u){return new CN(u)}(e.databaseInfo);return function(u,f,p,d){return new ON(u,f,p,d)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,f,p){return new kN(s,o,u,f,p)}(this.localStore,this.datastore,e.asyncQueue,t=>tE(this.syncEngine,t,0),function(){return Y0.D()?new Y0:new TN}())}createSyncEngine(e,t){return function(o,u,f,p,d,g,v){const E=new ZN(o,u,f,p,d,g);return v&&(E.ja=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=Re(o);ce(Ia,"RemoteStore shutting down."),u.W_.add(5),await Wu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Yp.provider={build:()=>new Yp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Sr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="FirestoreClient";class dk{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=ln.UNAUTHENTICATED,this.clientId=Hb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ce(Ns,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ce(Ns,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Hg(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function _p(n,e){n.asyncQueue.verifyOperationInProgress(),ce(Ns,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener(async o=>{s.isEqual(o)||(await OT(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function iE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await mk(n);ce(Ns,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(s=>W0(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,o)=>W0(e.remoteStore,o)),n._onlineComponents=e}async function mk(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ce(Ns,"Using user provided OfflineComponentProvider");try{await _p(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;jo("Error using user provided cache. Falling back to memory cache: "+t),await _p(n,new hf)}}else ce(Ns,"Using default OfflineComponentProvider"),await _p(n,new fk(void 0));return n._offlineComponents}async function YT(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ce(Ns,"Using user provided OnlineComponentProvider"),await iE(n,n._uninitializedComponentsProvider._online)):(ce(Ns,"Using default OnlineComponentProvider"),await iE(n,new Yp))),n._onlineComponents}function pk(n){return YT(n).then(e=>e.syncEngine)}async function ff(n){const e=await YT(n),t=e.eventManager;return t.onListen=JN.bind(null,e.syncEngine),t.onUnlisten=nk.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=ek.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=ik.bind(null,e.syncEngine),t}function gk(n,e,t={}){const s=new Er;return n.asyncQueue.enqueueAndForget(async()=>function(u,f,p,d,g){const v=new Yg({next:b=>{v.su(),f.enqueueAndForget(()=>Fg(u,E));const R=b.docs.has(p);!R&&b.fromCache?g.reject(new he(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&b.fromCache&&d&&d.source==="server"?g.reject(new he(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),E=new $g(Mf(p.path),v,{includeMetadataChanges:!0,Ta:!0});return qg(u,E)}(await ff(n),n.asyncQueue,e,t,s)),s.promise}function yk(n,e,t={}){const s=new Er;return n.asyncQueue.enqueueAndForget(async()=>function(u,f,p,d,g){const v=new Yg({next:b=>{v.su(),f.enqueueAndForget(()=>Fg(u,E)),b.fromCache&&d.source==="server"?g.reject(new he(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(b)},error:b=>g.reject(b)}),E=new $g(p,v,{includeMetadataChanges:!0,Ta:!0});return qg(u,E)}(await ff(n),n.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(n,e,t){if(!t)throw new he(ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function vk(n,e,t,s){if(e===!0&&s===!0)throw new he(ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function sE(n){if(!ve.isDocumentKey(n))throw new he(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function aE(n){if(ve.isDocumentKey(n))throw new he(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function qf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Te()}function Vn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new he(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=qf(n);throw new he(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT="firestore.googleapis.com",oE=!0;class lE{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new he(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ZT,this.ssl=oE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:oE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=DT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<YO)throw new he(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XT((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ff{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lE(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Sx;switch(s.type){case"firstParty":return new Dx(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=rE.get(t);s&&(ce("ComponentProvider","Removing Datastore"),rE.delete(t),s.terminate())}(this),Promise.resolve()}}function _k(n,e,t,s={}){var o;const u=(n=Vn(n,Ff))._getSettings(),f=`${e}:${t}`;if(u.host!==ZT&&u.host!==f&&jo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},u),{host:f,ssl:!1})),s.mockUserToken){let p,d;if(typeof s.mockUserToken=="string")p=s.mockUserToken,d=ln.MOCK_USER;else{p=LR(s.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const g=s.mockUserToken.sub||s.mockUserToken.user_id;if(!g)throw new he(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new ln(g)}n._authCredentials=new Rx(new zb(p,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Bs(this.firestore,e,this._query)}}class cn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ss(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}}class Ss extends Bs{constructor(e,t,s){super(e,t,Mf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new ve(e))}withConverter(e){return new Ss(this.firestore,e,this._path)}}function Mi(n,e,...t){if(n=jt(n),WT("collection","path",e),n instanceof Ff){const s=at.fromString(e,...t);return aE(s),new Ss(n,null,s)}{if(!(n instanceof cn||n instanceof Ss))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(at.fromString(e,...t));return aE(s),new Ss(n.firestore,null,s)}}function ii(n,e,...t){if(n=jt(n),arguments.length===1&&(e=Hb.newId()),WT("doc","path",e),n instanceof Ff){const s=at.fromString(e,...t);return sE(s),new cn(n,null,new ve(s))}{if(!(n instanceof cn||n instanceof Ss))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(at.fromString(e,...t));return sE(s),new cn(n.firestore,n instanceof Ss?n.converter:null,new ve(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="AsyncQueue";class cE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new kT(this,"async_queue_retry"),this.Su=()=>{const s=vp();s&&ce(uE,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const t=vp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=vp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Er;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!tl(e))throw e;ce(uE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let p=f.message||"";return f.stack&&(p=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),p}(s);throw Sr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=t,t}enqueueAfterDelay(e,t,s){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=zg.createAndSchedule(this,e,t,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Te()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function hE(n){return function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(n,["next","error","complete"])}class ks extends Ff{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new cE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new cE(e),this._firestoreClient=void 0,await e}}}function wk(n,e){const t=typeof n=="object"?n:ZE(),s=typeof n=="string"?n:rf,o=cg(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=PR("firestore");u&&_k(o,...u)}return o}function Gf(n){if(n._terminated)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Ek(n),n._firestoreClient}function Ek(n){var e,t,s;const o=n._freezeSettings(),u=function(p,d,g,v){return new qx(p,d,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,XT(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new dk(n._authCredentials,n._appCheckCredentials,n._queue,u,n._componentsProvider&&function(p){const d=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(d),_online:d}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $o(nn.fromBase64String(e))}catch(t){throw new he(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new $o(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk=/^__.*__$/;class Tk{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Us(e,this.data,this.fieldMask,t,this.fieldTransforms):new Yu(e,this.data,t,this.fieldTransforms)}}class JT{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Us(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function eA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class Zg{constructor(e,t,s,o,u,f){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Zg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return df(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(eA(this.Lu)&&bk.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Ak{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||jf(e)}ju(e,t,s,o=!1){return new Zg({Lu:e,methodName:t,zu:s,path:tn.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qf(n){const e=n._freezeSettings(),t=jf(n._databaseId);return new Ak(n._databaseId,!!e.ignoreUndefinedProperties,t)}function tA(n,e,t,s,o,u={}){const f=n.ju(u.merge||u.mergeFields?2:0,e,t,o);ey("Data must be an object, but it was:",f,s);const p=nA(s,f);let d,g;if(u.merge)d=new Pn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const v=[];for(const E of u.mergeFields){const b=Xp(e,E,t);if(!f.contains(b))throw new he(ee.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);rA(v,b)||v.push(b)}d=new Pn(v),g=f.fieldTransforms.filter(E=>d.covers(E.field))}else d=null,g=f.fieldTransforms;return new Tk(new Sn(p),d,g)}class Yf extends Kf{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yf}}class Jg extends Kf{_toFieldTransform(e){return new pO(e.path,new Lu)}isEqual(e){return e instanceof Jg}}function Sk(n,e,t,s){const o=n.ju(1,e,t);ey("Data must be an object, but it was:",o,s);const u=[],f=Sn.empty();Ls(s,(d,g)=>{const v=ty(e,d,t);g=jt(g);const E=o.Ku(v);if(g instanceof Yf)u.push(v);else{const b=Ju(g,E);b!=null&&(u.push(v),f.set(v,b))}});const p=new Pn(u);return new JT(f,p,o.fieldTransforms)}function Rk(n,e,t,s,o,u){const f=n.ju(1,e,t),p=[Xp(e,s,t)],d=[o];if(u.length%2!=0)throw new he(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)p.push(Xp(e,u[b])),d.push(u[b+1]);const g=[],v=Sn.empty();for(let b=p.length-1;b>=0;--b)if(!rA(g,p[b])){const R=p[b];let x=d[b];x=jt(x);const L=f.Ku(R);if(x instanceof Yf)g.push(R);else{const M=Ju(x,L);M!=null&&(g.push(R),v.set(R,M))}}const E=new Pn(g);return new JT(v,E,f.fieldTransforms)}function Ck(n,e,t,s=!1){return Ju(t,n.ju(s?4:3,e))}function Ju(n,e){if(iA(n=jt(n)))return ey("Unsupported field value:",e,n),nA(n,e);if(n instanceof Kf)return function(s,o){if(!eA(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const p of s){let d=Ju(p,o.Uu(f));d==null&&(d={nullValue:"NULL_VALUE"}),u.push(d),f++}return{arrayValue:{values:u}}}(n,e)}return function(s,o){if((s=jt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return fO(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Ut.fromDate(s);return{timestampValue:lf(o.serializer,u)}}if(s instanceof Ut){const u=new Ut(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:lf(o.serializer,u)}}if(s instanceof Xg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof $o)return{bytesValue:bT(o.serializer,s._byteString)};if(s instanceof cn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Ng(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Wg)return function(f,p){return{mapValue:{fields:{[Xb]:{stringValue:Wb},[sf]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw p.Wu("VectorValues must only contain numeric values.");return Dg(p.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${qf(s)}`)}(n,e)}function nA(n,e){const t={};return Fb(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ls(n,(s,o)=>{const u=Ju(o,e.qu(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function iA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ut||n instanceof Xg||n instanceof $o||n instanceof cn||n instanceof Kf||n instanceof Wg)}function ey(n,e,t){if(!iA(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=qf(t);throw s==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+s)}}function Xp(n,e,t){if((e=jt(e))instanceof $f)return e._internalPath;if(typeof e=="string")return ty(n,e);throw df("Field path arguments must be of type string or ",n,!1,void 0,t)}const Ik=new RegExp("[~\\*/\\[\\]]");function ty(n,e,t){if(e.search(Ik)>=0)throw df(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new $f(...e.split("."))._internalPath}catch{throw df(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function df(n,e,t,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let d="";return(u||f)&&(d+=" (found",u&&(d+=` in field ${s}`),f&&(d+=` in document ${o}`),d+=")"),new he(ee.INVALID_ARGUMENT,p+n+d)}function rA(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Dk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Xf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Dk extends sA{data(){return super.data()}}function Xf(n,e){return typeof e=="string"?ty(n,e):e instanceof $f?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new he(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ny{}class oA extends ny{}function iy(n,e,...t){let s=[];e instanceof ny&&s.push(e),s=s.concat(t),function(u){const f=u.filter(d=>d instanceof ry).length,p=u.filter(d=>d instanceof Wf).length;if(f>1||f>0&&p>0)throw new he(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)n=o._apply(n);return n}class Wf extends oA{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Wf(e,t,s)}_apply(e){const t=this._parse(e);return uA(e._query,t),new Bs(e.firestore,e.converter,Bp(e._query,t))}_parse(e){const t=Qf(e.firestore);return function(u,f,p,d,g,v,E){let b;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new he(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){dE(E,v);const x=[];for(const L of E)x.push(fE(d,u,L));b={arrayValue:{values:x}}}else b=fE(d,u,E)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||dE(E,v),b=Ck(p,f,E,v==="in"||v==="not-in");return xt.create(g,v,b)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function xk(n,e,t){const s=e,o=Xf("where",n);return Wf._create(o,s,t)}class ry extends ny{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ry(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:pi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let f=o;const p=u.getFlattenedFilters();for(const d of p)uA(f,d),f=Bp(f,d)}(e._query,t),new Bs(e.firestore,e.converter,Bp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class sy extends oA{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new sy(e,t)}_apply(e){const t=function(o,u,f){if(o.startAt!==null)throw new he(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new he(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Vu(u,f)}(e._query,this._field,this._direction);return new Bs(e.firestore,e.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new nl(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function lA(n,e="asc"){const t=e,s=Xf("orderBy",n);return sy._create(s,t)}function fE(n,e,t){if(typeof(t=jt(t))=="string"){if(t==="")throw new he(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sT(e)&&t.indexOf("/")!==-1)throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(at.fromString(t));if(!ve.isDocumentKey(s))throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return C0(n,new ve(s))}if(t instanceof cn)return C0(n,t._key);throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qf(t)}.`)}function dE(n,e){if(!Array.isArray(n)||n.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function uA(n,e){const t=function(o,u){for(const f of o)for(const p of f.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Ok{convertValue(e,t="none"){switch(xs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ds(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Ls(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[sf].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>Tt(f.doubleValue));return new Wg(u)}convertGeoPoint(e){return new Xg(Tt(e.latitude),Tt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=kf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(ku(e));default:return null}}convertTimestamp(e){const t=Is(e);return new Ut(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=at.fromString(e);Ze(IT(s));const o=new Mu(s.get(1),s.get(3)),u=new ve(s.popFirst(5));return o.isEqual(t)||Sr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(n,e,t){let s;return s=n?n.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hA extends sA{constructor(e,t,s,o,u,f){super(e,t,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new $h(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Xf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class $h extends hA{data(e={}){return super.data(e)}}class fA{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new bu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new $h(this._firestore,this._userDataWriter,s.key,s,new bu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(p=>{const d=new $h(o._firestore,o._userDataWriter,p.doc.key,p.doc,new bu(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:d,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>u||p.type!==3).map(p=>{const d=new $h(o._firestore,o._userDataWriter,p.doc.key,p.doc,new bu(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return p.type!==0&&(g=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),v=f.indexOf(p.doc.key)),{type:Nk(p.type),doc:d,oldIndex:g,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Nk(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mf(n){n=Vn(n,cn);const e=Vn(n.firestore,ks);return gk(Gf(e),n._key).then(t=>dA(e,n,t))}class ay extends Ok{constructor(e){super(),this.firestore=e}convertBytes(e){return new $o(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,t)}}function ys(n){n=Vn(n,Bs);const e=Vn(n.firestore,ks),t=Gf(e),s=new ay(e);return aA(n._query),yk(t,n._query).then(o=>new fA(e,s,n,o))}function Iu(n,e,t){n=Vn(n,cn);const s=Vn(n.firestore,ks),o=cA(n.converter,e);return oy(s,[tA(Qf(s),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,di.none())])}function Wp(n,e,t,...s){n=Vn(n,cn);const o=Vn(n.firestore,ks),u=Qf(o);let f;return f=typeof(e=jt(e))=="string"||e instanceof $f?Rk(u,"updateDoc",n._key,e,t,s):Sk(u,"updateDoc",n._key,e),oy(o,[f.toMutation(n._key,di.exists(!0))])}function kk(n,e){const t=Vn(n.firestore,ks),s=ii(n),o=cA(n.converter,e);return oy(t,[tA(Qf(n.firestore),"addDoc",s._key,o,n.converter!==null,{}).toMutation(s._key,di.exists(!1))]).then(()=>s)}function Mk(n,...e){var t,s,o;n=jt(n);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||hE(e[f])||(u=e[f],f++);const p={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(hE(e[f])){const E=e[f];e[f]=(t=E.next)===null||t===void 0?void 0:t.bind(E),e[f+1]=(s=E.error)===null||s===void 0?void 0:s.bind(E),e[f+2]=(o=E.complete)===null||o===void 0?void 0:o.bind(E)}let d,g,v;if(n instanceof cn)g=Vn(n.firestore,ks),v=Mf(n._key.path),d={next:E=>{e[f]&&e[f](dA(g,n,E))},error:e[f+1],complete:e[f+2]};else{const E=Vn(n,Bs);g=Vn(E.firestore,ks),v=E._query;const b=new ay(g);d={next:R=>{e[f]&&e[f](new fA(g,b,E,R))},error:e[f+1],complete:e[f+2]},aA(n._query)}return function(b,R,x,L){const M=new Yg(L),K=new $g(R,M,x);return b.asyncQueue.enqueueAndForget(async()=>qg(await ff(b),K)),()=>{M.su(),b.asyncQueue.enqueueAndForget(async()=>Fg(await ff(b),K))}}(Gf(g),v,p,d)}function oy(n,e){return function(s,o){const u=new Er;return s.asyncQueue.enqueueAndForget(async()=>rk(await pk(s),o,u)),u.promise}(Gf(n),e)}function dA(n,e,t){const s=t.docs.get(e._key),o=new ay(n);return new hA(n,o,e._key,s,new bu(t.hasPendingWrites,t.fromCache),e.converter)}function Pk(){return new Jg("serverTimestamp")}(function(e,t=!0){(function(o){Jo=o})(Wo),Uo(new Aa("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),p=new ks(new Cx(s.getProvider("auth-internal")),new xx(f,s.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new he(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mu(g.options.projectId,v)}(f,o),f);return u=Object.assign({useFetchStreams:t},u),p._setSettings(u),p},"PUBLIC").setMultipleInstances(!0)),Ts(g0,y0,e),Ts(g0,y0,"esm2017")})();const Vk={apiKey:"AIzaSyB_kWn5ZtonrQxeqnS8Ta97Dubr2nQgvog",authDomain:"project-attendance-1e593.firebaseapp.com",projectId:"project-attendance-1e593",storageBucket:"project-attendance-1e593.firebasestorage.app",messagingSenderId:"16976614955",appId:"1:16976614955:web:e32519e0a2134b4c733c6e",measurementId:"G-D759CH83G0"},mA=WE(Vk),Cr=Ex(mA),Lk=new pr,Et=wk(mA),Uk=()=>{const[n,e]=F.useState(""),[t,s]=F.useState(""),o=Oa(),u=p=>{p.preventDefault(),aD(Cr,n,t).then(d=>{console.log("Login successful:",d.user),o("/SC310006_Sec1_Group6/dashboard")}).catch(d=>{console.error("Email/Password Login error:",d),alert(d.message)})},f=()=>{xD(Cr,Lk).then(p=>{console.log("Google Login successful:",p.user),o("/SC310006_Sec1_Group6/dashboard")}).catch(p=>{console.error("Google Login error:",p),alert(p.message)})};return N.jsxs("div",{className:"login-container",children:[N.jsx("h2",{children:"เข้าสู่ระบบ"}),N.jsxs("form",{className:"login-form",onSubmit:u,children:[N.jsx("input",{type:"email",placeholder:"อีเมล",value:n,onChange:p=>e(p.target.value),required:!0}),N.jsx("input",{type:"password",placeholder:"รหัสผ่าน",value:t,onChange:p=>s(p.target.value),required:!0}),N.jsx("button",{type:"submit",className:"login-button",children:"เข้าสู่ระบบ"})]}),N.jsx("div",{className:"separator",children:"หรือ"}),N.jsx("button",{className:"google-button",onClick:f,children:"Sign in with Google"}),N.jsx("div",{className:"signup-link",children:N.jsxs("p",{children:["ยังไม่มีบัญชี? ",N.jsx("span",{onClick:()=>o("/SC310006_Sec1_Group6/signup"),children:"สมัครสมาชิก"})]})})]})},Bk=()=>{const[n,e]=F.useState(""),[t,s]=F.useState(""),[o,u]=F.useState(""),f=Oa(),p=d=>{if(d.preventDefault(),t!==o){alert("รหัสผ่านทั้งสองช่องไม่ตรงกัน!");return}sD(Cr,n,t).then(g=>{console.log("Sign Up successful:",g.user),f("/SC310006_Sec1_Group6")}).catch(g=>{console.error("Sign Up error:",g),alert(g.message)})};return N.jsxs("div",{className:"signup-container",children:[N.jsx("h2",{children:"สมัครสมาชิก"}),N.jsxs("form",{className:"signup-form",onSubmit:p,children:[N.jsx("input",{type:"email",placeholder:"อีเมล",value:n,onChange:d=>e(d.target.value),required:!0}),N.jsx("input",{type:"password",placeholder:"รหัสผ่าน",value:t,onChange:d=>s(d.target.value),required:!0}),N.jsx("input",{type:"password",placeholder:"ยืนยันรหัสผ่าน",value:o,onChange:d=>u(d.target.value),required:!0}),N.jsx("button",{type:"submit",className:"signup-button",children:"สร้างบัญชี"})]}),N.jsxs("p",{className:"signup-hint",children:["มีบัญชีแล้ว? ",N.jsx("span",{onClick:()=>f("/SC310006_Sec1_Group6"),children:"เข้าสู่ระบบ"})]})]})},jk=()=>{const n=Oa(),[e,t]=F.useState(null),[s,o]=F.useState([]);F.useEffect(()=>{const g=wg(Cr,v=>{v?(t({uid:v.uid,name:v.displayName,email:v.email,photo:v.photoURL}),(async()=>{try{const b=iy(Mi(Et,"classroom"),xk("owner","==",v.uid)),R=await ys(b),x=await Promise.all(R.docs.map(async L=>{const M=ii(Et,"classroom",L.id,"info","infoDoc"),K=await mf(M),Z=K.exists()?K.data():{};return{cid:L.id,info:Z}}));o(x)}catch(b){console.error("Error fetching courses:",b)}})()):n("/SC310006_Sec1_Group6")});return()=>g()},[n]);const u=()=>{Cr.signOut(),n("/SC310006_Sec1_Group6")},f=()=>{n("/SC310006_Sec1_Group6/add-classroom")},p=()=>{n("/SC310006_Sec1_Group6/profile")},d=g=>{n(`/SC310006_Sec1_Group6/classroom/${g}`)};return N.jsxs("div",{className:"dashboard",children:[N.jsxs("header",{className:"dashboard-header",children:[e&&N.jsxs("div",{className:"user-info",children:[N.jsx("img",{src:e.photo,alt:"User Photo",className:"user-photo"}),N.jsxs("div",{className:"user-details",children:[N.jsx("div",{className:"font-bold",children:e.name}),N.jsx("div",{className:"",children:e.email})]})]}),N.jsxs("div",{className:"header-actions",children:[N.jsx("button",{onClick:f,className:"button",children:"เพิ่มวิชา"}),N.jsx("button",{onClick:p,className:"button",children:"แก้ไขข้อมูลส่วนตัว"}),N.jsx("button",{onClick:u,className:"button",children:"Logout"})]})]}),N.jsxs("main",{className:"dashboard-content",children:[N.jsx("div",{className:"text-lg md:text-xl mb-2 md:mb-3",children:"วิชาที่สอน"}),s.length>0?N.jsx("ul",{className:"course-list",children:s.map(g=>N.jsxs("li",{className:"course-item",children:[N.jsx("img",{src:g.info.photo,alt:g.info.name,className:"course-photo"}),N.jsxs("div",{className:"course-info",children:[N.jsx("h3",{children:g.info.name}),N.jsxs("p",{children:["รหัสวิชา: ",g.info.code]}),N.jsxs("p",{children:["ห้องเรียน: ",g.info.room]})]}),N.jsx("button",{onClick:()=>d(g.cid),className:"button",children:"จัดการห้องเรียน"})]},g.cid))}):N.jsx("p",{children:"ยังไม่มีวิชาที่สอน"})]})]})},zk=()=>{const[n,e]=F.useState(""),[t,s]=F.useState(""),[o,u]=F.useState(""),[f,p]=F.useState(null);F.useEffect(()=>{const g=wg(Cr,v=>{v&&(p(v),e(v.displayName||""),s(v.email||""),u(v.photoURL||""))});return()=>g()},[]);const d=g=>{if(g.preventDefault(),!f){alert("ไม่พบข้อมูลผู้ใช้");return}lD(f,{displayName:n,photoURL:o}).then(()=>{alert("อัปเดตโปรไฟล์สำเร็จ")}).catch(v=>{console.error("Update error:",v),alert(v.message)})};return N.jsxs("div",{className:"edit-profile-container",children:[N.jsx("div",{className:"text-lg font-medium md:text-xl mb-2 md:mb-4",children:"แก้ไขข้อมูลส่วนตัว"}),N.jsxs("form",{onSubmit:d,className:"edit-profile-form",children:[N.jsxs("div",{children:[N.jsx("label",{children:"ชื่อ:"}),N.jsx("input",{type:"text",value:n,onChange:g=>e(g.target.value),required:!0})]}),N.jsxs("div",{children:[N.jsx("label",{children:"อีเมล:"}),N.jsx("input",{type:"email",value:t,onChange:g=>s(g.target.value),required:!0})]}),N.jsxs("div",{children:[N.jsx("label",{children:"รูปภาพ:"}),N.jsx("input",{type:"text",placeholder:"URL รูปภาพหรือเลือกจากรายการ",value:o,onChange:g=>u(g.target.value)})]}),N.jsx("button",{type:"submit",children:"บันทึกข้อมูล"})]})]})},Hk=()=>{const[n,e]=F.useState(""),[t,s]=F.useState(""),[o,u]=F.useState(""),[f,p]=F.useState(""),[d,g]=F.useState({}),[v,E]=F.useState(!1),b=Oa(),R=async L=>{L.preventDefault();try{const K=(await kk(Mi(Et,"classroom"),{owner:Cr.currentUser.uid})).id;await Iu(ii(Et,"classroom",K,"info","infoDoc"),{code:n,name:t,room:o,photo:f}),await Iu(ii(Et,"users",Cr.currentUser.uid,"classroom",K),{status:1}),alert("เพิ่มวิชาใหม่สำเร็จ"),b("/SC310006_Sec1_Group6/dashboard")}catch(M){console.error("Add course error:",M),alert(M.message)}},x=L=>{p(L.target.value),L.target.value.match(/\.(jpeg|jpg|gif|png)$/i)!=null||L.target.value===""?(g({border:""}),E(!1)):(g({border:"1px solid red"}),E(!0))};return N.jsxs("div",{className:"add-course-container",children:[N.jsx("div",{className:"text-lg font-medium md:text-xl",children:"เพิ่มวิชาใหม่"}),N.jsxs("form",{onSubmit:R,className:"add-course-form",children:[N.jsxs("div",{children:[N.jsx("label",{style:{display:"block",textAlign:"left"},children:"รหัสวิชา:"}),N.jsx("input",{type:"text",value:n,onChange:L=>e(L.target.value),placeholder:"รหัสวิชา",required:!0})]}),N.jsxs("div",{children:[N.jsx("label",{style:{display:"block",textAlign:"left"},children:"ชื่อวิชา:"}),N.jsx("input",{type:"text",value:t,onChange:L=>s(L.target.value),placeholder:"ชื่อวิชา",required:!0})]}),N.jsxs("div",{children:[N.jsx("label",{style:{display:"block",textAlign:"left"},children:"ชื่อห้องเรียน:"}),N.jsx("input",{type:"text",value:o,onChange:L=>u(L.target.value),placeholder:"ชื่อห้องเรียน",required:!0})]}),N.jsxs("div",{children:[N.jsx("label",{style:{display:"block",textAlign:"left"},children:"Link รูปภาพ:"}),N.jsx("input",{style:d,type:"text",value:f,onChange:x,placeholder:"เช่น https://example.com/image.jpg"}),N.jsx("p",{className:"text-red-400 mb-4",children:v&&"Link รูปภาพไม่ถูกต้อง"})]}),N.jsx("button",{type:"submit",children:"บันทึกข้อมูล"})]})]})};/*!
* sweetalert2 v11.17.2
* Released under the MIT License.
*/function pA(n,e,t){if(typeof n=="function"?n===e:n.has(e))return arguments.length<3?e:t;throw new TypeError("Private element is not present on this object")}function qk(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function mE(n,e){return n.get(pA(n,e))}function Fk(n,e,t){qk(n,e),e.set(n,t)}function Gk(n,e,t){return n.set(pA(n,e),t),t}const $k=100,_e={},Kk=()=>{_e.previousActiveElement instanceof HTMLElement?(_e.previousActiveElement.focus(),_e.previousActiveElement=null):document.body&&document.body.focus()},Qk=n=>new Promise(e=>{if(!n)return e();const t=window.scrollX,s=window.scrollY;_e.restoreFocusTimeout=setTimeout(()=>{Kk(),e()},$k),window.scrollTo(t,s)}),gA="swal2-",Yk=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],Y=Yk.reduce((n,e)=>(n[e]=gA+e,n),{}),Xk=["success","warning","info","question","error"],pf=Xk.reduce((n,e)=>(n[e]=gA+e,n),{}),yA="SweetAlert2:",ly=n=>n.charAt(0).toUpperCase()+n.slice(1),_n=n=>{console.warn(`${yA} ${typeof n=="object"?n.join(" "):n}`)},Ma=n=>{console.error(`${yA} ${n}`)},pE=[],Wk=n=>{pE.includes(n)||(pE.push(n),_n(n))},vA=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;Wk(`"${n}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},Zf=n=>typeof n=="function"?n():n,uy=n=>n&&typeof n.toPromise=="function",ec=n=>uy(n)?n.toPromise():Promise.resolve(n),cy=n=>n&&Promise.resolve(n)===n,wn=()=>document.body.querySelector(`.${Y.container}`),tc=n=>{const e=wn();return e?e.querySelector(n):null},Un=n=>tc(`.${n}`),Xe=()=>Un(Y.popup),rl=()=>Un(Y.icon),Zk=()=>Un(Y["icon-content"]),_A=()=>Un(Y.title),hy=()=>Un(Y["html-container"]),wA=()=>Un(Y.image),fy=()=>Un(Y["progress-steps"]),Jf=()=>Un(Y["validation-message"]),Bi=()=>tc(`.${Y.actions} .${Y.confirm}`),sl=()=>tc(`.${Y.actions} .${Y.cancel}`),Pa=()=>tc(`.${Y.actions} .${Y.deny}`),Jk=()=>Un(Y["input-label"]),al=()=>tc(`.${Y.loader}`),nc=()=>Un(Y.actions),EA=()=>Un(Y.footer),ed=()=>Un(Y["timer-progress-bar"]),dy=()=>Un(Y.close),eM=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,my=()=>{const n=Xe();if(!n)return[];const e=n.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),t=Array.from(e).sort((u,f)=>{const p=parseInt(u.getAttribute("tabindex")||"0"),d=parseInt(f.getAttribute("tabindex")||"0");return p>d?1:p<d?-1:0}),s=n.querySelectorAll(eM),o=Array.from(s).filter(u=>u.getAttribute("tabindex")!=="-1");return[...new Set(t.concat(o))].filter(u=>Rn(u))},py=()=>br(document.body,Y.shown)&&!br(document.body,Y["toast-shown"])&&!br(document.body,Y["no-backdrop"]),td=()=>{const n=Xe();return n?br(n,Y.toast):!1},tM=()=>{const n=Xe();return n?n.hasAttribute("data-loading"):!1},Bn=(n,e)=>{if(n.textContent="",e){const s=new DOMParser().parseFromString(e,"text/html"),o=s.querySelector("head");o&&Array.from(o.childNodes).forEach(f=>{n.appendChild(f)});const u=s.querySelector("body");u&&Array.from(u.childNodes).forEach(f=>{f instanceof HTMLVideoElement||f instanceof HTMLAudioElement?n.appendChild(f.cloneNode(!0)):n.appendChild(f)})}},br=(n,e)=>{if(!e)return!1;const t=e.split(/\s+/);for(let s=0;s<t.length;s++)if(!n.classList.contains(t[s]))return!1;return!0},nM=(n,e)=>{Array.from(n.classList).forEach(t=>{!Object.values(Y).includes(t)&&!Object.values(pf).includes(t)&&!Object.values(e.showClass||{}).includes(t)&&n.classList.remove(t)})},Ln=(n,e,t)=>{if(nM(n,e),!e.customClass)return;const s=e.customClass[t];if(s){if(typeof s!="string"&&!s.forEach){_n(`Invalid type of customClass.${t}! Expected string or iterable object, got "${typeof s}"`);return}Ge(n,s)}},nd=(n,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return n.querySelector(`.${Y.popup} > .${Y[e]}`);case"checkbox":return n.querySelector(`.${Y.popup} > .${Y.checkbox} input`);case"radio":return n.querySelector(`.${Y.popup} > .${Y.radio} input:checked`)||n.querySelector(`.${Y.popup} > .${Y.radio} input:first-child`);case"range":return n.querySelector(`.${Y.popup} > .${Y.range} input`);default:return n.querySelector(`.${Y.popup} > .${Y.input}`)}},bA=n=>{if(n.focus(),n.type!=="file"){const e=n.value;n.value="",n.value=e}},TA=(n,e,t)=>{!n||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(s=>{Array.isArray(n)?n.forEach(o=>{t?o.classList.add(s):o.classList.remove(s)}):t?n.classList.add(s):n.classList.remove(s)}))},Ge=(n,e)=>{TA(n,e,!0)},si=(n,e)=>{TA(n,e,!1)},_s=(n,e)=>{const t=Array.from(n.children);for(let s=0;s<t.length;s++){const o=t[s];if(o instanceof HTMLElement&&br(o,e))return o}},Ta=(n,e,t)=>{t===`${parseInt(t)}`&&(t=parseInt(t)),t||parseInt(t)===0?n.style.setProperty(e,typeof t=="number"?`${t}px`:t):n.style.removeProperty(e)},Yt=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";n&&(n.style.display=e)},fn=n=>{n&&(n.style.display="none")},gy=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";n&&new MutationObserver(()=>{ic(n,n.innerHTML,e)}).observe(n,{childList:!0,subtree:!0})},gE=(n,e,t,s)=>{const o=n.querySelector(e);o&&o.style.setProperty(t,s)},ic=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";e?Yt(n,t):fn(n)},Rn=n=>!!(n&&(n.offsetWidth||n.offsetHeight||n.getClientRects().length)),iM=()=>!Rn(Bi())&&!Rn(Pa())&&!Rn(sl()),yE=n=>n.scrollHeight>n.clientHeight,AA=n=>{const e=window.getComputedStyle(n),t=parseFloat(e.getPropertyValue("animation-duration")||"0"),s=parseFloat(e.getPropertyValue("transition-duration")||"0");return t>0||s>0},yy=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const t=ed();t&&Rn(t)&&(e&&(t.style.transition="none",t.style.width="100%"),setTimeout(()=>{t.style.transition=`width ${n/1e3}s linear`,t.style.width="0%"},10))},rM=()=>{const n=ed();if(!n)return;const e=parseInt(window.getComputedStyle(n).width);n.style.removeProperty("transition"),n.style.width="100%";const t=parseInt(window.getComputedStyle(n).width),s=e/t*100;n.style.width=`${s}%`},sM=()=>typeof window>"u"||typeof document>"u",aM=`
 <div aria-labelledby="${Y.title}" aria-describedby="${Y["html-container"]}" class="${Y.popup}" tabindex="-1">
   <button type="button" class="${Y.close}"></button>
   <ul class="${Y["progress-steps"]}"></ul>
   <div class="${Y.icon}"></div>
   <img class="${Y.image}" />
   <h2 class="${Y.title}" id="${Y.title}"></h2>
   <div class="${Y["html-container"]}" id="${Y["html-container"]}"></div>
   <input class="${Y.input}" id="${Y.input}" />
   <input type="file" class="${Y.file}" />
   <div class="${Y.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${Y.select}" id="${Y.select}"></select>
   <div class="${Y.radio}"></div>
   <label class="${Y.checkbox}">
     <input type="checkbox" id="${Y.checkbox}" />
     <span class="${Y.label}"></span>
   </label>
   <textarea class="${Y.textarea}" id="${Y.textarea}"></textarea>
   <div class="${Y["validation-message"]}" id="${Y["validation-message"]}"></div>
   <div class="${Y.actions}">
     <div class="${Y.loader}"></div>
     <button type="button" class="${Y.confirm}"></button>
     <button type="button" class="${Y.deny}"></button>
     <button type="button" class="${Y.cancel}"></button>
   </div>
   <div class="${Y.footer}"></div>
   <div class="${Y["timer-progress-bar-container"]}">
     <div class="${Y["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),oM=()=>{const n=wn();return n?(n.remove(),si([document.documentElement,document.body],[Y["no-backdrop"],Y["toast-shown"],Y["has-column"]]),!0):!1},va=()=>{_e.currentInstance.resetValidationMessage()},lM=()=>{const n=Xe(),e=_s(n,Y.input),t=_s(n,Y.file),s=n.querySelector(`.${Y.range} input`),o=n.querySelector(`.${Y.range} output`),u=_s(n,Y.select),f=n.querySelector(`.${Y.checkbox} input`),p=_s(n,Y.textarea);e.oninput=va,t.onchange=va,u.onchange=va,f.onchange=va,p.oninput=va,s.oninput=()=>{va(),o.value=s.value},s.onchange=()=>{va(),o.value=s.value}},uM=n=>typeof n=="string"?document.querySelector(n):n,cM=n=>{const e=Xe();e.setAttribute("role",n.toast?"alert":"dialog"),e.setAttribute("aria-live",n.toast?"polite":"assertive"),n.toast||e.setAttribute("aria-modal","true")},hM=n=>{window.getComputedStyle(n).direction==="rtl"&&Ge(wn(),Y.rtl)},fM=n=>{const e=oM();if(sM()){Ma("SweetAlert2 requires document to initialize");return}const t=document.createElement("div");t.className=Y.container,e&&Ge(t,Y["no-transition"]),Bn(t,aM),t.dataset.swal2Theme=n.theme;const s=uM(n.target);s.appendChild(t),cM(n),hM(s),lM()},vy=(n,e)=>{n instanceof HTMLElement?e.appendChild(n):typeof n=="object"?dM(n,e):n&&Bn(e,n)},dM=(n,e)=>{n.jquery?mM(e,n):Bn(e,n.toString())},mM=(n,e)=>{if(n.textContent="",0 in e)for(let t=0;t in e;t++)n.appendChild(e[t].cloneNode(!0));else n.appendChild(e.cloneNode(!0))},pM=(n,e)=>{const t=nc(),s=al();!t||!s||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?fn(t):Yt(t),Ln(t,e,"actions"),gM(t,s,e),Bn(s,e.loaderHtml||""),Ln(s,e,"loader"))};function gM(n,e,t){const s=Bi(),o=Pa(),u=sl();!s||!o||!u||(wp(s,"confirm",t),wp(o,"deny",t),wp(u,"cancel",t),yM(s,o,u,t),t.reverseButtons&&(t.toast?(n.insertBefore(u,s),n.insertBefore(o,s)):(n.insertBefore(u,e),n.insertBefore(o,e),n.insertBefore(s,e))))}function yM(n,e,t,s){if(!s.buttonsStyling){si([n,e,t],Y.styled);return}Ge([n,e,t],Y.styled),s.confirmButtonColor&&(n.style.backgroundColor=s.confirmButtonColor,Ge(n,Y["default-outline"])),s.denyButtonColor&&(e.style.backgroundColor=s.denyButtonColor,Ge(e,Y["default-outline"])),s.cancelButtonColor&&(t.style.backgroundColor=s.cancelButtonColor,Ge(t,Y["default-outline"]))}function wp(n,e,t){const s=ly(e);ic(n,t[`show${s}Button`],"inline-block"),Bn(n,t[`${e}ButtonText`]||""),n.setAttribute("aria-label",t[`${e}ButtonAriaLabel`]||""),n.className=Y[e],Ln(n,t,`${e}Button`)}const vM=(n,e)=>{const t=dy();t&&(Bn(t,e.closeButtonHtml||""),Ln(t,e,"closeButton"),ic(t,e.showCloseButton),t.setAttribute("aria-label",e.closeButtonAriaLabel||""))},_M=(n,e)=>{const t=wn();t&&(wM(t,e.backdrop),EM(t,e.position),bM(t,e.grow),Ln(t,e,"container"))};function wM(n,e){typeof e=="string"?n.style.background=e:e||Ge([document.documentElement,document.body],Y["no-backdrop"])}function EM(n,e){e&&(e in Y?Ge(n,Y[e]):(_n('The "position" parameter is not valid, defaulting to "center"'),Ge(n,Y.center)))}function bM(n,e){e&&Ge(n,Y[`grow-${e}`])}var st={innerParams:new WeakMap,domCache:new WeakMap};const TM=["input","file","range","select","radio","checkbox","textarea"],AM=(n,e)=>{const t=Xe();if(!t)return;const s=st.innerParams.get(n),o=!s||e.input!==s.input;TM.forEach(u=>{const f=_s(t,Y[u]);f&&(CM(u,e.inputAttributes),f.className=Y[u],o&&fn(f))}),e.input&&(o&&SM(e),IM(e))},SM=n=>{if(!n.input)return;if(!wt[n.input]){Ma(`Unexpected type of input! Expected ${Object.keys(wt).join(" | ")}, got "${n.input}"`);return}const e=SA(n.input);if(!e)return;const t=wt[n.input](e,n);Yt(e),n.inputAutoFocus&&setTimeout(()=>{bA(t)})},RM=n=>{for(let e=0;e<n.attributes.length;e++){const t=n.attributes[e].name;["id","type","value","style"].includes(t)||n.removeAttribute(t)}},CM=(n,e)=>{const t=Xe();if(!t)return;const s=nd(t,n);if(s){RM(s);for(const o in e)s.setAttribute(o,e[o])}},IM=n=>{if(!n.input)return;const e=SA(n.input);e&&Ln(e,n,"input")},_y=(n,e)=>{!n.placeholder&&e.inputPlaceholder&&(n.placeholder=e.inputPlaceholder)},rc=(n,e,t)=>{if(t.inputLabel){const s=document.createElement("label"),o=Y["input-label"];s.setAttribute("for",n.id),s.className=o,typeof t.customClass=="object"&&Ge(s,t.customClass.inputLabel),s.innerText=t.inputLabel,e.insertAdjacentElement("beforebegin",s)}},SA=n=>{const e=Xe();if(e)return _s(e,Y[n]||Y.input)},gf=(n,e)=>{["string","number"].includes(typeof e)?n.value=`${e}`:cy(e)||_n(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},wt={};wt.text=wt.email=wt.password=wt.number=wt.tel=wt.url=wt.search=wt.date=wt["datetime-local"]=wt.time=wt.week=wt.month=(n,e)=>(gf(n,e.inputValue),rc(n,n,e),_y(n,e),n.type=e.input,n);wt.file=(n,e)=>(rc(n,n,e),_y(n,e),n);wt.range=(n,e)=>{const t=n.querySelector("input"),s=n.querySelector("output");return gf(t,e.inputValue),t.type=e.input,gf(s,e.inputValue),rc(t,n,e),n};wt.select=(n,e)=>{if(n.textContent="",e.inputPlaceholder){const t=document.createElement("option");Bn(t,e.inputPlaceholder),t.value="",t.disabled=!0,t.selected=!0,n.appendChild(t)}return rc(n,n,e),n};wt.radio=n=>(n.textContent="",n);wt.checkbox=(n,e)=>{const t=nd(Xe(),"checkbox");t.value="1",t.checked=!!e.inputValue;const s=n.querySelector("span");return Bn(s,e.inputPlaceholder||e.inputLabel),t};wt.textarea=(n,e)=>{gf(n,e.inputValue),_y(n,e),rc(n,n,e);const t=s=>parseInt(window.getComputedStyle(s).marginLeft)+parseInt(window.getComputedStyle(s).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const s=parseInt(window.getComputedStyle(Xe()).width),o=()=>{if(!document.body.contains(n))return;const u=n.offsetWidth+t(n);u>s?Xe().style.width=`${u}px`:Ta(Xe(),"width",e.width)};new MutationObserver(o).observe(n,{attributes:!0,attributeFilter:["style"]})}}),n};const DM=(n,e)=>{const t=hy();t&&(gy(t),Ln(t,e,"htmlContainer"),e.html?(vy(e.html,t),Yt(t,"block")):e.text?(t.textContent=e.text,Yt(t,"block")):fn(t),AM(n,e))},xM=(n,e)=>{const t=EA();t&&(gy(t),ic(t,e.footer,"block"),e.footer&&vy(e.footer,t),Ln(t,e,"footer"))},OM=(n,e)=>{const t=st.innerParams.get(n),s=rl();if(!s)return;if(t&&e.icon===t.icon){_E(s,e),vE(s,e);return}if(!e.icon&&!e.iconHtml){fn(s);return}if(e.icon&&Object.keys(pf).indexOf(e.icon)===-1){Ma(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),fn(s);return}Yt(s),_E(s,e),vE(s,e),Ge(s,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",RA)},vE=(n,e)=>{for(const[t,s]of Object.entries(pf))e.icon!==t&&si(n,s);Ge(n,e.icon&&pf[e.icon]),MM(n,e),RA(),Ln(n,e,"icon")},RA=()=>{const n=Xe();if(!n)return;const e=window.getComputedStyle(n).getPropertyValue("background-color"),t=n.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let s=0;s<t.length;s++)t[s].style.backgroundColor=e},NM=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,kM=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,_E=(n,e)=>{if(!e.icon&&!e.iconHtml)return;let t=n.innerHTML,s="";e.iconHtml?s=wE(e.iconHtml):e.icon==="success"?(s=NM,t=t.replace(/ style=".*?"/g,"")):e.icon==="error"?s=kM:e.icon&&(s=wE({question:"?",warning:"!",info:"i"}[e.icon])),t.trim()!==s.trim()&&Bn(n,s)},MM=(n,e)=>{if(e.iconColor){n.style.color=e.iconColor,n.style.borderColor=e.iconColor;for(const t of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])gE(n,t,"background-color",e.iconColor);gE(n,".swal2-success-ring","border-color",e.iconColor)}},wE=n=>`<div class="${Y["icon-content"]}">${n}</div>`,PM=(n,e)=>{const t=wA();if(t){if(!e.imageUrl){fn(t);return}Yt(t,""),t.setAttribute("src",e.imageUrl),t.setAttribute("alt",e.imageAlt||""),Ta(t,"width",e.imageWidth),Ta(t,"height",e.imageHeight),t.className=Y.image,Ln(t,e,"image")}};let wy=!1,CA=0,IA=0,DA=0,xA=0;const VM=n=>{n.addEventListener("mousedown",yf),document.body.addEventListener("mousemove",vf),n.addEventListener("mouseup",_f),n.addEventListener("touchstart",yf),document.body.addEventListener("touchmove",vf),n.addEventListener("touchend",_f)},LM=n=>{n.removeEventListener("mousedown",yf),document.body.removeEventListener("mousemove",vf),n.removeEventListener("mouseup",_f),n.removeEventListener("touchstart",yf),document.body.removeEventListener("touchmove",vf),n.removeEventListener("touchend",_f)},yf=n=>{const e=Xe();if(n.target===e||rl().contains(n.target)){wy=!0;const t=OA(n);CA=t.clientX,IA=t.clientY,DA=parseInt(e.style.insetInlineStart)||0,xA=parseInt(e.style.insetBlockStart)||0,Ge(e,"swal2-dragging")}},vf=n=>{const e=Xe();if(wy){let{clientX:t,clientY:s}=OA(n);e.style.insetInlineStart=`${DA+(t-CA)}px`,e.style.insetBlockStart=`${xA+(s-IA)}px`}},_f=()=>{const n=Xe();wy=!1,si(n,"swal2-dragging")},OA=n=>{let e=0,t=0;return n.type.startsWith("mouse")?(e=n.clientX,t=n.clientY):n.type.startsWith("touch")&&(e=n.touches[0].clientX,t=n.touches[0].clientY),{clientX:e,clientY:t}},UM=(n,e)=>{const t=wn(),s=Xe();if(!(!t||!s)){if(e.toast){Ta(t,"width",e.width),s.style.width="100%";const o=al();o&&s.insertBefore(o,rl())}else Ta(s,"width",e.width);Ta(s,"padding",e.padding),e.color&&(s.style.color=e.color),e.background&&(s.style.background=e.background),fn(Jf()),BM(s,e),e.draggable&&!e.toast?(Ge(s,Y.draggable),VM(s)):(si(s,Y.draggable),LM(s))}},BM=(n,e)=>{const t=e.showClass||{};n.className=`${Y.popup} ${Rn(n)?t.popup:""}`,e.toast?(Ge([document.documentElement,document.body],Y["toast-shown"]),Ge(n,Y.toast)):Ge(n,Y.modal),Ln(n,e,"popup"),typeof e.customClass=="string"&&Ge(n,e.customClass),e.icon&&Ge(n,Y[`icon-${e.icon}`])},jM=(n,e)=>{const t=fy();if(!t)return;const{progressSteps:s,currentProgressStep:o}=e;if(!s||s.length===0||o===void 0){fn(t);return}Yt(t),t.textContent="",o>=s.length&&_n("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),s.forEach((u,f)=>{const p=zM(u);if(t.appendChild(p),f===o&&Ge(p,Y["active-progress-step"]),f!==s.length-1){const d=HM(e);t.appendChild(d)}})},zM=n=>{const e=document.createElement("li");return Ge(e,Y["progress-step"]),Bn(e,n),e},HM=n=>{const e=document.createElement("li");return Ge(e,Y["progress-step-line"]),n.progressStepsDistance&&Ta(e,"width",n.progressStepsDistance),e},qM=(n,e)=>{const t=_A();t&&(gy(t),ic(t,e.title||e.titleText,"block"),e.title&&vy(e.title,t),e.titleText&&(t.innerText=e.titleText),Ln(t,e,"title"))},NA=(n,e)=>{UM(n,e),_M(n,e),jM(n,e),OM(n,e),PM(n,e),qM(n,e),vM(n,e),DM(n,e),pM(n,e),xM(n,e);const t=Xe();typeof e.didRender=="function"&&t&&e.didRender(t),_e.eventEmitter.emit("didRender",t)},FM=()=>Rn(Xe()),kA=()=>{var n;return(n=Bi())===null||n===void 0?void 0:n.click()},GM=()=>{var n;return(n=Pa())===null||n===void 0?void 0:n.click()},$M=()=>{var n;return(n=sl())===null||n===void 0?void 0:n.click()},ol=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),MA=n=>{n.keydownTarget&&n.keydownHandlerAdded&&(n.keydownTarget.removeEventListener("keydown",n.keydownHandler,{capture:n.keydownListenerCapture}),n.keydownHandlerAdded=!1)},KM=(n,e,t)=>{MA(n),e.toast||(n.keydownHandler=s=>YM(e,s,t),n.keydownTarget=e.keydownListenerCapture?window:Xe(),n.keydownListenerCapture=e.keydownListenerCapture,n.keydownTarget.addEventListener("keydown",n.keydownHandler,{capture:n.keydownListenerCapture}),n.keydownHandlerAdded=!0)},Zp=(n,e)=>{var t;const s=my();if(s.length){n=n+e,n===s.length?n=0:n===-1&&(n=s.length-1),s[n].focus();return}(t=Xe())===null||t===void 0||t.focus()},PA=["ArrowRight","ArrowDown"],QM=["ArrowLeft","ArrowUp"],YM=(n,e,t)=>{n&&(e.isComposing||e.keyCode===229||(n.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?XM(e,n):e.key==="Tab"?WM(e):[...PA,...QM].includes(e.key)?ZM(e.key):e.key==="Escape"&&JM(e,n,t)))},XM=(n,e)=>{if(!Zf(e.allowEnterKey))return;const t=nd(Xe(),e.input);if(n.target&&t&&n.target instanceof HTMLElement&&n.target.outerHTML===t.outerHTML){if(["textarea","file"].includes(e.input))return;kA(),n.preventDefault()}},WM=n=>{const e=n.target,t=my();let s=-1;for(let o=0;o<t.length;o++)if(e===t[o]){s=o;break}n.shiftKey?Zp(s,-1):Zp(s,1),n.stopPropagation(),n.preventDefault()},ZM=n=>{const e=nc(),t=Bi(),s=Pa(),o=sl();if(!e||!t||!s||!o)return;const u=[t,s,o];if(document.activeElement instanceof HTMLElement&&!u.includes(document.activeElement))return;const f=PA.includes(n)?"nextElementSibling":"previousElementSibling";let p=document.activeElement;if(p){for(let d=0;d<e.children.length;d++){if(p=p[f],!p)return;if(p instanceof HTMLButtonElement&&Rn(p))break}p instanceof HTMLButtonElement&&p.focus()}},JM=(n,e,t)=>{Zf(e.allowEscapeKey)&&(n.preventDefault(),t(ol.esc))};var Ko={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const eP=()=>{const n=wn();Array.from(document.body.children).forEach(t=>{t.contains(n)||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")||""),t.setAttribute("aria-hidden","true"))})},VA=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},LA=typeof window<"u"&&!!window.GestureEvent,tP=()=>{if(LA&&!br(document.body,Y.iosfix)){const n=document.body.scrollTop;document.body.style.top=`${n*-1}px`,Ge(document.body,Y.iosfix),nP()}},nP=()=>{const n=wn();if(!n)return;let e;n.ontouchstart=t=>{e=iP(t)},n.ontouchmove=t=>{e&&(t.preventDefault(),t.stopPropagation())}},iP=n=>{const e=n.target,t=wn(),s=hy();return!t||!s||rP(n)||sP(n)?!1:e===t||!yE(t)&&e instanceof HTMLElement&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(yE(s)&&s.contains(e))},rP=n=>n.touches&&n.touches.length&&n.touches[0].touchType==="stylus",sP=n=>n.touches&&n.touches.length>1,aP=()=>{if(br(document.body,Y.iosfix)){const n=parseInt(document.body.style.top,10);si(document.body,Y.iosfix),document.body.style.top="",document.body.scrollTop=n*-1}},oP=()=>{const n=document.createElement("div");n.className=Y["scrollbar-measure"],document.body.appendChild(n);const e=n.getBoundingClientRect().width-n.clientWidth;return document.body.removeChild(n),e};let Vo=null;const lP=n=>{Vo===null&&(document.body.scrollHeight>window.innerHeight||n==="scroll")&&(Vo=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Vo+oP()}px`)},uP=()=>{Vo!==null&&(document.body.style.paddingRight=`${Vo}px`,Vo=null)};function UA(n,e,t,s){td()?EE(n,s):(Qk(t).then(()=>EE(n,s)),MA(_e)),LA?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),py()&&(uP(),aP(),VA()),cP()}function cP(){si([document.documentElement,document.body],[Y.shown,Y["height-auto"],Y["no-backdrop"],Y["toast-shown"]])}function ws(n){n=fP(n);const e=Ko.swalPromiseResolve.get(this),t=hP(this);this.isAwaitingPromise?n.isDismissed||(sc(this),e(n)):t&&e(n)}const hP=n=>{const e=Xe();if(!e)return!1;const t=st.innerParams.get(n);if(!t||br(e,t.hideClass.popup))return!1;si(e,t.showClass.popup),Ge(e,t.hideClass.popup);const s=wn();return si(s,t.showClass.backdrop),Ge(s,t.hideClass.backdrop),dP(n,e,t),!0};function BA(n){const e=Ko.swalPromiseReject.get(this);sc(this),e&&e(n)}const sc=n=>{n.isAwaitingPromise&&(delete n.isAwaitingPromise,st.innerParams.get(n)||n._destroy())},fP=n=>typeof n>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},n),dP=(n,e,t)=>{var s;const o=wn(),u=AA(e);typeof t.willClose=="function"&&t.willClose(e),(s=_e.eventEmitter)===null||s===void 0||s.emit("willClose",e),u?mP(n,e,o,t.returnFocus,t.didClose):UA(n,o,t.returnFocus,t.didClose)},mP=(n,e,t,s,o)=>{_e.swalCloseEventFinishedCallback=UA.bind(null,n,t,s,o);const u=function(f){if(f.target===e){var p;(p=_e.swalCloseEventFinishedCallback)===null||p===void 0||p.call(_e),delete _e.swalCloseEventFinishedCallback,e.removeEventListener("animationend",u),e.removeEventListener("transitionend",u)}};e.addEventListener("animationend",u),e.addEventListener("transitionend",u)},EE=(n,e)=>{setTimeout(()=>{var t;typeof e=="function"&&e.bind(n.params)(),(t=_e.eventEmitter)===null||t===void 0||t.emit("didClose"),n._destroy&&n._destroy()})},Qo=n=>{let e=Xe();if(e||new bt,e=Xe(),!e)return;const t=al();td()?fn(rl()):pP(e,n),Yt(t),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},pP=(n,e)=>{const t=nc(),s=al();!t||!s||(!e&&Rn(Bi())&&(e=Bi()),Yt(t),e&&(fn(e),s.setAttribute("data-button-to-replace",e.className),t.insertBefore(s,e)),Ge([n,t],Y.loading))},gP=(n,e)=>{e.input==="select"||e.input==="radio"?EP(n,e):["text","email","number","tel","textarea"].some(t=>t===e.input)&&(uy(e.inputValue)||cy(e.inputValue))&&(Qo(Bi()),bP(n,e))},yP=(n,e)=>{const t=n.getInput();if(!t)return null;switch(e.input){case"checkbox":return vP(t);case"radio":return _P(t);case"file":return wP(t);default:return e.inputAutoTrim?t.value.trim():t.value}},vP=n=>n.checked?1:0,_P=n=>n.checked?n.value:null,wP=n=>n.files&&n.files.length?n.getAttribute("multiple")!==null?n.files:n.files[0]:null,EP=(n,e)=>{const t=Xe();if(!t)return;const s=o=>{e.input==="select"?TP(t,wf(o),e):e.input==="radio"&&AP(t,wf(o),e)};uy(e.inputOptions)||cy(e.inputOptions)?(Qo(Bi()),ec(e.inputOptions).then(o=>{n.hideLoading(),s(o)})):typeof e.inputOptions=="object"?s(e.inputOptions):Ma(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},bP=(n,e)=>{const t=n.getInput();t&&(fn(t),ec(e.inputValue).then(s=>{t.value=e.input==="number"?`${parseFloat(s)||0}`:`${s}`,Yt(t),t.focus(),n.hideLoading()}).catch(s=>{Ma(`Error in inputValue promise: ${s}`),t.value="",Yt(t),t.focus(),n.hideLoading()}))};function TP(n,e,t){const s=_s(n,Y.select);if(!s)return;const o=(u,f,p)=>{const d=document.createElement("option");d.value=p,Bn(d,f),d.selected=jA(p,t.inputValue),u.appendChild(d)};e.forEach(u=>{const f=u[0],p=u[1];if(Array.isArray(p)){const d=document.createElement("optgroup");d.label=f,d.disabled=!1,s.appendChild(d),p.forEach(g=>o(d,g[1],g[0]))}else o(s,p,f)}),s.focus()}function AP(n,e,t){const s=_s(n,Y.radio);if(!s)return;e.forEach(u=>{const f=u[0],p=u[1],d=document.createElement("input"),g=document.createElement("label");d.type="radio",d.name=Y.radio,d.value=f,jA(f,t.inputValue)&&(d.checked=!0);const v=document.createElement("span");Bn(v,p),v.className=Y.label,g.appendChild(d),g.appendChild(v),s.appendChild(g)});const o=s.querySelectorAll("input");o.length&&o[0].focus()}const wf=n=>{const e=[];return n instanceof Map?n.forEach((t,s)=>{let o=t;typeof o=="object"&&(o=wf(o)),e.push([s,o])}):Object.keys(n).forEach(t=>{let s=n[t];typeof s=="object"&&(s=wf(s)),e.push([t,s])}),e},jA=(n,e)=>!!e&&e.toString()===n.toString(),SP=n=>{const e=st.innerParams.get(n);n.disableButtons(),e.input?zA(n,"confirm"):by(n,!0)},RP=n=>{const e=st.innerParams.get(n);n.disableButtons(),e.returnInputValueOnDeny?zA(n,"deny"):Ey(n,!1)},CP=(n,e)=>{n.disableButtons(),e(ol.cancel)},zA=(n,e)=>{const t=st.innerParams.get(n);if(!t.input){Ma(`The "input" parameter is needed to be set when using returnInputValueOn${ly(e)}`);return}const s=n.getInput(),o=yP(n,t);t.inputValidator?IP(n,o,e):s&&!s.checkValidity()?(n.enableButtons(),n.showValidationMessage(t.validationMessage||s.validationMessage)):e==="deny"?Ey(n,o):by(n,o)},IP=(n,e,t)=>{const s=st.innerParams.get(n);n.disableInput(),Promise.resolve().then(()=>ec(s.inputValidator(e,s.validationMessage))).then(u=>{n.enableButtons(),n.enableInput(),u?n.showValidationMessage(u):t==="deny"?Ey(n,e):by(n,e)})},Ey=(n,e)=>{const t=st.innerParams.get(n||void 0);t.showLoaderOnDeny&&Qo(Pa()),t.preDeny?(n.isAwaitingPromise=!0,Promise.resolve().then(()=>ec(t.preDeny(e,t.validationMessage))).then(o=>{o===!1?(n.hideLoading(),sc(n)):n.close({isDenied:!0,value:typeof o>"u"?e:o})}).catch(o=>HA(n||void 0,o))):n.close({isDenied:!0,value:e})},bE=(n,e)=>{n.close({isConfirmed:!0,value:e})},HA=(n,e)=>{n.rejectPromise(e)},by=(n,e)=>{const t=st.innerParams.get(n||void 0);t.showLoaderOnConfirm&&Qo(),t.preConfirm?(n.resetValidationMessage(),n.isAwaitingPromise=!0,Promise.resolve().then(()=>ec(t.preConfirm(e,t.validationMessage))).then(o=>{Rn(Jf())||o===!1?(n.hideLoading(),sc(n)):bE(n,typeof o>"u"?e:o)}).catch(o=>HA(n||void 0,o))):bE(n,e)};function Ef(){const n=st.innerParams.get(this);if(!n)return;const e=st.domCache.get(this);fn(e.loader),td()?n.icon&&Yt(rl()):DP(e),si([e.popup,e.actions],Y.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const DP=n=>{const e=n.popup.getElementsByClassName(n.loader.getAttribute("data-button-to-replace"));e.length?Yt(e[0],"inline-block"):iM()&&fn(n.actions)};function qA(){const n=st.innerParams.get(this),e=st.domCache.get(this);return e?nd(e.popup,n.input):null}function FA(n,e,t){const s=st.domCache.get(n);e.forEach(o=>{s[o].disabled=t})}function GA(n,e){const t=Xe();if(!(!t||!n))if(n.type==="radio"){const s=t.querySelectorAll(`[name="${Y.radio}"]`);for(let o=0;o<s.length;o++)s[o].disabled=e}else n.disabled=e}function $A(){FA(this,["confirmButton","denyButton","cancelButton"],!1)}function KA(){FA(this,["confirmButton","denyButton","cancelButton"],!0)}function QA(){GA(this.getInput(),!1)}function YA(){GA(this.getInput(),!0)}function XA(n){const e=st.domCache.get(this),t=st.innerParams.get(this);Bn(e.validationMessage,n),e.validationMessage.className=Y["validation-message"],t.customClass&&t.customClass.validationMessage&&Ge(e.validationMessage,t.customClass.validationMessage),Yt(e.validationMessage);const s=this.getInput();s&&(s.setAttribute("aria-invalid","true"),s.setAttribute("aria-describedby",Y["validation-message"]),bA(s),Ge(s,Y.inputerror))}function WA(){const n=st.domCache.get(this);n.validationMessage&&fn(n.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),si(e,Y.inputerror))}const Lo={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},xP=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],OP={allowEnterKey:void 0},NP=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],ZA=n=>Object.prototype.hasOwnProperty.call(Lo,n),JA=n=>xP.indexOf(n)!==-1,eS=n=>OP[n],kP=n=>{ZA(n)||_n(`Unknown parameter "${n}"`)},MP=n=>{NP.includes(n)&&_n(`The parameter "${n}" is incompatible with toasts`)},PP=n=>{const e=eS(n);e&&vA(n,e)},tS=n=>{n.backdrop===!1&&n.allowOutsideClick&&_n('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),n.theme&&!["light","dark","auto","borderless"].includes(n.theme)&&_n(`Invalid theme "${n.theme}". Expected "light", "dark", "auto", or "borderless"`);for(const e in n)kP(e),n.toast&&MP(e),PP(e)};function nS(n){const e=wn(),t=Xe(),s=st.innerParams.get(this);if(!t||br(t,s.hideClass.popup)){_n("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const o=VP(n),u=Object.assign({},s,o);tS(u),e.dataset.swal2Theme=u.theme,NA(this,u),st.innerParams.set(this,u),Object.defineProperties(this,{params:{value:Object.assign({},this.params,n),writable:!1,enumerable:!0}})}const VP=n=>{const e={};return Object.keys(n).forEach(t=>{JA(t)?e[t]=n[t]:_n(`Invalid parameter to update: ${t}`)}),e};function iS(){const n=st.domCache.get(this),e=st.innerParams.get(this);if(!e){rS(this);return}n.popup&&_e.swalCloseEventFinishedCallback&&(_e.swalCloseEventFinishedCallback(),delete _e.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),_e.eventEmitter.emit("didDestroy"),LP(this)}const LP=n=>{rS(n),delete n.params,delete _e.keydownHandler,delete _e.keydownTarget,delete _e.currentInstance},rS=n=>{n.isAwaitingPromise?(Ep(st,n),n.isAwaitingPromise=!0):(Ep(Ko,n),Ep(st,n),delete n.isAwaitingPromise,delete n.disableButtons,delete n.enableButtons,delete n.getInput,delete n.disableInput,delete n.enableInput,delete n.hideLoading,delete n.disableLoading,delete n.showValidationMessage,delete n.resetValidationMessage,delete n.close,delete n.closePopup,delete n.closeModal,delete n.closeToast,delete n.rejectPromise,delete n.update,delete n._destroy)},Ep=(n,e)=>{for(const t in n)n[t].delete(e)};var UP=Object.freeze({__proto__:null,_destroy:iS,close:ws,closeModal:ws,closePopup:ws,closeToast:ws,disableButtons:KA,disableInput:YA,disableLoading:Ef,enableButtons:$A,enableInput:QA,getInput:qA,handleAwaitingPromise:sc,hideLoading:Ef,rejectPromise:BA,resetValidationMessage:WA,showValidationMessage:XA,update:nS});const BP=(n,e,t)=>{n.toast?jP(n,e,t):(HP(e),qP(e),FP(n,e,t))},jP=(n,e,t)=>{e.popup.onclick=()=>{n&&(zP(n)||n.timer||n.input)||t(ol.close)}},zP=n=>!!(n.showConfirmButton||n.showDenyButton||n.showCancelButton||n.showCloseButton);let bf=!1;const HP=n=>{n.popup.onmousedown=()=>{n.container.onmouseup=function(e){n.container.onmouseup=()=>{},e.target===n.container&&(bf=!0)}}},qP=n=>{n.container.onmousedown=e=>{e.target===n.container&&e.preventDefault(),n.popup.onmouseup=function(t){n.popup.onmouseup=()=>{},(t.target===n.popup||t.target instanceof HTMLElement&&n.popup.contains(t.target))&&(bf=!0)}}},FP=(n,e,t)=>{e.container.onclick=s=>{if(bf){bf=!1;return}s.target===e.container&&Zf(n.allowOutsideClick)&&t(ol.backdrop)}},GP=n=>typeof n=="object"&&n.jquery,TE=n=>n instanceof Element||GP(n),$P=n=>{const e={};return typeof n[0]=="object"&&!TE(n[0])?Object.assign(e,n[0]):["title","html","icon"].forEach((t,s)=>{const o=n[s];typeof o=="string"||TE(o)?e[t]=o:o!==void 0&&Ma(`Unexpected type of ${t}! Expected "string" or "Element", got ${typeof o}`)}),e};function KP(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return new this(...e)}function QP(n){class e extends this{_main(s,o){return super._main(s,Object.assign({},n,o))}}return e}const YP=()=>_e.timeout&&_e.timeout.getTimerLeft(),sS=()=>{if(_e.timeout)return rM(),_e.timeout.stop()},aS=()=>{if(_e.timeout){const n=_e.timeout.start();return yy(n),n}},XP=()=>{const n=_e.timeout;return n&&(n.running?sS():aS())},WP=n=>{if(_e.timeout){const e=_e.timeout.increase(n);return yy(e,!0),e}},ZP=()=>!!(_e.timeout&&_e.timeout.isRunning());let AE=!1;const Jp={};function JP(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Jp[n]=this,AE||(document.body.addEventListener("click",eV),AE=!0)}const eV=n=>{for(let e=n.target;e&&e!==document;e=e.parentNode)for(const t in Jp){const s=e.getAttribute(t);if(s){Jp[t].fire({template:s});return}}};class tV{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,t){const s=this._getHandlersByEventName(e);s.includes(t)||s.push(t)}once(e,t){var s=this;const o=function(){s.removeListener(e,o);for(var u=arguments.length,f=new Array(u),p=0;p<u;p++)f[p]=arguments[p];t.apply(s,f)};this.on(e,o)}emit(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),o=1;o<t;o++)s[o-1]=arguments[o];this._getHandlersByEventName(e).forEach(u=>{try{u.apply(this,s)}catch(f){console.error(f)}})}removeListener(e,t){const s=this._getHandlersByEventName(e),o=s.indexOf(t);o>-1&&s.splice(o,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}_e.eventEmitter=new tV;const nV=(n,e)=>{_e.eventEmitter.on(n,e)},iV=(n,e)=>{_e.eventEmitter.once(n,e)},rV=(n,e)=>{if(!n){_e.eventEmitter.reset();return}e?_e.eventEmitter.removeListener(n,e):_e.eventEmitter.removeAllListeners(n)};var sV=Object.freeze({__proto__:null,argsToParams:$P,bindClickHandler:JP,clickCancel:$M,clickConfirm:kA,clickDeny:GM,enableLoading:Qo,fire:KP,getActions:nc,getCancelButton:sl,getCloseButton:dy,getConfirmButton:Bi,getContainer:wn,getDenyButton:Pa,getFocusableElements:my,getFooter:EA,getHtmlContainer:hy,getIcon:rl,getIconContent:Zk,getImage:wA,getInputLabel:Jk,getLoader:al,getPopup:Xe,getProgressSteps:fy,getTimerLeft:YP,getTimerProgressBar:ed,getTitle:_A,getValidationMessage:Jf,increaseTimer:WP,isDeprecatedParameter:eS,isLoading:tM,isTimerRunning:ZP,isUpdatableParameter:JA,isValidParameter:ZA,isVisible:FM,mixin:QP,off:rV,on:nV,once:iV,resumeTimer:aS,showLoading:Qo,stopTimer:sS,toggleTimer:XP});class aV{constructor(e,t){this.callback=e,this.remaining=t,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const oS=["swal-title","swal-html","swal-footer"],oV=n=>{const e=typeof n.template=="string"?document.querySelector(n.template):n.template;if(!e)return{};const t=e.content;return pV(t),Object.assign(lV(t),uV(t),cV(t),hV(t),fV(t),dV(t),mV(t,oS))},lV=n=>{const e={};return Array.from(n.querySelectorAll("swal-param")).forEach(s=>{Da(s,["name","value"]);const o=s.getAttribute("name"),u=s.getAttribute("value");!o||!u||(typeof Lo[o]=="boolean"?e[o]=u!=="false":typeof Lo[o]=="object"?e[o]=JSON.parse(u):e[o]=u)}),e},uV=n=>{const e={};return Array.from(n.querySelectorAll("swal-function-param")).forEach(s=>{const o=s.getAttribute("name"),u=s.getAttribute("value");!o||!u||(e[o]=new Function(`return ${u}`)())}),e},cV=n=>{const e={};return Array.from(n.querySelectorAll("swal-button")).forEach(s=>{Da(s,["type","color","aria-label"]);const o=s.getAttribute("type");!o||!["confirm","cancel","deny"].includes(o)||(e[`${o}ButtonText`]=s.innerHTML,e[`show${ly(o)}Button`]=!0,s.hasAttribute("color")&&(e[`${o}ButtonColor`]=s.getAttribute("color")),s.hasAttribute("aria-label")&&(e[`${o}ButtonAriaLabel`]=s.getAttribute("aria-label")))}),e},hV=n=>{const e={},t=n.querySelector("swal-image");return t&&(Da(t,["src","width","height","alt"]),t.hasAttribute("src")&&(e.imageUrl=t.getAttribute("src")||void 0),t.hasAttribute("width")&&(e.imageWidth=t.getAttribute("width")||void 0),t.hasAttribute("height")&&(e.imageHeight=t.getAttribute("height")||void 0),t.hasAttribute("alt")&&(e.imageAlt=t.getAttribute("alt")||void 0)),e},fV=n=>{const e={},t=n.querySelector("swal-icon");return t&&(Da(t,["type","color"]),t.hasAttribute("type")&&(e.icon=t.getAttribute("type")),t.hasAttribute("color")&&(e.iconColor=t.getAttribute("color")),e.iconHtml=t.innerHTML),e},dV=n=>{const e={},t=n.querySelector("swal-input");t&&(Da(t,["type","label","placeholder","value"]),e.input=t.getAttribute("type")||"text",t.hasAttribute("label")&&(e.inputLabel=t.getAttribute("label")),t.hasAttribute("placeholder")&&(e.inputPlaceholder=t.getAttribute("placeholder")),t.hasAttribute("value")&&(e.inputValue=t.getAttribute("value")));const s=Array.from(n.querySelectorAll("swal-input-option"));return s.length&&(e.inputOptions={},s.forEach(o=>{Da(o,["value"]);const u=o.getAttribute("value");if(!u)return;const f=o.innerHTML;e.inputOptions[u]=f})),e},mV=(n,e)=>{const t={};for(const s in e){const o=e[s],u=n.querySelector(o);u&&(Da(u,[]),t[o.replace(/^swal-/,"")]=u.innerHTML.trim())}return t},pV=n=>{const e=oS.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(n.children).forEach(t=>{const s=t.tagName.toLowerCase();e.includes(s)||_n(`Unrecognized element <${s}>`)})},Da=(n,e)=>{Array.from(n.attributes).forEach(t=>{e.indexOf(t.name)===-1&&_n([`Unrecognized attribute "${t.name}" on <${n.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},lS=10,gV=n=>{const e=wn(),t=Xe();typeof n.willOpen=="function"&&n.willOpen(t),_e.eventEmitter.emit("willOpen",t);const o=window.getComputedStyle(document.body).overflowY;_V(e,t,n),setTimeout(()=>{yV(e,t)},lS),py()&&(vV(e,n.scrollbarPadding,o),eP()),!td()&&!_e.previousActiveElement&&(_e.previousActiveElement=document.activeElement),typeof n.didOpen=="function"&&setTimeout(()=>n.didOpen(t)),_e.eventEmitter.emit("didOpen",t),si(e,Y["no-transition"])},Tf=n=>{const e=Xe();if(n.target!==e)return;const t=wn();e.removeEventListener("animationend",Tf),e.removeEventListener("transitionend",Tf),t.style.overflowY="auto"},yV=(n,e)=>{AA(e)?(n.style.overflowY="hidden",e.addEventListener("animationend",Tf),e.addEventListener("transitionend",Tf)):n.style.overflowY="auto"},vV=(n,e,t)=>{tP(),e&&t!=="hidden"&&lP(t),setTimeout(()=>{n.scrollTop=0})},_V=(n,e,t)=>{Ge(n,t.showClass.backdrop),t.animation?(e.style.setProperty("opacity","0","important"),Yt(e,"grid"),setTimeout(()=>{Ge(e,t.showClass.popup),e.style.removeProperty("opacity")},lS)):Yt(e,"grid"),Ge([document.documentElement,document.body],Y.shown),t.heightAuto&&t.backdrop&&!t.toast&&Ge([document.documentElement,document.body],Y["height-auto"])};var SE={email:(n,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(n)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(n,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(n)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function wV(n){n.inputValidator||(n.input==="email"&&(n.inputValidator=SE.email),n.input==="url"&&(n.inputValidator=SE.url))}function EV(n){(!n.target||typeof n.target=="string"&&!document.querySelector(n.target)||typeof n.target!="string"&&!n.target.appendChild)&&(_n('Target parameter is not valid, defaulting to "body"'),n.target="body")}function bV(n){wV(n),n.showLoaderOnConfirm&&!n.preConfirm&&_n(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),EV(n),typeof n.title=="string"&&(n.title=n.title.split(`
`).join("<br />")),fM(n)}let ki;var Mh=new WeakMap;class At{constructor(){if(Fk(this,Mh,void 0),typeof window>"u")return;ki=this;for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];const o=Object.freeze(this.constructor.argsToParams(t));this.params=o,this.isAwaitingPromise=!1,Gk(Mh,this,this._main(ki.params))}_main(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(tS(Object.assign({},t,e)),_e.currentInstance){const u=Ko.swalPromiseResolve.get(_e.currentInstance),{isAwaitingPromise:f}=_e.currentInstance;_e.currentInstance._destroy(),f||u({isDismissed:!0}),py()&&VA()}_e.currentInstance=ki;const s=AV(e,t);bV(s),Object.freeze(s),_e.timeout&&(_e.timeout.stop(),delete _e.timeout),clearTimeout(_e.restoreFocusTimeout);const o=SV(ki);return NA(ki,s),st.innerParams.set(ki,s),TV(ki,o,s)}then(e){return mE(Mh,this).then(e)}finally(e){return mE(Mh,this).finally(e)}}const TV=(n,e,t)=>new Promise((s,o)=>{const u=f=>{n.close({isDismissed:!0,dismiss:f})};Ko.swalPromiseResolve.set(n,s),Ko.swalPromiseReject.set(n,o),e.confirmButton.onclick=()=>{SP(n)},e.denyButton.onclick=()=>{RP(n)},e.cancelButton.onclick=()=>{CP(n,u)},e.closeButton.onclick=()=>{u(ol.close)},BP(t,e,u),KM(_e,t,u),gP(n,t),gV(t),RV(_e,t,u),CV(e,t),setTimeout(()=>{e.container.scrollTop=0})}),AV=(n,e)=>{const t=oV(n),s=Object.assign({},Lo,e,t,n);return s.showClass=Object.assign({},Lo.showClass,s.showClass),s.hideClass=Object.assign({},Lo.hideClass,s.hideClass),s.animation===!1&&(s.showClass={backdrop:"swal2-noanimation"},s.hideClass={}),s},SV=n=>{const e={popup:Xe(),container:wn(),actions:nc(),confirmButton:Bi(),denyButton:Pa(),cancelButton:sl(),loader:al(),closeButton:dy(),validationMessage:Jf(),progressSteps:fy()};return st.domCache.set(n,e),e},RV=(n,e,t)=>{const s=ed();fn(s),e.timer&&(n.timeout=new aV(()=>{t("timer"),delete n.timeout},e.timer),e.timerProgressBar&&(Yt(s),Ln(s,e,"timerProgressBar"),setTimeout(()=>{n.timeout&&n.timeout.running&&yy(e.timer)})))},CV=(n,e)=>{if(!e.toast){if(!Zf(e.allowEnterKey)){vA("allowEnterKey"),xV();return}IV(n)||DV(n,e)||Zp(-1,1)}},IV=n=>{const e=Array.from(n.popup.querySelectorAll("[autofocus]"));for(const t of e)if(t instanceof HTMLElement&&Rn(t))return t.focus(),!0;return!1},DV=(n,e)=>e.focusDeny&&Rn(n.denyButton)?(n.denyButton.focus(),!0):e.focusCancel&&Rn(n.cancelButton)?(n.cancelButton.focus(),!0):e.focusConfirm&&Rn(n.confirmButton)?(n.confirmButton.focus(),!0):!1,xV=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const n=new Date,e=localStorage.getItem("swal-initiation");e?(n.getTime()-Date.parse(e))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const t=document.createElement("audio");t.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",t.loop=!0,document.body.appendChild(t),setTimeout(()=>{t.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${n}`)}At.prototype.disableButtons=KA;At.prototype.enableButtons=$A;At.prototype.getInput=qA;At.prototype.disableInput=YA;At.prototype.enableInput=QA;At.prototype.hideLoading=Ef;At.prototype.disableLoading=Ef;At.prototype.showValidationMessage=XA;At.prototype.resetValidationMessage=WA;At.prototype.close=ws;At.prototype.closePopup=ws;At.prototype.closeModal=ws;At.prototype.closeToast=ws;At.prototype.rejectPromise=BA;At.prototype.update=nS;At.prototype._destroy=iS;Object.assign(At,sV);Object.keys(UP).forEach(n=>{At[n]=function(){return ki&&ki[n]?ki[n](...arguments):null}});At.DismissReason=ol;At.version="11.17.2";const bt=At;bt.default=bt;typeof document<"u"&&function(n,e){var t=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}}(document,':root{--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-footer-border-color: #eee;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-input-background: transparent;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);color:inherit;font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:var(--swal2-border-radius);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:var(--swal2-input-background);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:var(--swal2-background);box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');var OV=Object.defineProperty,Af=Object.getOwnPropertySymbols,uS=Object.prototype.hasOwnProperty,cS=Object.prototype.propertyIsEnumerable,RE=(n,e,t)=>e in n?OV(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,eg=(n,e)=>{for(var t in e||(e={}))uS.call(e,t)&&RE(n,t,e[t]);if(Af)for(var t of Af(e))cS.call(e,t)&&RE(n,t,e[t]);return n},tg=(n,e)=>{var t={};for(var s in n)uS.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&Af)for(var s of Af(n))e.indexOf(s)<0&&cS.call(n,s)&&(t[s]=n[s]);return t};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var xa;(n=>{const e=class Ve{constructor(d,g,v,E){if(this.version=d,this.errorCorrectionLevel=g,this.modules=[],this.isFunction=[],d<Ve.MIN_VERSION||d>Ve.MAX_VERSION)throw new RangeError("Version value out of range");if(E<-1||E>7)throw new RangeError("Mask value out of range");this.size=d*4+17;let b=[];for(let x=0;x<this.size;x++)b.push(!1);for(let x=0;x<this.size;x++)this.modules.push(b.slice()),this.isFunction.push(b.slice());this.drawFunctionPatterns();const R=this.addEccAndInterleave(v);if(this.drawCodewords(R),E==-1){let x=1e9;for(let L=0;L<8;L++){this.applyMask(L),this.drawFormatBits(L);const M=this.getPenaltyScore();M<x&&(E=L,x=M),this.applyMask(L)}}o(0<=E&&E<=7),this.mask=E,this.applyMask(E),this.drawFormatBits(E),this.isFunction=[]}static encodeText(d,g){const v=n.QrSegment.makeSegments(d);return Ve.encodeSegments(v,g)}static encodeBinary(d,g){const v=n.QrSegment.makeBytes(d);return Ve.encodeSegments([v],g)}static encodeSegments(d,g,v=1,E=40,b=-1,R=!0){if(!(Ve.MIN_VERSION<=v&&v<=E&&E<=Ve.MAX_VERSION)||b<-1||b>7)throw new RangeError("Invalid value");let x,L;for(x=v;;x++){const $=Ve.getNumDataCodewords(x,g)*8,oe=f.getTotalBits(d,x);if(oe<=$){L=oe;break}if(x>=E)throw new RangeError("Data too long")}for(const $ of[Ve.Ecc.MEDIUM,Ve.Ecc.QUARTILE,Ve.Ecc.HIGH])R&&L<=Ve.getNumDataCodewords(x,$)*8&&(g=$);let M=[];for(const $ of d){t($.mode.modeBits,4,M),t($.numChars,$.mode.numCharCountBits(x),M);for(const oe of $.getData())M.push(oe)}o(M.length==L);const K=Ve.getNumDataCodewords(x,g)*8;o(M.length<=K),t(0,Math.min(4,K-M.length),M),t(0,(8-M.length%8)%8,M),o(M.length%8==0);for(let $=236;M.length<K;$^=253)t($,8,M);let Z=[];for(;Z.length*8<M.length;)Z.push(0);return M.forEach(($,oe)=>Z[oe>>>3]|=$<<7-(oe&7)),new Ve(x,g,Z,b)}getModule(d,g){return 0<=d&&d<this.size&&0<=g&&g<this.size&&this.modules[g][d]}getModules(){return this.modules}drawFunctionPatterns(){for(let v=0;v<this.size;v++)this.setFunctionModule(6,v,v%2==0),this.setFunctionModule(v,6,v%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const d=this.getAlignmentPatternPositions(),g=d.length;for(let v=0;v<g;v++)for(let E=0;E<g;E++)v==0&&E==0||v==0&&E==g-1||v==g-1&&E==0||this.drawAlignmentPattern(d[v],d[E]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(d){const g=this.errorCorrectionLevel.formatBits<<3|d;let v=g;for(let b=0;b<10;b++)v=v<<1^(v>>>9)*1335;const E=(g<<10|v)^21522;o(E>>>15==0);for(let b=0;b<=5;b++)this.setFunctionModule(8,b,s(E,b));this.setFunctionModule(8,7,s(E,6)),this.setFunctionModule(8,8,s(E,7)),this.setFunctionModule(7,8,s(E,8));for(let b=9;b<15;b++)this.setFunctionModule(14-b,8,s(E,b));for(let b=0;b<8;b++)this.setFunctionModule(this.size-1-b,8,s(E,b));for(let b=8;b<15;b++)this.setFunctionModule(8,this.size-15+b,s(E,b));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let d=this.version;for(let v=0;v<12;v++)d=d<<1^(d>>>11)*7973;const g=this.version<<12|d;o(g>>>18==0);for(let v=0;v<18;v++){const E=s(g,v),b=this.size-11+v%3,R=Math.floor(v/3);this.setFunctionModule(b,R,E),this.setFunctionModule(R,b,E)}}drawFinderPattern(d,g){for(let v=-4;v<=4;v++)for(let E=-4;E<=4;E++){const b=Math.max(Math.abs(E),Math.abs(v)),R=d+E,x=g+v;0<=R&&R<this.size&&0<=x&&x<this.size&&this.setFunctionModule(R,x,b!=2&&b!=4)}}drawAlignmentPattern(d,g){for(let v=-2;v<=2;v++)for(let E=-2;E<=2;E++)this.setFunctionModule(d+E,g+v,Math.max(Math.abs(E),Math.abs(v))!=1)}setFunctionModule(d,g,v){this.modules[g][d]=v,this.isFunction[g][d]=!0}addEccAndInterleave(d){const g=this.version,v=this.errorCorrectionLevel;if(d.length!=Ve.getNumDataCodewords(g,v))throw new RangeError("Invalid argument");const E=Ve.NUM_ERROR_CORRECTION_BLOCKS[v.ordinal][g],b=Ve.ECC_CODEWORDS_PER_BLOCK[v.ordinal][g],R=Math.floor(Ve.getNumRawDataModules(g)/8),x=E-R%E,L=Math.floor(R/E);let M=[];const K=Ve.reedSolomonComputeDivisor(b);for(let $=0,oe=0;$<E;$++){let ae=d.slice(oe,oe+L-b+($<x?0:1));oe+=ae.length;const we=Ve.reedSolomonComputeRemainder(ae,K);$<x&&ae.push(0),M.push(ae.concat(we))}let Z=[];for(let $=0;$<M[0].length;$++)M.forEach((oe,ae)=>{($!=L-b||ae>=x)&&Z.push(oe[$])});return o(Z.length==R),Z}drawCodewords(d){if(d.length!=Math.floor(Ve.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let g=0;for(let v=this.size-1;v>=1;v-=2){v==6&&(v=5);for(let E=0;E<this.size;E++)for(let b=0;b<2;b++){const R=v-b,L=(v+1&2)==0?this.size-1-E:E;!this.isFunction[L][R]&&g<d.length*8&&(this.modules[L][R]=s(d[g>>>3],7-(g&7)),g++)}}o(g==d.length*8)}applyMask(d){if(d<0||d>7)throw new RangeError("Mask value out of range");for(let g=0;g<this.size;g++)for(let v=0;v<this.size;v++){let E;switch(d){case 0:E=(v+g)%2==0;break;case 1:E=g%2==0;break;case 2:E=v%3==0;break;case 3:E=(v+g)%3==0;break;case 4:E=(Math.floor(v/3)+Math.floor(g/2))%2==0;break;case 5:E=v*g%2+v*g%3==0;break;case 6:E=(v*g%2+v*g%3)%2==0;break;case 7:E=((v+g)%2+v*g%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[g][v]&&E&&(this.modules[g][v]=!this.modules[g][v])}}getPenaltyScore(){let d=0;for(let b=0;b<this.size;b++){let R=!1,x=0,L=[0,0,0,0,0,0,0];for(let M=0;M<this.size;M++)this.modules[b][M]==R?(x++,x==5?d+=Ve.PENALTY_N1:x>5&&d++):(this.finderPenaltyAddHistory(x,L),R||(d+=this.finderPenaltyCountPatterns(L)*Ve.PENALTY_N3),R=this.modules[b][M],x=1);d+=this.finderPenaltyTerminateAndCount(R,x,L)*Ve.PENALTY_N3}for(let b=0;b<this.size;b++){let R=!1,x=0,L=[0,0,0,0,0,0,0];for(let M=0;M<this.size;M++)this.modules[M][b]==R?(x++,x==5?d+=Ve.PENALTY_N1:x>5&&d++):(this.finderPenaltyAddHistory(x,L),R||(d+=this.finderPenaltyCountPatterns(L)*Ve.PENALTY_N3),R=this.modules[M][b],x=1);d+=this.finderPenaltyTerminateAndCount(R,x,L)*Ve.PENALTY_N3}for(let b=0;b<this.size-1;b++)for(let R=0;R<this.size-1;R++){const x=this.modules[b][R];x==this.modules[b][R+1]&&x==this.modules[b+1][R]&&x==this.modules[b+1][R+1]&&(d+=Ve.PENALTY_N2)}let g=0;for(const b of this.modules)g=b.reduce((R,x)=>R+(x?1:0),g);const v=this.size*this.size,E=Math.ceil(Math.abs(g*20-v*10)/v)-1;return o(0<=E&&E<=9),d+=E*Ve.PENALTY_N4,o(0<=d&&d<=2568888),d}getAlignmentPatternPositions(){if(this.version==1)return[];{const d=Math.floor(this.version/7)+2,g=this.version==32?26:Math.ceil((this.version*4+4)/(d*2-2))*2;let v=[6];for(let E=this.size-7;v.length<d;E-=g)v.splice(1,0,E);return v}}static getNumRawDataModules(d){if(d<Ve.MIN_VERSION||d>Ve.MAX_VERSION)throw new RangeError("Version number out of range");let g=(16*d+128)*d+64;if(d>=2){const v=Math.floor(d/7)+2;g-=(25*v-10)*v-55,d>=7&&(g-=36)}return o(208<=g&&g<=29648),g}static getNumDataCodewords(d,g){return Math.floor(Ve.getNumRawDataModules(d)/8)-Ve.ECC_CODEWORDS_PER_BLOCK[g.ordinal][d]*Ve.NUM_ERROR_CORRECTION_BLOCKS[g.ordinal][d]}static reedSolomonComputeDivisor(d){if(d<1||d>255)throw new RangeError("Degree out of range");let g=[];for(let E=0;E<d-1;E++)g.push(0);g.push(1);let v=1;for(let E=0;E<d;E++){for(let b=0;b<g.length;b++)g[b]=Ve.reedSolomonMultiply(g[b],v),b+1<g.length&&(g[b]^=g[b+1]);v=Ve.reedSolomonMultiply(v,2)}return g}static reedSolomonComputeRemainder(d,g){let v=g.map(E=>0);for(const E of d){const b=E^v.shift();v.push(0),g.forEach((R,x)=>v[x]^=Ve.reedSolomonMultiply(R,b))}return v}static reedSolomonMultiply(d,g){if(d>>>8||g>>>8)throw new RangeError("Byte out of range");let v=0;for(let E=7;E>=0;E--)v=v<<1^(v>>>7)*285,v^=(g>>>E&1)*d;return o(v>>>8==0),v}finderPenaltyCountPatterns(d){const g=d[1];o(g<=this.size*3);const v=g>0&&d[2]==g&&d[3]==g*3&&d[4]==g&&d[5]==g;return(v&&d[0]>=g*4&&d[6]>=g?1:0)+(v&&d[6]>=g*4&&d[0]>=g?1:0)}finderPenaltyTerminateAndCount(d,g,v){return d&&(this.finderPenaltyAddHistory(g,v),g=0),g+=this.size,this.finderPenaltyAddHistory(g,v),this.finderPenaltyCountPatterns(v)}finderPenaltyAddHistory(d,g){g[0]==0&&(d+=this.size),g.pop(),g.unshift(d)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],n.QrCode=e;function t(p,d,g){if(d<0||d>31||p>>>d)throw new RangeError("Value out of range");for(let v=d-1;v>=0;v--)g.push(p>>>v&1)}function s(p,d){return(p>>>d&1)!=0}function o(p){if(!p)throw new Error("Assertion error")}const u=class yt{constructor(d,g,v){if(this.mode=d,this.numChars=g,this.bitData=v,g<0)throw new RangeError("Invalid argument");this.bitData=v.slice()}static makeBytes(d){let g=[];for(const v of d)t(v,8,g);return new yt(yt.Mode.BYTE,d.length,g)}static makeNumeric(d){if(!yt.isNumeric(d))throw new RangeError("String contains non-numeric characters");let g=[];for(let v=0;v<d.length;){const E=Math.min(d.length-v,3);t(parseInt(d.substring(v,v+E),10),E*3+1,g),v+=E}return new yt(yt.Mode.NUMERIC,d.length,g)}static makeAlphanumeric(d){if(!yt.isAlphanumeric(d))throw new RangeError("String contains unencodable characters in alphanumeric mode");let g=[],v;for(v=0;v+2<=d.length;v+=2){let E=yt.ALPHANUMERIC_CHARSET.indexOf(d.charAt(v))*45;E+=yt.ALPHANUMERIC_CHARSET.indexOf(d.charAt(v+1)),t(E,11,g)}return v<d.length&&t(yt.ALPHANUMERIC_CHARSET.indexOf(d.charAt(v)),6,g),new yt(yt.Mode.ALPHANUMERIC,d.length,g)}static makeSegments(d){return d==""?[]:yt.isNumeric(d)?[yt.makeNumeric(d)]:yt.isAlphanumeric(d)?[yt.makeAlphanumeric(d)]:[yt.makeBytes(yt.toUtf8ByteArray(d))]}static makeEci(d){let g=[];if(d<0)throw new RangeError("ECI assignment value out of range");if(d<128)t(d,8,g);else if(d<16384)t(2,2,g),t(d,14,g);else if(d<1e6)t(6,3,g),t(d,21,g);else throw new RangeError("ECI assignment value out of range");return new yt(yt.Mode.ECI,0,g)}static isNumeric(d){return yt.NUMERIC_REGEX.test(d)}static isAlphanumeric(d){return yt.ALPHANUMERIC_REGEX.test(d)}getData(){return this.bitData.slice()}static getTotalBits(d,g){let v=0;for(const E of d){const b=E.mode.numCharCountBits(g);if(E.numChars>=1<<b)return 1/0;v+=4+b+E.bitData.length}return v}static toUtf8ByteArray(d){d=encodeURI(d);let g=[];for(let v=0;v<d.length;v++)d.charAt(v)!="%"?g.push(d.charCodeAt(v)):(g.push(parseInt(d.substring(v+1,v+3),16)),v+=2);return g}};u.NUMERIC_REGEX=/^[0-9]*$/,u.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,u.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let f=u;n.QrSegment=u})(xa||(xa={}));(n=>{(e=>{const t=class{constructor(o,u){this.ordinal=o,this.formatBits=u}};t.LOW=new t(0,1),t.MEDIUM=new t(1,0),t.QUARTILE=new t(2,3),t.HIGH=new t(3,2),e.Ecc=t})(n.QrCode||(n.QrCode={}))})(xa||(xa={}));(n=>{(e=>{const t=class{constructor(o,u){this.modeBits=o,this.numBitsCharCount=u}numCharCountBits(o){return this.numBitsCharCount[Math.floor((o+7)/17)]}};t.NUMERIC=new t(1,[10,12,14]),t.ALPHANUMERIC=new t(2,[9,11,13]),t.BYTE=new t(4,[8,16,16]),t.KANJI=new t(8,[8,10,12]),t.ECI=new t(7,[0,0,0]),e.Mode=t})(n.QrSegment||(n.QrSegment={}))})(xa||(xa={}));var Oo=xa;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var NV={L:Oo.QrCode.Ecc.LOW,M:Oo.QrCode.Ecc.MEDIUM,Q:Oo.QrCode.Ecc.QUARTILE,H:Oo.QrCode.Ecc.HIGH},hS=128,fS="L",dS="#FFFFFF",mS="#000000",pS=!1,gS=1,kV=4,MV=0,PV=.1;function yS(n,e=0){const t=[];return n.forEach(function(s,o){let u=null;s.forEach(function(f,p){if(!f&&u!==null){t.push(`M${u+e} ${o+e}h${p-u}v1H${u+e}z`),u=null;return}if(p===s.length-1){if(!f)return;u===null?t.push(`M${p+e},${o+e} h1v1H${p+e}z`):t.push(`M${u+e},${o+e} h${p+1-u}v1H${u+e}z`);return}f&&u===null&&(u=p)})}),t.join("")}function vS(n,e){return n.slice().map((t,s)=>s<e.y||s>=e.y+e.h?t:t.map((o,u)=>u<e.x||u>=e.x+e.w?o:!1))}function VV(n,e,t,s){if(s==null)return null;const o=n.length+t*2,u=Math.floor(e*PV),f=o/e,p=(s.width||u)*f,d=(s.height||u)*f,g=s.x==null?n.length/2-p/2:s.x*f,v=s.y==null?n.length/2-d/2:s.y*f,E=s.opacity==null?1:s.opacity;let b=null;if(s.excavate){let x=Math.floor(g),L=Math.floor(v),M=Math.ceil(p+g-x),K=Math.ceil(d+v-L);b={x,y:L,w:M,h:K}}const R=s.crossOrigin;return{x:g,y:v,h:d,w:p,excavation:b,opacity:E,crossOrigin:R}}function LV(n,e){return e!=null?Math.max(Math.floor(e),0):n?kV:MV}function _S({value:n,level:e,minVersion:t,includeMargin:s,marginSize:o,imageSettings:u,size:f,boostLevel:p}){let d=Lt.useMemo(()=>{const x=(Array.isArray(n)?n:[n]).reduce((L,M)=>(L.push(...Oo.QrSegment.makeSegments(M)),L),[]);return Oo.QrCode.encodeSegments(x,NV[e],t,void 0,void 0,p)},[n,e,t,p]);const{cells:g,margin:v,numCells:E,calculatedImageSettings:b}=Lt.useMemo(()=>{let R=d.getModules();const x=LV(s,o),L=R.length+x*2,M=VV(R,f,x,u);return{cells:R,margin:x,numCells:L,calculatedImageSettings:M}},[d,f,u,s,o]);return{qrcode:d,margin:v,cells:g,numCells:E,calculatedImageSettings:b}}var UV=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),wS=Lt.forwardRef(function(e,t){const s=e,{value:o,size:u=hS,level:f=fS,bgColor:p=dS,fgColor:d=mS,includeMargin:g=pS,minVersion:v=gS,boostLevel:E,marginSize:b,imageSettings:R}=s,L=tg(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:M}=L,K=tg(L,["style"]),Z=R==null?void 0:R.src,$=Lt.useRef(null),oe=Lt.useRef(null),ae=Lt.useCallback(De=>{$.current=De,typeof t=="function"?t(De):t&&(t.current=De)},[t]),[we,U]=Lt.useState(!1),{margin:C,cells:S,numCells:O,calculatedImageSettings:V}=_S({value:o,level:f,minVersion:v,boostLevel:E,includeMargin:g,marginSize:b,imageSettings:R,size:u});Lt.useEffect(()=>{if($.current!=null){const De=$.current,Me=De.getContext("2d");if(!Me)return;let re=S;const ge=oe.current,me=V!=null&&ge!==null&&ge.complete&&ge.naturalHeight!==0&&ge.naturalWidth!==0;me&&V.excavation!=null&&(re=vS(S,V.excavation));const Ne=window.devicePixelRatio||1;De.height=De.width=u*Ne;const P=u/O*Ne;Me.scale(P,P),Me.fillStyle=p,Me.fillRect(0,0,O,O),Me.fillStyle=d,UV?Me.fill(new Path2D(yS(re,C))):S.forEach(function(ie,de){ie.forEach(function(ue,le){ue&&Me.fillRect(le+C,de+C,1,1)})}),V&&(Me.globalAlpha=V.opacity),me&&Me.drawImage(ge,V.x+C,V.y+C,V.w,V.h)}}),Lt.useEffect(()=>{U(!1)},[Z]);const k=eg({height:u,width:u},M);let I=null;return Z!=null&&(I=Lt.createElement("img",{src:Z,key:Z,style:{display:"none"},onLoad:()=>{U(!0)},ref:oe,crossOrigin:V==null?void 0:V.crossOrigin})),Lt.createElement(Lt.Fragment,null,Lt.createElement("canvas",eg({style:k,height:u,width:u,ref:ae,role:"img"},K)),I)});wS.displayName="QRCodeCanvas";var BV=Lt.forwardRef(function(e,t){const s=e,{value:o,size:u=hS,level:f=fS,bgColor:p=dS,fgColor:d=mS,includeMargin:g=pS,minVersion:v=gS,boostLevel:E,title:b,marginSize:R,imageSettings:x}=s,L=tg(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:M,cells:K,numCells:Z,calculatedImageSettings:$}=_S({value:o,level:f,minVersion:v,boostLevel:E,includeMargin:g,marginSize:R,imageSettings:x,size:u});let oe=K,ae=null;x!=null&&$!=null&&($.excavation!=null&&(oe=vS(K,$.excavation)),ae=Lt.createElement("image",{href:x.src,height:$.h,width:$.w,x:$.x+M,y:$.y+M,preserveAspectRatio:"none",opacity:$.opacity,crossOrigin:$.crossOrigin}));const we=yS(oe,M);return Lt.createElement("svg",eg({height:u,width:u,viewBox:`0 0 ${Z} ${Z}`,ref:t,role:"img"},L),!!b&&Lt.createElement("title",null,b),Lt.createElement("path",{fill:p,d:`M0,0 h${Z}v${Z}H0z`,shapeRendering:"crispEdges"}),Lt.createElement("path",{fill:d,d:we,shapeRendering:"crispEdges"}),ae)});BV.displayName="QRCodeSVG";const jV=({cid:n,selectedCheckin:e,onClose:t})=>{const[s,o]=F.useState(""),[u,f]=F.useState(""),[p,d]=F.useState([]),[g,v]=F.useState([]),[E,b]=F.useState(e);F.useEffect(()=>{(async()=>{const M=iy(Mi(Et,"classroom",n,"checkin"),lA("date","desc")),Z=(await ys(M)).docs.map($=>({cno:$.id,...$.data()}));v(Z),!E&&Z.length>0&&b(Z[0].cno)})()},[n]),F.useEffect(()=>{if(E&&s){const L=Mi(Et,`classroom/${n}/checkin/${E}/answers/${s}/students`),M=Mk(L,K=>{const Z=K.docs.map($=>({stdid:$.id,...$.data()}));d(Z)});return()=>M()}},[n,E,s]);const R=async()=>{if(!E){bt.fire("แจ้งเตือน","กรุณาเลือกการเช็คชื่อก่อนตั้งคำถาม","warning");return}if(!s||!u){bt.fire("แจ้งเตือน","กรุณากรอกหมายเลขคำถามและข้อความคำถาม","warning");return}try{const L=ii(Et,"classroom",n,"checkin",E);await Wp(L,{question_no:s,question_text:u,question_show:!0}),bt.fire("สำเร็จ","เริ่มการถามคำถามเรียบร้อยแล้ว","success")}catch{bt.fire("เกิดข้อผิดพลาด","ไม่สามารถตั้งคำถามได้","error")}},x=async()=>{if(!E){bt.fire("แจ้งเตือน","กรุณาเลือกการเช็คชื่อก่อนปิดคำถาม","warning");return}try{const L=ii(Et,"classroom",n,"checkin",E);await Wp(L,{question_show:!1}),d([]),bt.fire("สำเร็จ","ปิดคำถามเรียบร้อยแล้ว","success")}catch{bt.fire("เกิดข้อผิดพลาด","ไม่สามารถปิดคำถามได้","error")}};return N.jsxs("div",{className:"qa-panel",children:[N.jsx("h3",{children:"ตั้งคำถามในห้องเรียน"}),N.jsxs("div",{children:[N.jsx("label",{children:"เลือกการเช็คชื่อ: "}),N.jsxs("select",{value:E||"",onChange:L=>b(L.target.value),children:[N.jsx("option",{value:"",children:"-- เลือกการเช็คชื่อ --"}),g.map(L=>N.jsxs("option",{value:L.cno,children:[L.code," (",new Date(L.date.toDate()).toLocaleString(),")"]},L.cno))]})]}),N.jsxs("div",{children:[N.jsx("label",{children:"หมายเลขคำถาม: "}),N.jsx("input",{type:"text",value:s,onChange:L=>o(L.target.value),placeholder:"เช่น 1, 2, 3"})]}),N.jsxs("div",{children:[N.jsx("label",{children:"ข้อความคำถาม: "}),N.jsx("textarea",{value:u,onChange:L=>f(L.target.value),placeholder:"พิมพ์คำถามที่นี่"})]}),N.jsx("button",{onClick:R,className:"btn-primary",children:"เริ่มถาม"}),N.jsx("button",{onClick:x,className:"btn-secondary",children:"ปิดคำถาม"}),N.jsx("button",{onClick:t,className:"btn-secondary",children:"ออก"}),p.length>0&&N.jsxs("div",{className:"answers-section",children:[N.jsx("h4",{children:"คำตอบจากนักเรียน"}),N.jsxs("table",{children:[N.jsx("thead",{children:N.jsxs("tr",{children:[N.jsx("th",{children:"ลำดับ"}),N.jsx("th",{children:"รหัสนักศึกษา"}),N.jsx("th",{children:"คำตอบ"}),N.jsx("th",{children:"เวลาที่ส่ง"})]})}),N.jsx("tbody",{children:p.map((L,M)=>N.jsxs("tr",{children:[N.jsx("td",{children:M+1}),N.jsx("td",{children:L.stdid}),N.jsx("td",{children:L.text}),N.jsx("td",{children:L.time?new Date(L.time.toDate()).toLocaleString():"ไม่ระบุ"})]},L.stdid))})]})]})]})},zV=({cid:n,cno:e,onClose:t})=>{const[s,o]=F.useState([]),[u,f]=F.useState(!0);return F.useEffect(()=>{(async()=>{f(!0);try{console.log("🟢 กำลังโหลดข้อมูลสำหรับ cid:",n,"cno:",e);const d=Mi(Et,`classroom/${n}/checkin/${e}/answers/1/students`);let v=(await ys(d)).docs.map(b=>({stdid:b.id,...b.data()}));console.log("✅ คำตอบที่โหลด:",v);const E=await Promise.all(v.map(async b=>{const R=await mf(ii(Et,`classroom/${n}/students`,b.stdid));return{...b,name:R.exists()?R.data().name:"ไม่ทราบชื่อ"}}));o(E)}catch(d){console.error("❌ เกิดข้อผิดพลาดในการโหลดคำตอบ:",d),bt.fire("เกิดข้อผิดพลาด","ไม่สามารถโหลดคำตอบได้","error")}finally{f(!1)}})()},[n,e]),N.jsxs("div",{className:"answer-panel",children:[N.jsxs("h3",{children:["คำตอบของนักเรียน (รหัสเช็คชื่อ: ",e,")"]}),u?N.jsx("p",{children:"กำลังโหลดคำตอบ..."}):N.jsx(N.Fragment,{children:s.length>0?N.jsxs("table",{children:[N.jsx("thead",{children:N.jsxs("tr",{children:[N.jsx("th",{children:"ลำดับ"}),N.jsx("th",{children:"ชื่อนักศึกษา"})," ",N.jsx("th",{children:"คำตอบ"}),N.jsx("th",{children:"เวลาที่ส่ง"})]})}),N.jsx("tbody",{children:s.map((p,d)=>N.jsxs("tr",{children:[N.jsx("td",{children:d+1}),N.jsx("td",{children:p.name})," ",N.jsx("td",{children:p.text||"ไม่มีคำตอบ"}),N.jsx("td",{children:p.time&&p.time.toDate?new Date(p.time.toDate()).toLocaleString():"ไม่ระบุ"})]},p.stdid))})]}):N.jsx("p",{children:"ยังไม่มีคำตอบสำหรับการเช็คชื่อนี้"})}),N.jsx("button",{onClick:t,className:"btn-secondary",children:"ออก"})]})},HV=()=>{var V;const{cid:n}=O1(),e=Oa(),[t]=bR(),[s,o]=F.useState(null),[u,f]=F.useState([]),[p,d]=F.useState([]),[g,v]=F.useState([]),[E,b]=F.useState(null),[R,x]=F.useState(null),[L,M]=F.useState(!0),[K,Z]=F.useState(!1),[$,oe]=F.useState(!1);F.useEffect(()=>{const k=wg(Cr,I=>{I?(ae(),we(I)):bt.fire("แจ้งเตือน","กรุณาเข้าสู่ระบบก่อน","warning").then(()=>{e("/")})});return()=>k()},[n]);const ae=async()=>{M(!0);try{const k=ii(Et,"classroom",n,"info","infoDoc"),I=await mf(k);I.exists()&&o(I.data());const De=Mi(Et,`classroom/${n}/students`),Me=await ys(De);f(Me.docs.map(Ne=>Ne.data()));const re=iy(Mi(Et,"classroom",n,"checkin"),lA("date","desc")),ge=await ys(re),me=await Promise.all(ge.docs.map(async Ne=>{const P=Ne.id,ie={cno:P,...Ne.data()},de=Mi(Et,`classroom/${n}/checkin/${P}/students`),le=(await ys(de)).size;return{...ie,count:le}}));d(me)}catch{bt.fire("เกิดข้อผิดพลาด","ไม่สามารถโหลดข้อมูลได้","error")}finally{M(!1)}},we=async k=>{if(t.get("join")==="true")try{const De=ii(Et,`classroom/${n}/students`,k.uid);(await mf(De)).exists()?bt.fire("แจ้งเตือน","คุณอยู่ในห้องเรียนนี้แล้ว","info"):(await Iu(De,{name:k.displayName||"ไม่ทราบชื่อ",stdid:k.uid,status:1}),await Iu(ii(Et,`users/${k.uid}/classroom`,n),{status:2}),bt.fire("สำเร็จ!","คุณเข้าร่วมห้องเรียนเรียบร้อยแล้ว","success")),e(`/classroom/${n}`)}catch{bt.fire("เกิดข้อผิดพลาด","ไม่สามารถเข้าห้องเรียนได้","error")}},U=async()=>{try{const k=Mi(Et,"classroom",n,"checkin"),De=(await ys(k)).docs.length+1,Me=Math.random().toString(36).substring(2,8).toUpperCase(),re=ii(Et,"classroom",n,"checkin",De.toString());await Iu(re,{code:Me,date:Pk(),status:1,count:0}),bt.fire("สำเร็จ","สร้างการเช็คชื่อใหม่เรียบร้อยแล้ว","success"),ae()}catch{bt.fire("เกิดข้อผิดพลาด","ไม่สามารถสร้างการเช็คชื่อใหม่ได้","error")}},C=async(k,I)=>{try{const De=I===1?2:1;await Wp(ii(Et,"classroom",n,"checkin",k),{status:De}),bt.fire("สำเร็จ",`เช็คชื่อถูก ${De===1?"เปิด":"ปิด"} แล้ว`,"success"),ae()}catch{bt.fire("เกิดข้อผิดพลาด","ไม่สามารถเปลี่ยนสถานะเช็คชื่อได้","error")}},S=async k=>{try{const I=Mi(Et,`classroom/${n}/checkin/${k}/students`),Me=(await ys(I)).docs.map(re=>({id:re.id,...re.data()}));v(Me),b(k)}catch{bt.fire("เกิดข้อผิดพลาด","ไม่สามารถโหลดรายชื่อได้","error")}},O=k=>{x(k),oe(!0)};return N.jsx("div",{className:"manage-classroom-container max-w-5xl mx-auto",children:L?N.jsx("p",{children:"กำลังโหลดข้อมูล..."}):N.jsxs(N.Fragment,{children:[s&&N.jsx("div",{className:"course-details shadow-xl p-4 md:p-8 rounded-3xl",children:N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 md:gap-6",children:[N.jsxs("div",{children:[N.jsxs("div",{children:[N.jsx("div",{className:"text-xl md:text-3xl font-bold mb-1",children:s.name}),N.jsxs("div",{className:"text-md md:text-xl md:mb-4",children:["รหัสวิชา: ",s.code]})]}),N.jsxs("div",{className:"qrcode-container",children:[N.jsx("h3",{children:"QR Code สำหรับเข้าห้องเรียน"}),N.jsx(wS,{value:`${window.location.origin}/classroom/${n}?join=true`,size:128})]})]}),N.jsx("div",{className:"overflow-hidden rounded-2xl mt-4 md:mt-0 max-w-md",children:N.jsx("img",{src:s.photo,alt:s.name,className:"course-bg w-full min-w-sm"})})]})}),N.jsx("button",{onClick:U,className:"btn-primary mb-5 mt-10 mr-4",children:"+ เพิ่มการเช็คชื่อใหม่"}),N.jsx("button",{onClick:()=>Z(!0),className:"btn-primary",children:"ถาม-ตอบ"}),N.jsx("div",{className:"text-md md:text-xl mt-6",children:"รายชื่อนักเรียนที่ลงทะเบียน"}),N.jsxs("table",{className:"students-table mt-2 w-full",children:[N.jsx("thead",{children:N.jsxs("tr",{children:[N.jsx("th",{children:"ลำดับ"}),N.jsx("th",{children:"รหัส"}),N.jsx("th",{children:"ชื่อ"}),N.jsx("th",{children:"รูปภาพ"}),N.jsx("th",{children:"สถานะ"})]})}),N.jsx("tbody",{children:u.length>0?u.map((k,I)=>N.jsxs("tr",{children:[N.jsx("td",{children:I+1}),N.jsx("td",{children:k.stdid||k.id}),N.jsx("td",{children:k.name}),N.jsx("td",{children:k.photo?N.jsx("img",{src:k.photo,alt:k.name,width:"50"}):"ไม่มี"}),N.jsx("td",{children:k.status})]},k.id)):N.jsx("tr",{children:N.jsx("td",{colSpan:"5",children:"ยังไม่มีนักเรียนลงทะเบียน"})})})]}),N.jsxs("table",{className:"students-table mt-2 w-full",children:[N.jsx("thead",{children:N.jsxs("tr",{children:[N.jsx("th",{children:"ลำดับ"}),N.jsx("th",{children:"วัน-เวลา"}),N.jsx("th",{children:"รหัสเช็คชื่อ"}),N.jsx("th",{children:"จำนวนเข้าเรียน"}),N.jsx("th",{children:"สถานะ"}),N.jsx("th",{children:"เปลี่ยนสถานะ"}),N.jsx("th",{children:"ดูรายชื่อ"}),N.jsx("th",{children:"ดูคำตอบ"})]})}),N.jsx("tbody",{children:p.map((k,I)=>N.jsxs("tr",{children:[N.jsx("td",{children:I+1}),N.jsx("td",{children:new Date(k.date.toDate()).toLocaleString()}),N.jsx("td",{children:k.code}),N.jsx("td",{children:k.count||0}),N.jsx("td",{children:k.status===1?"กำลังเช็คชื่อ":"ปิดเช็คชื่อ"}),N.jsx("td",{children:N.jsx("button",{onClick:()=>C(k.cno,k.status),children:k.status===1?"ปิด":"เปิด"})}),N.jsx("td",{children:N.jsx("button",{onClick:()=>S(k.cno),children:"ดูรายชื่อ"})}),N.jsx("td",{children:N.jsx("button",{onClick:()=>O(k.cno),children:"ดูคำตอบ"})})]},k.cno))})]}),E&&N.jsxs("div",{className:"checked-in-students mt-4",children:[N.jsxs("div",{className:"text-md md:text-xl",children:["รายชื่อนักเรียนที่เช็คชื่อแล้ว (รหัสเช็คชื่อ: ",(V=p.find(k=>k.cno===E))==null?void 0:V.code,")"]}),g.length>0?N.jsxs("table",{className:"students-table mt-2 w-full",children:[N.jsx("thead",{children:N.jsxs("tr",{children:[N.jsx("th",{children:"ลำดับ"}),N.jsx("th",{children:"ชื่อ"}),N.jsx("th",{children:"รหัสนักศึกษา"}),N.jsx("th",{children:"วันที่และเวลาเช็คชื่อ"})]})}),N.jsx("tbody",{children:g.map((k,I)=>N.jsxs("tr",{children:[N.jsx("td",{children:I+1}),N.jsx("td",{children:k.name}),N.jsx("td",{children:k.stdid}),N.jsx("td",{children:k.date?new Date(k.date).toLocaleString():"ไม่พบข้อมูลเวลา"})]},k.id))})]}):N.jsx("p",{children:"ยังไม่มีนักเรียนเช็คชื่อสำหรับรหัสนี้"})]}),K&&N.jsx(jV,{cid:n,selectedCheckin:E,onClose:()=>Z(!1)}),$&&N.jsx(zV,{cid:n,cno:R,onClose:()=>oe(!1)})]})})};function qV(){return N.jsx(yR,{children:N.jsxs($1,{children:[N.jsx(_a,{path:"/SC310006_Sec1_Group6/",element:N.jsx(Uk,{})}),N.jsx(_a,{path:"/SC310006_Sec1_Group6/signup",element:N.jsx(Bk,{})}),N.jsx(_a,{path:"/SC310006_Sec1_Group6/dashboard",element:N.jsx(jk,{})}),N.jsx(_a,{path:"/SC310006_Sec1_Group6/profile",element:N.jsx(zk,{})}),N.jsx(_a,{path:"/SC310006_Sec1_Group6/classroom/:cid",element:N.jsx(HV,{})}),N.jsx(_a,{path:"/SC310006_Sec1_Group6/add-classroom",element:N.jsx(Hk,{})})]})})}t1.createRoot(document.getElementById("root")).render(N.jsx(F.StrictMode,{children:N.jsx(qV,{})}));
