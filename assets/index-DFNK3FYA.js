(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function B2(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Wm={exports:{}},fu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gw;function z2(){if(gw)return fu;gw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:n,type:s,key:f,ref:o!==void 0?o:null,props:u}}return fu.Fragment=e,fu.jsx=t,fu.jsxs=t,fu}var yw;function j2(){return yw||(yw=1,Wm.exports=z2()),Wm.exports}var H=j2(),Zm={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vw;function H2(){if(vw)return Ie;vw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function b(M){return M===null||typeof M!="object"?null:(M=E&&M[E]||M["@@iterator"],typeof M=="function"?M:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,U={};function P(M,re,me){this.props=M,this.context=re,this.refs=U,this.updater=me||C}P.prototype.isReactComponent={},P.prototype.setState=function(M,re){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,re,"setState")},P.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function Y(){}Y.prototype=P.prototype;function ne(M,re,me){this.props=M,this.context=re,this.refs=U,this.updater=me||C}var K=ne.prototype=new Y;K.constructor=ne,D(K,P.prototype),K.isPureReactComponent=!0;var oe=Array.isArray,Z={H:null,A:null,T:null,S:null},fe=Object.prototype.hasOwnProperty;function x(M,re,me,le,ue,De){return me=De.ref,{$$typeof:n,type:M,key:re,ref:me!==void 0?me:null,props:De}}function R(M,re){return x(M.type,re,void 0,void 0,void 0,M.props)}function S(M){return typeof M=="object"&&M!==null&&M.$$typeof===n}function O(M){var re={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(me){return re[me]})}var k=/\/+/g;function z(M,re){return typeof M=="object"&&M!==null&&M.key!=null?O(""+M.key):re.toString(36)}function N(){}function tt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(N,N):(M.status="pending",M.then(function(re){M.status==="pending"&&(M.status="fulfilled",M.value=re)},function(re){M.status==="pending"&&(M.status="rejected",M.reason=re)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Ye(M,re,me,le,ue){var De=typeof M;(De==="undefined"||De==="boolean")&&(M=null);var Ce=!1;if(M===null)Ce=!0;else switch(De){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(M.$$typeof){case n:case e:Ce=!0;break;case v:return Ce=M._init,Ye(Ce(M._payload),re,me,le,ue)}}if(Ce)return ue=ue(M),Ce=le===""?"."+z(M,0):le,oe(ue)?(me="",Ce!=null&&(me=Ce.replace(k,"$&/")+"/"),Ye(ue,re,me,"",function(ft){return ft})):ue!=null&&(S(ue)&&(ue=R(ue,me+(ue.key==null||M&&M.key===ue.key?"":(""+ue.key).replace(k,"$&/")+"/")+Ce)),re.push(ue)),1;Ce=0;var Tt=le===""?".":le+":";if(oe(M))for(var Fe=0;Fe<M.length;Fe++)le=M[Fe],De=Tt+z(le,Fe),Ce+=Ye(le,re,me,De,ue);else if(Fe=b(M),typeof Fe=="function")for(M=Fe.call(M),Fe=0;!(le=M.next()).done;)le=le.value,De=Tt+z(le,Fe++),Ce+=Ye(le,re,me,De,ue);else if(De==="object"){if(typeof M.then=="function")return Ye(tt(M),re,me,le,ue);throw re=String(M),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function ae(M,re,me){if(M==null)return M;var le=[],ue=0;return Ye(M,le,"","",function(De){return re.call(me,De,ue++)}),le}function ve(M){if(M._status===-1){var re=M._result;re=re(),re.then(function(me){(M._status===0||M._status===-1)&&(M._status=1,M._result=me)},function(me){(M._status===0||M._status===-1)&&(M._status=2,M._result=me)}),M._status===-1&&(M._status=0,M._result=re)}if(M._status===1)return M._result.default;throw M._result}var ge=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function qe(){}return Ie.Children={map:ae,forEach:function(M,re,me){ae(M,function(){re.apply(this,arguments)},me)},count:function(M){var re=0;return ae(M,function(){re++}),re},toArray:function(M){return ae(M,function(re){return re})||[]},only:function(M){if(!S(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Ie.Component=P,Ie.Fragment=t,Ie.Profiler=o,Ie.PureComponent=ne,Ie.StrictMode=s,Ie.Suspense=d,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,Ie.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ie.cache=function(M){return function(){return M.apply(null,arguments)}},Ie.cloneElement=function(M,re,me){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var le=D({},M.props),ue=M.key,De=void 0;if(re!=null)for(Ce in re.ref!==void 0&&(De=void 0),re.key!==void 0&&(ue=""+re.key),re)!fe.call(re,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&re.ref===void 0||(le[Ce]=re[Ce]);var Ce=arguments.length-2;if(Ce===1)le.children=me;else if(1<Ce){for(var Tt=Array(Ce),Fe=0;Fe<Ce;Fe++)Tt[Fe]=arguments[Fe+2];le.children=Tt}return x(M.type,ue,void 0,void 0,De,le)},Ie.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Ie.createElement=function(M,re,me){var le,ue={},De=null;if(re!=null)for(le in re.key!==void 0&&(De=""+re.key),re)fe.call(re,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ue[le]=re[le]);var Ce=arguments.length-2;if(Ce===1)ue.children=me;else if(1<Ce){for(var Tt=Array(Ce),Fe=0;Fe<Ce;Fe++)Tt[Fe]=arguments[Fe+2];ue.children=Tt}if(M&&M.defaultProps)for(le in Ce=M.defaultProps,Ce)ue[le]===void 0&&(ue[le]=Ce[le]);return x(M,De,void 0,void 0,null,ue)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(M){return{$$typeof:p,render:M}},Ie.isValidElement=S,Ie.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:ve}},Ie.memo=function(M,re){return{$$typeof:g,type:M,compare:re===void 0?null:re}},Ie.startTransition=function(M){var re=Z.T,me={};Z.T=me;try{var le=M(),ue=Z.S;ue!==null&&ue(me,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(qe,ge)}catch(De){ge(De)}finally{Z.T=re}},Ie.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},Ie.use=function(M){return Z.H.use(M)},Ie.useActionState=function(M,re,me){return Z.H.useActionState(M,re,me)},Ie.useCallback=function(M,re){return Z.H.useCallback(M,re)},Ie.useContext=function(M){return Z.H.useContext(M)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(M,re){return Z.H.useDeferredValue(M,re)},Ie.useEffect=function(M,re){return Z.H.useEffect(M,re)},Ie.useId=function(){return Z.H.useId()},Ie.useImperativeHandle=function(M,re,me){return Z.H.useImperativeHandle(M,re,me)},Ie.useInsertionEffect=function(M,re){return Z.H.useInsertionEffect(M,re)},Ie.useLayoutEffect=function(M,re){return Z.H.useLayoutEffect(M,re)},Ie.useMemo=function(M,re){return Z.H.useMemo(M,re)},Ie.useOptimistic=function(M,re){return Z.H.useOptimistic(M,re)},Ie.useReducer=function(M,re,me){return Z.H.useReducer(M,re,me)},Ie.useRef=function(M){return Z.H.useRef(M)},Ie.useState=function(M){return Z.H.useState(M)},Ie.useSyncExternalStore=function(M,re,me){return Z.H.useSyncExternalStore(M,re,me)},Ie.useTransition=function(){return Z.H.useTransition()},Ie.version="19.0.0",Ie}var _w;function Zp(){return _w||(_w=1,Zm.exports=H2()),Zm.exports}var G=Zp();const Pt=B2(G);var Jm={exports:{}},du={},ep={exports:{}},tp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ww;function q2(){return ww||(ww=1,function(n){function e(ae,ve){var ge=ae.length;ae.push(ve);e:for(;0<ge;){var qe=ge-1>>>1,M=ae[qe];if(0<o(M,ve))ae[qe]=ve,ae[ge]=M,ge=qe;else break e}}function t(ae){return ae.length===0?null:ae[0]}function s(ae){if(ae.length===0)return null;var ve=ae[0],ge=ae.pop();if(ge!==ve){ae[0]=ge;e:for(var qe=0,M=ae.length,re=M>>>1;qe<re;){var me=2*(qe+1)-1,le=ae[me],ue=me+1,De=ae[ue];if(0>o(le,ge))ue<M&&0>o(De,le)?(ae[qe]=De,ae[ue]=ge,qe=ue):(ae[qe]=le,ae[me]=ge,qe=me);else if(ue<M&&0>o(De,ge))ae[qe]=De,ae[ue]=ge,qe=ue;else break e}}return ve}function o(ae,ve){var ge=ae.sortIndex-ve.sortIndex;return ge!==0?ge:ae.id-ve.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();n.unstable_now=function(){return f.now()-p}}var d=[],g=[],v=1,E=null,b=3,C=!1,D=!1,U=!1,P=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function K(ae){for(var ve=t(g);ve!==null;){if(ve.callback===null)s(g);else if(ve.startTime<=ae)s(g),ve.sortIndex=ve.expirationTime,e(d,ve);else break;ve=t(g)}}function oe(ae){if(U=!1,K(ae),!D)if(t(d)!==null)D=!0,tt();else{var ve=t(g);ve!==null&&Ye(oe,ve.startTime-ae)}}var Z=!1,fe=-1,x=5,R=-1;function S(){return!(n.unstable_now()-R<x)}function O(){if(Z){var ae=n.unstable_now();R=ae;var ve=!0;try{e:{D=!1,U&&(U=!1,Y(fe),fe=-1),C=!0;var ge=b;try{t:{for(K(ae),E=t(d);E!==null&&!(E.expirationTime>ae&&S());){var qe=E.callback;if(typeof qe=="function"){E.callback=null,b=E.priorityLevel;var M=qe(E.expirationTime<=ae);if(ae=n.unstable_now(),typeof M=="function"){E.callback=M,K(ae),ve=!0;break t}E===t(d)&&s(d),K(ae)}else s(d);E=t(d)}if(E!==null)ve=!0;else{var re=t(g);re!==null&&Ye(oe,re.startTime-ae),ve=!1}}break e}finally{E=null,b=ge,C=!1}ve=void 0}}finally{ve?k():Z=!1}}}var k;if(typeof ne=="function")k=function(){ne(O)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,N=z.port2;z.port1.onmessage=O,k=function(){N.postMessage(null)}}else k=function(){P(O,0)};function tt(){Z||(Z=!0,k())}function Ye(ae,ve){fe=P(function(){ae(n.unstable_now())},ve)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ae){ae.callback=null},n.unstable_continueExecution=function(){D||C||(D=!0,tt())},n.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<ae?Math.floor(1e3/ae):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(ae){switch(b){case 1:case 2:case 3:var ve=3;break;default:ve=b}var ge=b;b=ve;try{return ae()}finally{b=ge}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ae,ve){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var ge=b;b=ae;try{return ve()}finally{b=ge}},n.unstable_scheduleCallback=function(ae,ve,ge){var qe=n.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?qe+ge:qe):ge=qe,ae){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=ge+M,ae={id:v++,callback:ve,priorityLevel:ae,startTime:ge,expirationTime:M,sortIndex:-1},ge>qe?(ae.sortIndex=ge,e(g,ae),t(d)===null&&ae===t(g)&&(U?(Y(fe),fe=-1):U=!0,Ye(oe,ge-qe))):(ae.sortIndex=M,e(d,ae),D||C||(D=!0,tt())),ae},n.unstable_shouldYield=S,n.unstable_wrapCallback=function(ae){var ve=b;return function(){var ge=b;b=ve;try{return ae.apply(this,arguments)}finally{b=ge}}}}(tp)),tp}var Ew;function F2(){return Ew||(Ew=1,ep.exports=q2()),ep.exports}var np={exports:{}},rn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bw;function G2(){if(bw)return rn;bw=1;var n=Zp();function e(d){var g="https://react.dev/errors/"+d;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+d+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(d,g,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:d,containerInfo:g,implementation:v}}var f=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(d,g){if(d==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,rn.createPortal=function(d,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(d,g,null,v)},rn.flushSync=function(d){var g=f.T,v=s.p;try{if(f.T=null,s.p=2,d)return d()}finally{f.T=g,s.p=v,s.d.f()}},rn.preconnect=function(d,g){typeof d=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(d,g))},rn.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},rn.preinit=function(d,g){if(typeof d=="string"&&g&&typeof g.as=="string"){var v=g.as,E=p(v,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(d,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:b,fetchPriority:C}):v==="script"&&s.d.X(d,{crossOrigin:E,integrity:b,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},rn.preinitModule=function(d,g){if(typeof d=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=p(g.as,g.crossOrigin);s.d.M(d,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(d)},rn.preload=function(d,g){if(typeof d=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,E=p(v,g.crossOrigin);s.d.L(d,v,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},rn.preloadModule=function(d,g){if(typeof d=="string")if(g){var v=p(g.as,g.crossOrigin);s.d.m(d,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(d)},rn.requestFormReset=function(d){s.d.r(d)},rn.unstable_batchedUpdates=function(d,g){return d(g)},rn.useFormState=function(d,g,v){return f.H.useFormState(d,g,v)},rn.useFormStatus=function(){return f.H.useHostTransitionStatus()},rn.version="19.0.0",rn}var Tw;function $2(){if(Tw)return np.exports;Tw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),np.exports=G2(),np.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aw;function K2(){if(Aw)return du;Aw=1;var n=F2(),e=Zp(),t=$2();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),C=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),K=Symbol.for("react.offscreen"),oe=Symbol.for("react.memo_cache_sentinel"),Z=Symbol.iterator;function fe(i){return i===null||typeof i!="object"?null:(i=Z&&i[Z]||i["@@iterator"],typeof i=="function"?i:null)}var x=Symbol.for("react.client.reference");function R(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===x?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case d:return"Fragment";case p:return"Portal";case v:return"Profiler";case g:return"StrictMode";case U:return"Suspense";case P:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case C:return(i.displayName||"Context")+".Provider";case b:return(i._context.displayName||"Context")+".Consumer";case D:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Y:return r=i.displayName||null,r!==null?r:R(i.type)||"Memo";case ne:r=i._payload,i=i._init;try{return R(i(r))}catch{}}return null}var S=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=Object.assign,k,z;function N(i){if(k===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);k=r&&r[1]||"",z=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+k+i+z}var tt=!1;function Ye(i,r){if(!i||tt)return"";tt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(X){var F=X}Reflect.construct(i,[],ie)}else{try{ie.call()}catch(X){F=X}i.call(ie.prototype)}}else{try{throw Error()}catch(X){F=X}(ie=i())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(X){if(X&&F&&typeof X.stack=="string")return[X.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),w=m[0],T=m[1];if(w&&T){var I=w.split(`
`),L=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===L.length)for(l=I.length-1,h=L.length-1;1<=l&&0<=h&&I[l]!==L[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==L[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==L[h]){var W=`
`+I[l].replace(" at new "," at ");return i.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",i.displayName)),W}while(1<=l&&0<=h);break}}}finally{tt=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?N(a):""}function ae(i){switch(i.tag){case 26:case 27:case 5:return N(i.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 15:return i=Ye(i.type,!1),i;case 11:return i=Ye(i.type.render,!1),i;case 1:return i=Ye(i.type,!0),i;default:return""}}function ve(i){try{var r="";do r+=ae(i),i=i.return;while(i);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ge(i){var r=i,a=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,r.flags&4098&&(a=r.return),i=r.return;while(i)}return r.tag===3?a:null}function qe(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function M(i){if(ge(i)!==i)throw Error(s(188))}function re(i){var r=i.alternate;if(!r){if(r=ge(i),r===null)throw Error(s(188));return r!==i?null:i}for(var a=i,l=r;;){var h=a.return;if(h===null)break;var m=h.alternate;if(m===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===a)return M(h),i;if(m===l)return M(h),r;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=m;else{for(var w=!1,T=h.child;T;){if(T===a){w=!0,a=h,l=m;break}if(T===l){w=!0,l=h,a=m;break}T=T.sibling}if(!w){for(T=m.child;T;){if(T===a){w=!0,a=m,l=h;break}if(T===l){w=!0,l=m,a=h;break}T=T.sibling}if(!w)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?i:r}function me(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=me(i),r!==null)return r;i=i.sibling}return null}var le=Array.isArray,ue=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,De={pending:!1,data:null,method:null,action:null},Ce=[],Tt=-1;function Fe(i){return{current:i}}function ft(i){0>Tt||(i.current=Ce[Tt],Ce[Tt]=null,Tt--)}function Ze(i,r){Tt++,Ce[Tt]=i.current,i.current=r}var cn=Fe(null),zi=Fe(null),Bn=Fe(null),Dr=Fe(null);function Or(i,r){switch(Ze(Bn,r),Ze(zi,i),Ze(cn,null),i=r.nodeType,i){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?G_(r):0;break;default:if(i=i===8?r.parentNode:r,r=i.tagName,i=i.namespaceURI)i=G_(i),r=$_(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ft(cn),Ze(cn,r)}function ji(){ft(cn),ft(zi),ft(Bn)}function ol(i){i.memoizedState!==null&&Ze(Dr,i);var r=cn.current,a=$_(r,i.type);r!==a&&(Ze(zi,i),Ze(cn,a))}function ka(i){zi.current===i&&(ft(cn),ft(zi)),Dr.current===i&&(ft(Dr),ou._currentValue=De)}var Ma=Object.prototype.hasOwnProperty,Vs=n.unstable_scheduleCallback,Pa=n.unstable_cancelCallback,Jf=n.unstable_shouldYield,ll=n.unstable_requestPaint,_n=n.unstable_now,ac=n.unstable_getCurrentPriorityLevel,Dt=n.unstable_ImmediatePriority,Ut=n.unstable_UserBlockingPriority,Hi=n.unstable_NormalPriority,oc=n.unstable_LowPriority,ul=n.unstable_IdlePriority,ed=n.log,Ls=n.unstable_setDisableYieldValue,Nr=null,tn=null;function cl(i){if(tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(Nr,i,void 0,(i.current.flags&128)===128)}catch{}}function mi(i){if(typeof ed=="function"&&Ls(i),tn&&typeof tn.setStrictMode=="function")try{tn.setStrictMode(Nr,i)}catch{}}var hn=Math.clz32?Math.clz32:uc,hl=Math.log,lc=Math.LN2;function uc(i){return i>>>=0,i===0?32:31-(hl(i)/lc|0)|0}var pi=128,xr=4194304;function ri(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function zn(i,r){var a=i.pendingLanes;if(a===0)return 0;var l=0,h=i.suspendedLanes,m=i.pingedLanes,w=i.warmLanes;i=i.finishedLanes!==0;var T=a&134217727;return T!==0?(a=T&~h,a!==0?l=ri(a):(m&=T,m!==0?l=ri(m):i||(w=T&~w,w!==0&&(l=ri(w))))):(T=a&~h,T!==0?l=ri(T):m!==0?l=ri(m):i||(w=a&~w,w!==0&&(l=ri(w)))),l===0?0:r!==0&&r!==l&&!(r&h)&&(h=l&-l,w=r&-r,h>=w||h===32&&(w&4194176)!==0)?r:l}function kr(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Va(i,r){switch(i){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fl(){var i=pi;return pi<<=1,!(pi&4194176)&&(pi=128),i}function Mr(){var i=xr;return xr<<=1,!(xr&62914560)&&(xr=4194304),i}function La(i){for(var r=[],a=0;31>a;a++)r.push(i);return r}function vt(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function cc(i,r,a,l,h,m){var w=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var T=i.entanglements,I=i.expirationTimes,L=i.hiddenUpdates;for(a=w&~a;0<a;){var W=31-hn(a),ie=1<<W;T[W]=0,I[W]=-1;var F=L[W];if(F!==null)for(L[W]=null,W=0;W<F.length;W++){var X=F[W];X!==null&&(X.lane&=-536870913)}a&=~ie}l!==0&&Pr(i,l,0),m!==0&&h===0&&i.tag!==0&&(i.suspendedLanes|=m&~(w&~r))}function Pr(i,r,a){i.pendingLanes|=r,i.suspendedLanes&=~r;var l=31-hn(r);i.entangledLanes|=r,i.entanglements[l]=i.entanglements[l]|1073741824|a&4194218}function Vr(i,r){var a=i.entangledLanes|=r;for(i=i.entanglements;a;){var l=31-hn(a),h=1<<l;h&r|i[l]&r&&(i[l]|=r),a&=~h}}function hc(i){return i&=-i,2<i?8<i?i&134217727?32:268435456:8:2}function fc(){var i=ue.p;return i!==0?i:(i=window.event,i===void 0?32:cw(i.type))}function Lr(i,r){var a=ue.p;try{return ue.p=i,r()}finally{ue.p=a}}var gi=Math.random().toString(36).slice(2),Bt="__reactFiber$"+gi,Ot="__reactProps$"+gi,qi="__reactContainer$"+gi,Us="__reactEvents$"+gi,Ua="__reactListeners$"+gi,yi="__reactHandles$"+gi,dl="__reactResources$"+gi,Ur="__reactMarker$"+gi;function Bs(i){delete i[Bt],delete i[Ot],delete i[Us],delete i[Ua],delete i[yi]}function si(i){var r=i[Bt];if(r)return r;for(var a=i.parentNode;a;){if(r=a[qi]||a[Bt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(i=Y_(i);i!==null;){if(a=i[Bt])return a;i=Y_(i)}return r}i=a,a=i.parentNode}return null}function Fi(i){if(i=i[Bt]||i[qi]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function Br(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function zr(i){var r=i[dl];return r||(r=i[dl]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ot(i){i[Ur]=!0}var ml=new Set,Ba={};function Rn(i,r){wn(i,r),wn(i+"Capture",r)}function wn(i,r){for(Ba[i]=r,i=0;i<r.length;i++)ml.add(r[i])}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),td=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pl={},gl={};function dc(i){return Ma.call(gl,i)?!0:Ma.call(pl,i)?!1:td.test(i)?gl[i]=!0:(pl[i]=!0,!1)}function jr(i,r,a){if(dc(r))if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+a)}}function Hr(i,r,a){if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+a)}}function jn(i,r,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(r,a,""+l)}}function fn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function mc(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function nd(i){var r=mc(i)?"checked":"value",a=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),l=""+i[r];if(!i.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,m=a.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return h.call(this)},set:function(w){l=""+w,m.call(this,w)}}),Object.defineProperty(i,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(w){l=""+w},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function zs(i){i._valueTracker||(i._valueTracker=nd(i))}function yl(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return i&&(l=mc(i)?i.checked?"true":"false":i.value),i=l,i!==a?(r.setValue(i),!0):!1}function za(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Gi=/[\n"\\]/g;function dt(i){return i.replace(Gi,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function qr(i,r,a,l,h,m,w,T){i.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.type=w:i.removeAttribute("type"),r!=null?w==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+fn(r)):i.value!==""+fn(r)&&(i.value=""+fn(r)):w!=="submit"&&w!=="reset"||i.removeAttribute("value"),r!=null?ja(i,w,fn(r)):a!=null?ja(i,w,fn(a)):l!=null&&i.removeAttribute("value"),h==null&&m!=null&&(i.defaultChecked=!!m),h!=null&&(i.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.name=""+fn(T):i.removeAttribute("name")}function js(i,r,a,l,h,m,w,T){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(i.type=m),r!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||r!=null))return;a=a!=null?""+fn(a):"",r=r!=null?""+fn(r):a,T||r===i.value||(i.value=r),i.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,i.checked=T?i.checked:!!l,i.defaultChecked=!!l,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.name=w)}function ja(i,r,a){r==="number"&&za(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function Ge(i,r,a,l){if(i=i.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<i.length;a++)h=r.hasOwnProperty("$"+i[a].value),i[a].selected!==h&&(i[a].selected=h),h&&l&&(i[a].defaultSelected=!0)}else{for(a=""+fn(a),r=null,h=0;h<i.length;h++){if(i[h].value===a){i[h].selected=!0,l&&(i[h].defaultSelected=!0);return}r!==null||i[h].disabled||(r=i[h])}r!==null&&(r.selected=!0)}}function Hs(i,r,a){if(r!=null&&(r=""+fn(r),r!==i.value&&(i.value=r),a==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=a!=null?""+fn(a):""}function Fr(i,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(le(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=fn(r),i.defaultValue=a,l=i.textContent,l===a&&l!==""&&l!==null&&(i.value=l)}function Hn(i,r){if(r){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=r;return}}i.textContent=r}var id=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vl(i,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":l?i.setProperty(r,a):typeof a!="number"||a===0||id.has(r)?r==="float"?i.cssFloat=a:i[r]=(""+a).trim():i[r]=a+"px"}function pc(i,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&vl(i,h,l)}else for(var m in r)r.hasOwnProperty(m)&&vl(i,m,r[m])}function _l(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vi(i){return sd.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var qn=null;function Ha(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var $i=null,Ki=null;function Qi(i){var r=Fi(i);if(r&&(i=r.stateNode)){var a=i[Ot]||null;e:switch(i=r.stateNode,r.type){case"input":if(qr(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+dt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==i&&l.form===i.form){var h=l[Ot]||null;if(!h)throw Error(s(90));qr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===i.form&&yl(l)}break e;case"textarea":Hs(i,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Ge(i,!!a.multiple,r,!1)}}}var wl=!1;function gc(i,r,a){if(wl)return i(r,a);wl=!0;try{var l=i(r);return l}finally{if(wl=!1,($i!==null||Ki!==null)&&(oh(),$i&&(r=$i,i=Ki,Ki=$i=null,Qi(r),i)))for(r=0;r<i.length;r++)Qi(i[r])}}function qs(i,r){var a=i.stateNode;if(a===null)return null;var l=a[Ot]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(i=i.type,l=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!l;break e;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Fn=!1;if(Cn)try{var Fs={};Object.defineProperty(Fs,"passive",{get:function(){Fn=!0}}),window.addEventListener("test",Fs,Fs),window.removeEventListener("test",Fs,Fs)}catch{Fn=!1}var _i=null,Gr=null,Yi=null;function El(){if(Yi)return Yi;var i,r=Gr,a=r.length,l,h="value"in _i?_i.value:_i.textContent,m=h.length;for(i=0;i<a&&r[i]===h[i];i++);var w=a-i;for(l=1;l<=w&&r[a-l]===h[m-l];l++);return Yi=h.slice(i,1<l?1-l:void 0)}function wi(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Ei(){return!0}function bl(){return!1}function zt(i){function r(a,l,h,m,w){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=m,this.target=w,this.currentTarget=null;for(var T in i)i.hasOwnProperty(T)&&(a=i[T],this[T]=a?a(m):m[T]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Ei:bl,this.isPropagationStopped=bl,this}return O(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ei)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ei)},persist:function(){},isPersistent:Ei}),r}var Xe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qa=zt(Xe),Gs=O({},Xe,{view:0,detail:0}),yc=zt(Gs),Fa,Ga,bi,$s=O({},Gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ys,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==bi&&(bi&&i.type==="mousemove"?(Fa=i.screenX-bi.screenX,Ga=i.screenY-bi.screenY):Ga=Fa=0,bi=i),Fa)},movementY:function(i){return"movementY"in i?i.movementY:Ga}}),Gn=zt($s),vc=O({},$s,{dataTransfer:0}),ad=zt(vc),Ks=O({},Gs,{relatedTarget:0}),$a=zt(Ks),Tl=O({},Xe,{animationName:0,elapsedTime:0,pseudoElement:0}),Ka=zt(Tl),_c=O({},Xe,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Qa=zt(_c),od=O({},Xe,{data:0}),Al=zt(od),Qs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ec={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sl(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Ec[i])?!!r[i]:!1}function Ys(){return Sl}var bc=O({},Gs,{key:function(i){if(i.key){var r=Qs[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=wi(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?wc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ys,charCode:function(i){return i.type==="keypress"?wi(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?wi(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Ya=zt(bc),Tc=O({},$s,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rl=zt(Tc),Xi=O({},Gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ys}),Ac=zt(Xi),Sc=O({},Xe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rc=zt(Sc),Cc=O({},$s,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Xa=zt(Cc),dn=O({},Xe,{newState:0,oldState:0}),Ic=zt(dn),Dc=[9,13,27,32],Ti=Cn&&"CompositionEvent"in window,c=null;Cn&&"documentMode"in document&&(c=document.documentMode);var y=Cn&&"TextEvent"in window&&!c,_=Cn&&(!Ti||c&&8<c&&11>=c),A=" ",j=!1;function $(i,r){switch(i){case"keyup":return Dc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function se(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ue=!1;function Nt(i,r){switch(i){case"compositionend":return se(r);case"keypress":return r.which!==32?null:(j=!0,A);case"textInput":return i=r.data,i===A&&j?null:i;default:return null}}function Be(i,r){if(Ue)return i==="compositionend"||!Ti&&$(i,r)?(i=El(),Yi=Gr=_i=null,Ue=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var jt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xt(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!jt[i.type]:r==="textarea"}function Wi(i,r,a,l){$i?Ki?Ki.push(l):Ki=[l]:$i=l,r=fh(r,"onChange"),0<r.length&&(a=new qa("onChange","change",null,a,l),i.push({event:a,listeners:r}))}var Qt=null,Ai=null;function Cl(i){z_(i,0)}function Oc(i){var r=Br(i);if(yl(r))return i}function py(i,r){if(i==="change")return r}var gy=!1;if(Cn){var ld;if(Cn){var ud="oninput"in document;if(!ud){var yy=document.createElement("div");yy.setAttribute("oninput","return;"),ud=typeof yy.oninput=="function"}ld=ud}else ld=!1;gy=ld&&(!document.documentMode||9<document.documentMode)}function vy(){Qt&&(Qt.detachEvent("onpropertychange",_y),Ai=Qt=null)}function _y(i){if(i.propertyName==="value"&&Oc(Ai)){var r=[];Wi(r,Ai,i,Ha(i)),gc(Cl,r)}}function pS(i,r,a){i==="focusin"?(vy(),Qt=r,Ai=a,Qt.attachEvent("onpropertychange",_y)):i==="focusout"&&vy()}function gS(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Oc(Ai)}function yS(i,r){if(i==="click")return Oc(r)}function vS(i,r){if(i==="input"||i==="change")return Oc(r)}function _S(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var In=typeof Object.is=="function"?Object.is:_S;function Il(i,r){if(In(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var a=Object.keys(i),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Ma.call(r,h)||!In(i[h],r[h]))return!1}return!0}function wy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ey(i,r){var a=wy(i);i=0;for(var l;a;){if(a.nodeType===3){if(l=i+a.textContent.length,i<=r&&l>=r)return{node:a,offset:r-i};i=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=wy(a)}}function by(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?by(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Ty(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=za(i.document);r instanceof i.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)i=r.contentWindow;else break;r=za(i.document)}return r}function cd(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}function wS(i,r){var a=Ty(r);r=i.focusedElem;var l=i.selectionRange;if(a!==r&&r&&r.ownerDocument&&by(r.ownerDocument.documentElement,r)){if(l!==null&&cd(r)){if(i=l.start,a=l.end,a===void 0&&(a=i),"selectionStart"in r)r.selectionStart=i,r.selectionEnd=Math.min(a,r.value.length);else if(a=(i=r.ownerDocument||document)&&i.defaultView||window,a.getSelection){a=a.getSelection();var h=r.textContent.length,m=Math.min(l.start,h);l=l.end===void 0?m:Math.min(l.end,h),!a.extend&&m>l&&(h=l,l=m,m=h),h=Ey(r,m);var w=Ey(r,l);h&&w&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==w.node||a.focusOffset!==w.offset)&&(i=i.createRange(),i.setStart(h.node,h.offset),a.removeAllRanges(),m>l?(a.addRange(i),a.extend(w.node,w.offset)):(i.setEnd(w.node,w.offset),a.addRange(i)))}}for(i=[],a=r;a=a.parentNode;)a.nodeType===1&&i.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<i.length;r++)a=i[r],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var ES=Cn&&"documentMode"in document&&11>=document.documentMode,Wa=null,hd=null,Dl=null,fd=!1;function Ay(i,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;fd||Wa==null||Wa!==za(l)||(l=Wa,"selectionStart"in l&&cd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Dl&&Il(Dl,l)||(Dl=l,l=fh(hd,"onSelect"),0<l.length&&(r=new qa("onSelect","select",null,r,a),i.push({event:r,listeners:l}),r.target=Wa)))}function Xs(i,r){var a={};return a[i.toLowerCase()]=r.toLowerCase(),a["Webkit"+i]="webkit"+r,a["Moz"+i]="moz"+r,a}var Za={animationend:Xs("Animation","AnimationEnd"),animationiteration:Xs("Animation","AnimationIteration"),animationstart:Xs("Animation","AnimationStart"),transitionrun:Xs("Transition","TransitionRun"),transitionstart:Xs("Transition","TransitionStart"),transitioncancel:Xs("Transition","TransitionCancel"),transitionend:Xs("Transition","TransitionEnd")},dd={},Sy={};Cn&&(Sy=document.createElement("div").style,"AnimationEvent"in window||(delete Za.animationend.animation,delete Za.animationiteration.animation,delete Za.animationstart.animation),"TransitionEvent"in window||delete Za.transitionend.transition);function Ws(i){if(dd[i])return dd[i];if(!Za[i])return i;var r=Za[i],a;for(a in r)if(r.hasOwnProperty(a)&&a in Sy)return dd[i]=r[a];return i}var Ry=Ws("animationend"),Cy=Ws("animationiteration"),Iy=Ws("animationstart"),bS=Ws("transitionrun"),TS=Ws("transitionstart"),AS=Ws("transitioncancel"),Dy=Ws("transitionend"),Oy=new Map,Ny="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ai(i,r){Oy.set(i,r),Rn(r,[i])}var $n=[],Ja=0,md=0;function Nc(){for(var i=Ja,r=md=Ja=0;r<i;){var a=$n[r];$n[r++]=null;var l=$n[r];$n[r++]=null;var h=$n[r];$n[r++]=null;var m=$n[r];if($n[r++]=null,l!==null&&h!==null){var w=l.pending;w===null?h.next=h:(h.next=w.next,w.next=h),l.pending=h}m!==0&&xy(a,h,m)}}function xc(i,r,a,l){$n[Ja++]=i,$n[Ja++]=r,$n[Ja++]=a,$n[Ja++]=l,md|=l,i.lanes|=l,i=i.alternate,i!==null&&(i.lanes|=l)}function pd(i,r,a,l){return xc(i,r,a,l),kc(i)}function $r(i,r){return xc(i,null,null,r),kc(i)}function xy(i,r,a){i.lanes|=a;var l=i.alternate;l!==null&&(l.lanes|=a);for(var h=!1,m=i.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(i=m.stateNode,i===null||i._visibility&1||(h=!0)),i=m,m=m.return;h&&r!==null&&i.tag===3&&(m=i.stateNode,h=31-hn(a),m=m.hiddenUpdates,i=m[h],i===null?m[h]=[r]:i.push(r),r.lane=a|536870912)}function kc(i){if(50<eu)throw eu=0,Em=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var eo={},ky=new WeakMap;function Kn(i,r){if(typeof i=="object"&&i!==null){var a=ky.get(i);return a!==void 0?a:(r={value:i,source:r,stack:ve(r)},ky.set(i,r),r)}return{value:i,source:r,stack:ve(r)}}var to=[],no=0,Mc=null,Pc=0,Qn=[],Yn=0,Zs=null,Zi=1,Ji="";function Js(i,r){to[no++]=Pc,to[no++]=Mc,Mc=i,Pc=r}function My(i,r,a){Qn[Yn++]=Zi,Qn[Yn++]=Ji,Qn[Yn++]=Zs,Zs=i;var l=Zi;i=Ji;var h=32-hn(l)-1;l&=~(1<<h),a+=1;var m=32-hn(r)+h;if(30<m){var w=h-h%5;m=(l&(1<<w)-1).toString(32),l>>=w,h-=w,Zi=1<<32-hn(r)+h|a<<h|l,Ji=m+i}else Zi=1<<m|a<<h|l,Ji=i}function gd(i){i.return!==null&&(Js(i,1),My(i,1,0))}function yd(i){for(;i===Mc;)Mc=to[--no],to[no]=null,Pc=to[--no],to[no]=null;for(;i===Zs;)Zs=Qn[--Yn],Qn[Yn]=null,Ji=Qn[--Yn],Qn[Yn]=null,Zi=Qn[--Yn],Qn[Yn]=null}var mn=null,Yt=null,$e=!1,oi=null,Si=!1,vd=Error(s(519));function ea(i){var r=Error(s(418,""));throw xl(Kn(r,i)),vd}function Py(i){var r=i.stateNode,a=i.type,l=i.memoizedProps;switch(r[Bt]=i,r[Ot]=l,a){case"dialog":Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":case"embed":Ve("load",r);break;case"video":case"audio":for(a=0;a<nu.length;a++)Ve(nu[a],r);break;case"source":Ve("error",r);break;case"img":case"image":case"link":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"input":Ve("invalid",r),js(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),zs(r);break;case"select":Ve("invalid",r);break;case"textarea":Ve("invalid",r),Fr(r,l.value,l.defaultValue,l.children),zs(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||F_(r.textContent,a)?(l.popover!=null&&(Ve("beforetoggle",r),Ve("toggle",r)),l.onScroll!=null&&Ve("scroll",r),l.onScrollEnd!=null&&Ve("scrollend",r),l.onClick!=null&&(r.onclick=dh),r=!0):r=!1,r||ea(i)}function Vy(i){for(mn=i.return;mn;)switch(mn.tag){case 3:case 27:Si=!0;return;case 5:case 13:Si=!1;return;default:mn=mn.return}}function Ol(i){if(i!==mn)return!1;if(!$e)return Vy(i),$e=!0,!1;var r=!1,a;if((a=i.tag!==3&&i.tag!==27)&&((a=i.tag===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||Um(i.type,i.memoizedProps)),a=!a),a&&(r=!0),r&&Yt&&ea(i),Vy(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));e:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(a=i.data,a==="/$"){if(r===0){Yt=ui(i.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;i=i.nextSibling}Yt=null}}else Yt=mn?ui(i.stateNode.nextSibling):null;return!0}function Nl(){Yt=mn=null,$e=!1}function xl(i){oi===null?oi=[i]:oi.push(i)}var kl=Error(s(460)),Ly=Error(s(474)),_d={then:function(){}};function Uy(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Vc(){}function By(i,r,a){switch(a=i[a],a===void 0?i.push(r):a!==r&&(r.then(Vc,Vc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,i===kl?Error(s(483)):i;default:if(typeof r.status=="string")r.then(Vc,Vc);else{if(i=it,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,i===kl?Error(s(483)):i}throw Ml=r,kl}}var Ml=null;function zy(){if(Ml===null)throw Error(s(459));var i=Ml;return Ml=null,i}var io=null,Pl=0;function Lc(i){var r=Pl;return Pl+=1,io===null&&(io=[]),By(io,i,r)}function Vl(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Uc(i,r){throw r.$$typeof===u?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function jy(i){var r=i._init;return r(i._payload)}function Hy(i){function r(B,V){if(i){var q=B.deletions;q===null?(B.deletions=[V],B.flags|=16):q.push(V)}}function a(B,V){if(!i)return null;for(;V!==null;)r(B,V),V=V.sibling;return null}function l(B){for(var V=new Map;B!==null;)B.key!==null?V.set(B.key,B):V.set(B.index,B),B=B.sibling;return V}function h(B,V){return B=rs(B,V),B.index=0,B.sibling=null,B}function m(B,V,q){return B.index=q,i?(q=B.alternate,q!==null?(q=q.index,q<V?(B.flags|=33554434,V):q):(B.flags|=33554434,V)):(B.flags|=1048576,V)}function w(B){return i&&B.alternate===null&&(B.flags|=33554434),B}function T(B,V,q,J){return V===null||V.tag!==6?(V=dm(q,B.mode,J),V.return=B,V):(V=h(V,q),V.return=B,V)}function I(B,V,q,J){var de=q.type;return de===d?W(B,V,q.props.children,J,q.key):V!==null&&(V.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===ne&&jy(de)===V.type)?(V=h(V,q.props),Vl(V,q),V.return=B,V):(V=nh(q.type,q.key,q.props,null,B.mode,J),Vl(V,q),V.return=B,V)}function L(B,V,q,J){return V===null||V.tag!==4||V.stateNode.containerInfo!==q.containerInfo||V.stateNode.implementation!==q.implementation?(V=mm(q,B.mode,J),V.return=B,V):(V=h(V,q.children||[]),V.return=B,V)}function W(B,V,q,J,de){return V===null||V.tag!==7?(V=ca(q,B.mode,J,de),V.return=B,V):(V=h(V,q),V.return=B,V)}function ie(B,V,q){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=dm(""+V,B.mode,q),V.return=B,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case f:return q=nh(V.type,V.key,V.props,null,B.mode,q),Vl(q,V),q.return=B,q;case p:return V=mm(V,B.mode,q),V.return=B,V;case ne:var J=V._init;return V=J(V._payload),ie(B,V,q)}if(le(V)||fe(V))return V=ca(V,B.mode,q,null),V.return=B,V;if(typeof V.then=="function")return ie(B,Lc(V),q);if(V.$$typeof===C)return ie(B,Jc(B,V),q);Uc(B,V)}return null}function F(B,V,q,J){var de=V!==null?V.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return de!==null?null:T(B,V,""+q,J);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case f:return q.key===de?I(B,V,q,J):null;case p:return q.key===de?L(B,V,q,J):null;case ne:return de=q._init,q=de(q._payload),F(B,V,q,J)}if(le(q)||fe(q))return de!==null?null:W(B,V,q,J,null);if(typeof q.then=="function")return F(B,V,Lc(q),J);if(q.$$typeof===C)return F(B,V,Jc(B,q),J);Uc(B,q)}return null}function X(B,V,q,J,de){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return B=B.get(q)||null,T(V,B,""+J,de);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case f:return B=B.get(J.key===null?q:J.key)||null,I(V,B,J,de);case p:return B=B.get(J.key===null?q:J.key)||null,L(V,B,J,de);case ne:var Ne=J._init;return J=Ne(J._payload),X(B,V,q,J,de)}if(le(J)||fe(J))return B=B.get(q)||null,W(V,B,J,de,null);if(typeof J.then=="function")return X(B,V,q,Lc(J),de);if(J.$$typeof===C)return X(B,V,q,Jc(V,J),de);Uc(V,J)}return null}function pe(B,V,q,J){for(var de=null,Ne=null,ye=V,Ee=V=0,Ft=null;ye!==null&&Ee<q.length;Ee++){ye.index>Ee?(Ft=ye,ye=null):Ft=ye.sibling;var Ke=F(B,ye,q[Ee],J);if(Ke===null){ye===null&&(ye=Ft);break}i&&ye&&Ke.alternate===null&&r(B,ye),V=m(Ke,V,Ee),Ne===null?de=Ke:Ne.sibling=Ke,Ne=Ke,ye=Ft}if(Ee===q.length)return a(B,ye),$e&&Js(B,Ee),de;if(ye===null){for(;Ee<q.length;Ee++)ye=ie(B,q[Ee],J),ye!==null&&(V=m(ye,V,Ee),Ne===null?de=ye:Ne.sibling=ye,Ne=ye);return $e&&Js(B,Ee),de}for(ye=l(ye);Ee<q.length;Ee++)Ft=X(ye,B,Ee,q[Ee],J),Ft!==null&&(i&&Ft.alternate!==null&&ye.delete(Ft.key===null?Ee:Ft.key),V=m(Ft,V,Ee),Ne===null?de=Ft:Ne.sibling=Ft,Ne=Ft);return i&&ye.forEach(function(hs){return r(B,hs)}),$e&&Js(B,Ee),de}function Se(B,V,q,J){if(q==null)throw Error(s(151));for(var de=null,Ne=null,ye=V,Ee=V=0,Ft=null,Ke=q.next();ye!==null&&!Ke.done;Ee++,Ke=q.next()){ye.index>Ee?(Ft=ye,ye=null):Ft=ye.sibling;var hs=F(B,ye,Ke.value,J);if(hs===null){ye===null&&(ye=Ft);break}i&&ye&&hs.alternate===null&&r(B,ye),V=m(hs,V,Ee),Ne===null?de=hs:Ne.sibling=hs,Ne=hs,ye=Ft}if(Ke.done)return a(B,ye),$e&&Js(B,Ee),de;if(ye===null){for(;!Ke.done;Ee++,Ke=q.next())Ke=ie(B,Ke.value,J),Ke!==null&&(V=m(Ke,V,Ee),Ne===null?de=Ke:Ne.sibling=Ke,Ne=Ke);return $e&&Js(B,Ee),de}for(ye=l(ye);!Ke.done;Ee++,Ke=q.next())Ke=X(ye,B,Ee,Ke.value,J),Ke!==null&&(i&&Ke.alternate!==null&&ye.delete(Ke.key===null?Ee:Ke.key),V=m(Ke,V,Ee),Ne===null?de=Ke:Ne.sibling=Ke,Ne=Ke);return i&&ye.forEach(function(U2){return r(B,U2)}),$e&&Js(B,Ee),de}function gt(B,V,q,J){if(typeof q=="object"&&q!==null&&q.type===d&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case f:e:{for(var de=q.key;V!==null;){if(V.key===de){if(de=q.type,de===d){if(V.tag===7){a(B,V.sibling),J=h(V,q.props.children),J.return=B,B=J;break e}}else if(V.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===ne&&jy(de)===V.type){a(B,V.sibling),J=h(V,q.props),Vl(J,q),J.return=B,B=J;break e}a(B,V);break}else r(B,V);V=V.sibling}q.type===d?(J=ca(q.props.children,B.mode,J,q.key),J.return=B,B=J):(J=nh(q.type,q.key,q.props,null,B.mode,J),Vl(J,q),J.return=B,B=J)}return w(B);case p:e:{for(de=q.key;V!==null;){if(V.key===de)if(V.tag===4&&V.stateNode.containerInfo===q.containerInfo&&V.stateNode.implementation===q.implementation){a(B,V.sibling),J=h(V,q.children||[]),J.return=B,B=J;break e}else{a(B,V);break}else r(B,V);V=V.sibling}J=mm(q,B.mode,J),J.return=B,B=J}return w(B);case ne:return de=q._init,q=de(q._payload),gt(B,V,q,J)}if(le(q))return pe(B,V,q,J);if(fe(q)){if(de=fe(q),typeof de!="function")throw Error(s(150));return q=de.call(q),Se(B,V,q,J)}if(typeof q.then=="function")return gt(B,V,Lc(q),J);if(q.$$typeof===C)return gt(B,V,Jc(B,q),J);Uc(B,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,V!==null&&V.tag===6?(a(B,V.sibling),J=h(V,q),J.return=B,B=J):(a(B,V),J=dm(q,B.mode,J),J.return=B,B=J),w(B)):a(B,V)}return function(B,V,q,J){try{Pl=0;var de=gt(B,V,q,J);return io=null,de}catch(ye){if(ye===kl)throw ye;var Ne=Jn(29,ye,null,B.mode);return Ne.lanes=J,Ne.return=B,Ne}finally{}}}var ta=Hy(!0),qy=Hy(!1),ro=Fe(null),Bc=Fe(0);function Fy(i,r){i=cr,Ze(Bc,i),Ze(ro,r),cr=i|r.baseLanes}function wd(){Ze(Bc,cr),Ze(ro,ro.current)}function Ed(){cr=Bc.current,ft(ro),ft(Bc)}var Xn=Fe(null),Ri=null;function Kr(i){var r=i.alternate;Ze(kt,kt.current&1),Ze(Xn,i),Ri===null&&(r===null||ro.current!==null||r.memoizedState!==null)&&(Ri=i)}function Gy(i){if(i.tag===22){if(Ze(kt,kt.current),Ze(Xn,i),Ri===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(Ri=i)}}else Qr()}function Qr(){Ze(kt,kt.current),Ze(Xn,Xn.current)}function er(i){ft(Xn),Ri===i&&(Ri=null),ft(kt)}var kt=Fe(0);function zc(i){for(var r=i;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var SS=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(a,l){i.push(l)}};this.abort=function(){r.aborted=!0,i.forEach(function(a){return a()})}},RS=n.unstable_scheduleCallback,CS=n.unstable_NormalPriority,Mt={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bd(){return{controller:new SS,data:new Map,refCount:0}}function Ll(i){i.refCount--,i.refCount===0&&RS(CS,function(){i.controller.abort()})}var Ul=null,Td=0,so=0,ao=null;function IS(i,r){if(Ul===null){var a=Ul=[];Td=0,so=Dm(),ao={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Td++,r.then($y,$y),r}function $y(){if(--Td===0&&Ul!==null){ao!==null&&(ao.status="fulfilled");var i=Ul;Ul=null,so=0,ao=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function DS(i,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return i.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Ky=S.S;S.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&IS(i,r),Ky!==null&&Ky(i,r)};var na=Fe(null);function Ad(){var i=na.current;return i!==null?i:it.pooledCache}function jc(i,r){r===null?Ze(na,na.current):Ze(na,r.pool)}function Qy(){var i=Ad();return i===null?null:{parent:Mt._currentValue,pool:i}}var Yr=0,Oe=null,Je=null,At=null,Hc=!1,oo=!1,ia=!1,qc=0,Bl=0,lo=null,OS=0;function _t(){throw Error(s(321))}function Sd(i,r){if(r===null)return!1;for(var a=0;a<r.length&&a<i.length;a++)if(!In(i[a],r[a]))return!1;return!0}function Rd(i,r,a,l,h,m){return Yr=m,Oe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,S.H=i===null||i.memoizedState===null?ra:Xr,ia=!1,m=a(l,h),ia=!1,oo&&(m=Xy(r,a,l,h)),Yy(i),m}function Yy(i){S.H=Ci;var r=Je!==null&&Je.next!==null;if(Yr=0,At=Je=Oe=null,Hc=!1,Bl=0,lo=null,r)throw Error(s(300));i===null||Ht||(i=i.dependencies,i!==null&&Zc(i)&&(Ht=!0))}function Xy(i,r,a,l){Oe=i;var h=0;do{if(oo&&(lo=null),Bl=0,oo=!1,25<=h)throw Error(s(301));if(h+=1,At=Je=null,i.updateQueue!=null){var m=i.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}S.H=sa,m=r(a,l)}while(oo);return m}function NS(){var i=S.H,r=i.useState()[0];return r=typeof r.then=="function"?zl(r):r,i=i.useState()[0],(Je!==null?Je.memoizedState:null)!==i&&(Oe.flags|=1024),r}function Cd(){var i=qc!==0;return qc=0,i}function Id(i,r,a){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~a}function Dd(i){if(Hc){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Hc=!1}Yr=0,At=Je=Oe=null,oo=!1,Bl=qc=0,lo=null}function En(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?Oe.memoizedState=At=i:At=At.next=i,At}function St(){if(Je===null){var i=Oe.alternate;i=i!==null?i.memoizedState:null}else i=Je.next;var r=At===null?Oe.memoizedState:At.next;if(r!==null)At=r,Je=i;else{if(i===null)throw Oe.alternate===null?Error(s(467)):Error(s(310));Je=i,i={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},At===null?Oe.memoizedState=At=i:At=At.next=i}return At}var Fc;Fc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function zl(i){var r=Bl;return Bl+=1,lo===null&&(lo=[]),i=By(lo,i,r),r=Oe,(At===null?r.memoizedState:At.next)===null&&(r=r.alternate,S.H=r===null||r.memoizedState===null?ra:Xr),i}function Gc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return zl(i);if(i.$$typeof===C)return nn(i)}throw Error(s(438,String(i)))}function Od(i){var r=null,a=Oe.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Oe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Fc(),Oe.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(i),l=0;l<i;l++)a[l]=oe;return r.index++,a}function tr(i,r){return typeof r=="function"?r(i):r}function $c(i){var r=St();return Nd(r,Je,i)}function Nd(i,r,a){var l=i.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=i.baseQueue,m=l.pending;if(m!==null){if(h!==null){var w=h.next;h.next=m.next,m.next=w}r.baseQueue=h=m,l.pending=null}if(m=i.baseState,h===null)i.memoizedState=m;else{r=h.next;var T=w=null,I=null,L=r,W=!1;do{var ie=L.lane&-536870913;if(ie!==L.lane?(ze&ie)===ie:(Yr&ie)===ie){var F=L.revertLane;if(F===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),ie===so&&(W=!0);else if((Yr&F)===F){L=L.next,F===so&&(W=!0);continue}else ie={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},I===null?(T=I=ie,w=m):I=I.next=ie,Oe.lanes|=F,ss|=F;ie=L.action,ia&&a(m,ie),m=L.hasEagerState?L.eagerState:a(m,ie)}else F={lane:ie,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},I===null?(T=I=F,w=m):I=I.next=F,Oe.lanes|=ie,ss|=ie;L=L.next}while(L!==null&&L!==r);if(I===null?w=m:I.next=T,!In(m,i.memoizedState)&&(Ht=!0,W&&(a=ao,a!==null)))throw a;i.memoizedState=m,i.baseState=w,i.baseQueue=I,l.lastRenderedState=m}return h===null&&(l.lanes=0),[i.memoizedState,l.dispatch]}function xd(i){var r=St(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=i;var l=a.dispatch,h=a.pending,m=r.memoizedState;if(h!==null){a.pending=null;var w=h=h.next;do m=i(m,w.action),w=w.next;while(w!==h);In(m,r.memoizedState)||(Ht=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,l]}function Wy(i,r,a){var l=Oe,h=St(),m=$e;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=r();var w=!In((Je||h).memoizedState,a);if(w&&(h.memoizedState=a,Ht=!0),h=h.queue,Pd(ev.bind(null,l,h,i),[i]),h.getSnapshot!==r||w||At!==null&&At.memoizedState.tag&1){if(l.flags|=2048,uo(9,Jy.bind(null,l,h,a,r),{destroy:void 0},null),it===null)throw Error(s(349));m||Yr&60||Zy(l,r,a)}return a}function Zy(i,r,a){i.flags|=16384,i={getSnapshot:r,value:a},r=Oe.updateQueue,r===null?(r=Fc(),Oe.updateQueue=r,r.stores=[i]):(a=r.stores,a===null?r.stores=[i]:a.push(i))}function Jy(i,r,a,l){r.value=a,r.getSnapshot=l,tv(r)&&nv(i)}function ev(i,r,a){return a(function(){tv(r)&&nv(i)})}function tv(i){var r=i.getSnapshot;i=i.value;try{var a=r();return!In(i,a)}catch{return!0}}function nv(i){var r=$r(i,2);r!==null&&pn(r,i,2)}function kd(i){var r=En();if(typeof i=="function"){var a=i;if(i=a(),ia){mi(!0);try{a()}finally{mi(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:i},r}function iv(i,r,a,l){return i.baseState=a,Nd(i,Je,typeof l=="function"?l:tr)}function xS(i,r,a,l,h){if(Yc(i))throw Error(s(485));if(i=r.action,i!==null){var m={payload:h,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){m.listeners.push(w)}};S.T!==null?a(!0):m.isTransition=!1,l(m),a=r.pending,a===null?(m.next=r.pending=m,rv(r,m)):(m.next=a.next,r.pending=a.next=m)}}function rv(i,r){var a=r.action,l=r.payload,h=i.state;if(r.isTransition){var m=S.T,w={};S.T=w;try{var T=a(h,l),I=S.S;I!==null&&I(w,T),sv(i,r,T)}catch(L){Md(i,r,L)}finally{S.T=m}}else try{m=a(h,l),sv(i,r,m)}catch(L){Md(i,r,L)}}function sv(i,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){av(i,r,l)},function(l){return Md(i,r,l)}):av(i,r,a)}function av(i,r,a){r.status="fulfilled",r.value=a,ov(r),i.state=a,r=i.pending,r!==null&&(a=r.next,a===r?i.pending=null:(a=a.next,r.next=a,rv(i,a)))}function Md(i,r,a){var l=i.pending;if(i.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,ov(r),r=r.next;while(r!==l)}i.action=null}function ov(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function lv(i,r){return r}function uv(i,r){if($e){var a=it.formState;if(a!==null){e:{var l=Oe;if($e){if(Yt){t:{for(var h=Yt,m=Si;h.nodeType!==8;){if(!m){h=null;break t}if(h=ui(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){Yt=ui(h.nextSibling),l=h.data==="F!";break e}}ea(l)}l=!1}l&&(r=a[0])}}return a=En(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lv,lastRenderedState:r},a.queue=l,a=Cv.bind(null,Oe,l),l.dispatch=a,l=kd(!1),m=zd.bind(null,Oe,!1,l.queue),l=En(),h={state:r,dispatch:null,action:i,pending:null},l.queue=h,a=xS.bind(null,Oe,h,m,a),h.dispatch=a,l.memoizedState=i,[r,a,!1]}function cv(i){var r=St();return hv(r,Je,i)}function hv(i,r,a){r=Nd(i,r,lv)[0],i=$c(tr)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?zl(r):r;var l=St(),h=l.queue,m=h.dispatch;return a!==l.memoizedState&&(Oe.flags|=2048,uo(9,kS.bind(null,h,a),{destroy:void 0},null)),[r,m,i]}function kS(i,r){i.action=r}function fv(i){var r=St(),a=Je;if(a!==null)return hv(r,a,i);St(),r=r.memoizedState,a=St();var l=a.queue.dispatch;return a.memoizedState=i,[r,l,!1]}function uo(i,r,a,l){return i={tag:i,create:r,inst:a,deps:l,next:null},r=Oe.updateQueue,r===null&&(r=Fc(),Oe.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=i.next=i:(l=a.next,a.next=i,i.next=l,r.lastEffect=i),i}function dv(){return St().memoizedState}function Kc(i,r,a,l){var h=En();Oe.flags|=i,h.memoizedState=uo(1|r,a,{destroy:void 0},l===void 0?null:l)}function Qc(i,r,a,l){var h=St();l=l===void 0?null:l;var m=h.memoizedState.inst;Je!==null&&l!==null&&Sd(l,Je.memoizedState.deps)?h.memoizedState=uo(r,a,m,l):(Oe.flags|=i,h.memoizedState=uo(1|r,a,m,l))}function mv(i,r){Kc(8390656,8,i,r)}function Pd(i,r){Qc(2048,8,i,r)}function pv(i,r){return Qc(4,2,i,r)}function gv(i,r){return Qc(4,4,i,r)}function yv(i,r){if(typeof r=="function"){i=i();var a=r(i);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function vv(i,r,a){a=a!=null?a.concat([i]):null,Qc(4,4,yv.bind(null,r,i),a)}function Vd(){}function _v(i,r){var a=St();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Sd(r,l[1])?l[0]:(a.memoizedState=[i,r],i)}function wv(i,r){var a=St();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Sd(r,l[1]))return l[0];if(l=i(),ia){mi(!0);try{i()}finally{mi(!1)}}return a.memoizedState=[l,r],l}function Ld(i,r,a){return a===void 0||Yr&1073741824?i.memoizedState=r:(i.memoizedState=a,i=b_(),Oe.lanes|=i,ss|=i,a)}function Ev(i,r,a,l){return In(a,r)?a:ro.current!==null?(i=Ld(i,a,l),In(i,r)||(Ht=!0),i):Yr&42?(i=b_(),Oe.lanes|=i,ss|=i,r):(Ht=!0,i.memoizedState=a)}function bv(i,r,a,l,h){var m=ue.p;ue.p=m!==0&&8>m?m:8;var w=S.T,T={};S.T=T,zd(i,!1,r,a);try{var I=h(),L=S.S;if(L!==null&&L(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var W=DS(I,l);jl(i,r,W,xn(i))}else jl(i,r,l,xn(i))}catch(ie){jl(i,r,{then:function(){},status:"rejected",reason:ie},xn())}finally{ue.p=m,S.T=w}}function MS(){}function Ud(i,r,a,l){if(i.tag!==5)throw Error(s(476));var h=Tv(i).queue;bv(i,h,r,De,a===null?MS:function(){return Av(i),a(l)})}function Tv(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:De,baseState:De,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:De},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:a},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function Av(i){var r=Tv(i).next.queue;jl(i,r,{},xn())}function Bd(){return nn(ou)}function Sv(){return St().memoizedState}function Rv(){return St().memoizedState}function PS(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var a=xn();i=Jr(a);var l=es(r,i,a);l!==null&&(pn(l,r,a),Fl(l,r,a)),r={cache:bd()},i.payload=r;return}r=r.return}}function VS(i,r,a){var l=xn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Yc(i)?Iv(r,a):(a=pd(i,r,a,l),a!==null&&(pn(a,i,l),Dv(a,r,l)))}function Cv(i,r,a){var l=xn();jl(i,r,a,l)}function jl(i,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Yc(i))Iv(r,h);else{var m=i.alternate;if(i.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var w=r.lastRenderedState,T=m(w,a);if(h.hasEagerState=!0,h.eagerState=T,In(T,w))return xc(i,r,h,0),it===null&&Nc(),!1}catch{}finally{}if(a=pd(i,r,h,l),a!==null)return pn(a,i,l),Dv(a,r,l),!0}return!1}function zd(i,r,a,l){if(l={lane:2,revertLane:Dm(),action:l,hasEagerState:!1,eagerState:null,next:null},Yc(i)){if(r)throw Error(s(479))}else r=pd(i,a,l,2),r!==null&&pn(r,i,2)}function Yc(i){var r=i.alternate;return i===Oe||r!==null&&r===Oe}function Iv(i,r){oo=Hc=!0;var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}function Dv(i,r,a){if(a&4194176){var l=r.lanes;l&=i.pendingLanes,a|=l,r.lanes=a,Vr(i,a)}}var Ci={readContext:nn,use:Gc,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t};Ci.useCacheRefresh=_t,Ci.useMemoCache=_t,Ci.useHostTransitionStatus=_t,Ci.useFormState=_t,Ci.useActionState=_t,Ci.useOptimistic=_t;var ra={readContext:nn,use:Gc,useCallback:function(i,r){return En().memoizedState=[i,r===void 0?null:r],i},useContext:nn,useEffect:mv,useImperativeHandle:function(i,r,a){a=a!=null?a.concat([i]):null,Kc(4194308,4,yv.bind(null,r,i),a)},useLayoutEffect:function(i,r){return Kc(4194308,4,i,r)},useInsertionEffect:function(i,r){Kc(4,2,i,r)},useMemo:function(i,r){var a=En();r=r===void 0?null:r;var l=i();if(ia){mi(!0);try{i()}finally{mi(!1)}}return a.memoizedState=[l,r],l},useReducer:function(i,r,a){var l=En();if(a!==void 0){var h=a(r);if(ia){mi(!0);try{a(r)}finally{mi(!1)}}}else h=r;return l.memoizedState=l.baseState=h,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:h},l.queue=i,i=i.dispatch=VS.bind(null,Oe,i),[l.memoizedState,i]},useRef:function(i){var r=En();return i={current:i},r.memoizedState=i},useState:function(i){i=kd(i);var r=i.queue,a=Cv.bind(null,Oe,r);return r.dispatch=a,[i.memoizedState,a]},useDebugValue:Vd,useDeferredValue:function(i,r){var a=En();return Ld(a,i,r)},useTransition:function(){var i=kd(!1);return i=bv.bind(null,Oe,i.queue,!0,!1),En().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,a){var l=Oe,h=En();if($e){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),it===null)throw Error(s(349));ze&60||Zy(l,r,a)}h.memoizedState=a;var m={value:a,getSnapshot:r};return h.queue=m,mv(ev.bind(null,l,m,i),[i]),l.flags|=2048,uo(9,Jy.bind(null,l,m,a,r),{destroy:void 0},null),a},useId:function(){var i=En(),r=it.identifierPrefix;if($e){var a=Ji,l=Zi;a=(l&~(1<<32-hn(l)-1)).toString(32)+a,r=":"+r+"R"+a,a=qc++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=OS++,r=":"+r+"r"+a.toString(32)+":";return i.memoizedState=r},useCacheRefresh:function(){return En().memoizedState=PS.bind(null,Oe)}};ra.useMemoCache=Od,ra.useHostTransitionStatus=Bd,ra.useFormState=uv,ra.useActionState=uv,ra.useOptimistic=function(i){var r=En();r.memoizedState=r.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=zd.bind(null,Oe,!0,a),a.dispatch=r,[i,r]};var Xr={readContext:nn,use:Gc,useCallback:_v,useContext:nn,useEffect:Pd,useImperativeHandle:vv,useInsertionEffect:pv,useLayoutEffect:gv,useMemo:wv,useReducer:$c,useRef:dv,useState:function(){return $c(tr)},useDebugValue:Vd,useDeferredValue:function(i,r){var a=St();return Ev(a,Je.memoizedState,i,r)},useTransition:function(){var i=$c(tr)[0],r=St().memoizedState;return[typeof i=="boolean"?i:zl(i),r]},useSyncExternalStore:Wy,useId:Sv};Xr.useCacheRefresh=Rv,Xr.useMemoCache=Od,Xr.useHostTransitionStatus=Bd,Xr.useFormState=cv,Xr.useActionState=cv,Xr.useOptimistic=function(i,r){var a=St();return iv(a,Je,i,r)};var sa={readContext:nn,use:Gc,useCallback:_v,useContext:nn,useEffect:Pd,useImperativeHandle:vv,useInsertionEffect:pv,useLayoutEffect:gv,useMemo:wv,useReducer:xd,useRef:dv,useState:function(){return xd(tr)},useDebugValue:Vd,useDeferredValue:function(i,r){var a=St();return Je===null?Ld(a,i,r):Ev(a,Je.memoizedState,i,r)},useTransition:function(){var i=xd(tr)[0],r=St().memoizedState;return[typeof i=="boolean"?i:zl(i),r]},useSyncExternalStore:Wy,useId:Sv};sa.useCacheRefresh=Rv,sa.useMemoCache=Od,sa.useHostTransitionStatus=Bd,sa.useFormState=fv,sa.useActionState=fv,sa.useOptimistic=function(i,r){var a=St();return Je!==null?iv(a,Je,i,r):(a.baseState=i,[i,a.queue.dispatch])};function jd(i,r,a,l){r=i.memoizedState,a=a(l,r),a=a==null?r:O({},r,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var Hd={isMounted:function(i){return(i=i._reactInternals)?ge(i)===i:!1},enqueueSetState:function(i,r,a){i=i._reactInternals;var l=xn(),h=Jr(l);h.payload=r,a!=null&&(h.callback=a),r=es(i,h,l),r!==null&&(pn(r,i,l),Fl(r,i,l))},enqueueReplaceState:function(i,r,a){i=i._reactInternals;var l=xn(),h=Jr(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=es(i,h,l),r!==null&&(pn(r,i,l),Fl(r,i,l))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var a=xn(),l=Jr(a);l.tag=2,r!=null&&(l.callback=r),r=es(i,l,a),r!==null&&(pn(r,i,a),Fl(r,i,a))}};function Ov(i,r,a,l,h,m,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(l,m,w):r.prototype&&r.prototype.isPureReactComponent?!Il(a,l)||!Il(h,m):!0}function Nv(i,r,a,l){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==i&&Hd.enqueueReplaceState(r,r.state,null)}function aa(i,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(i=i.defaultProps){a===r&&(a=O({},a));for(var h in i)a[h]===void 0&&(a[h]=i[h])}return a}var Xc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function xv(i){Xc(i)}function kv(i){console.error(i)}function Mv(i){Xc(i)}function Wc(i,r){try{var a=i.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Pv(i,r,a){try{var l=i.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function qd(i,r,a){return a=Jr(a),a.tag=3,a.payload={element:null},a.callback=function(){Wc(i,r)},a}function Vv(i){return i=Jr(i),i.tag=3,i}function Lv(i,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var m=l.value;i.payload=function(){return h(m)},i.callback=function(){Pv(r,a,l)}}var w=a.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(i.callback=function(){Pv(r,a,l),typeof h!="function"&&(as===null?as=new Set([this]):as.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function LS(i,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&ql(r,a,h,!0),a=Xn.current,a!==null){switch(a.tag){case 13:return Ri===null?Am():a.alternate===null&&pt===0&&(pt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===_d?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Rm(i,l,h)),!1;case 22:return a.flags|=65536,l===_d?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Rm(i,l,h)),!1}throw Error(s(435,a.tag))}return Rm(i,l,h),Am(),!1}if($e)return r=Xn.current,r!==null?(!(r.flags&65536)&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==vd&&(i=Error(s(422),{cause:l}),xl(Kn(i,a)))):(l!==vd&&(r=Error(s(423),{cause:l}),xl(Kn(r,a))),i=i.current.alternate,i.flags|=65536,h&=-h,i.lanes|=h,l=Kn(l,a),h=qd(i.stateNode,l,h),rm(i,h),pt!==4&&(pt=2)),!1;var m=Error(s(520),{cause:l});if(m=Kn(m,a),Zl===null?Zl=[m]:Zl.push(m),pt!==4&&(pt=2),r===null)return!0;l=Kn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,i=h&-h,a.lanes|=i,i=qd(a.stateNode,l,i),rm(a,i),!1;case 1:if(r=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(as===null||!as.has(m))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Vv(h),Lv(h,i,a,l),rm(a,h),!1}a=a.return}while(a!==null);return!1}var Uv=Error(s(461)),Ht=!1;function Xt(i,r,a,l){r.child=i===null?qy(r,null,a,l):ta(r,i.child,a,l)}function Bv(i,r,a,l,h){a=a.render;var m=r.ref;if("ref"in l){var w={};for(var T in l)T!=="ref"&&(w[T]=l[T])}else w=l;return la(r),l=Rd(i,r,a,w,m,h),T=Cd(),i!==null&&!Ht?(Id(i,r,h),nr(i,r,h)):($e&&T&&gd(r),r.flags|=1,Xt(i,r,l,h),r.child)}function zv(i,r,a,l,h){if(i===null){var m=a.type;return typeof m=="function"&&!fm(m)&&m.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=m,jv(i,r,m,l,h)):(i=nh(a.type,null,l,r,r.mode,h),i.ref=r.ref,i.return=r,r.child=i)}if(m=i.child,!Zd(i,h)){var w=m.memoizedProps;if(a=a.compare,a=a!==null?a:Il,a(w,l)&&i.ref===r.ref)return nr(i,r,h)}return r.flags|=1,i=rs(m,l),i.ref=r.ref,i.return=r,r.child=i}function jv(i,r,a,l,h){if(i!==null){var m=i.memoizedProps;if(Il(m,l)&&i.ref===r.ref)if(Ht=!1,r.pendingProps=l=m,Zd(i,h))i.flags&131072&&(Ht=!0);else return r.lanes=i.lanes,nr(i,r,h)}return Fd(i,r,a,l,h)}function Hv(i,r,a){var l=r.pendingProps,h=l.children,m=(r.stateNode._pendingVisibility&2)!==0,w=i!==null?i.memoizedState:null;if(Hl(i,r),l.mode==="hidden"||m){if(r.flags&128){if(l=w!==null?w.baseLanes|a:a,i!==null){for(h=r.child=i.child,m=0;h!==null;)m=m|h.lanes|h.childLanes,h=h.sibling;r.childLanes=m&~l}else r.childLanes=0,r.child=null;return qv(i,r,l,a)}if(a&536870912)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&jc(r,w!==null?w.cachePool:null),w!==null?Fy(r,w):wd(),Gy(r);else return r.lanes=r.childLanes=536870912,qv(i,r,w!==null?w.baseLanes|a:a,a)}else w!==null?(jc(r,w.cachePool),Fy(r,w),Qr(),r.memoizedState=null):(i!==null&&jc(r,null),wd(),Qr());return Xt(i,r,h,a),r.child}function qv(i,r,a,l){var h=Ad();return h=h===null?null:{parent:Mt._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},i!==null&&jc(r,null),wd(),Gy(r),i!==null&&ql(i,r,l,!0),null}function Hl(i,r){var a=r.ref;if(a===null)i!==null&&i.ref!==null&&(r.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(i===null||i.ref!==a)&&(r.flags|=2097664)}}function Fd(i,r,a,l,h){return la(r),a=Rd(i,r,a,l,void 0,h),l=Cd(),i!==null&&!Ht?(Id(i,r,h),nr(i,r,h)):($e&&l&&gd(r),r.flags|=1,Xt(i,r,a,h),r.child)}function Fv(i,r,a,l,h,m){return la(r),r.updateQueue=null,a=Xy(r,l,a,h),Yy(i),l=Cd(),i!==null&&!Ht?(Id(i,r,m),nr(i,r,m)):($e&&l&&gd(r),r.flags|=1,Xt(i,r,a,m),r.child)}function Gv(i,r,a,l,h){if(la(r),r.stateNode===null){var m=eo,w=a.contextType;typeof w=="object"&&w!==null&&(m=nn(w)),m=new a(l,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Hd,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=l,m.state=r.memoizedState,m.refs={},nm(r),w=a.contextType,m.context=typeof w=="object"&&w!==null?nn(w):eo,m.state=r.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(jd(r,a,w,l),m.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(w=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),w!==m.state&&Hd.enqueueReplaceState(m,m.state,null),$l(r,l,m,h),Gl(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(i===null){m=r.stateNode;var T=r.memoizedProps,I=aa(a,T);m.props=I;var L=m.context,W=a.contextType;w=eo,typeof W=="object"&&W!==null&&(w=nn(W));var ie=a.getDerivedStateFromProps;W=typeof ie=="function"||typeof m.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,W||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T||L!==w)&&Nv(r,m,l,w),Zr=!1;var F=r.memoizedState;m.state=F,$l(r,l,m,h),Gl(),L=r.memoizedState,T||F!==L||Zr?(typeof ie=="function"&&(jd(r,a,ie,l),L=r.memoizedState),(I=Zr||Ov(r,a,I,l,F,L,w))?(W||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=L),m.props=l,m.state=L,m.context=w,l=I):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{m=r.stateNode,im(i,r),w=r.memoizedProps,W=aa(a,w),m.props=W,ie=r.pendingProps,F=m.context,L=a.contextType,I=eo,typeof L=="object"&&L!==null&&(I=nn(L)),T=a.getDerivedStateFromProps,(L=typeof T=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w!==ie||F!==I)&&Nv(r,m,l,I),Zr=!1,F=r.memoizedState,m.state=F,$l(r,l,m,h),Gl();var X=r.memoizedState;w!==ie||F!==X||Zr||i!==null&&i.dependencies!==null&&Zc(i.dependencies)?(typeof T=="function"&&(jd(r,a,T,l),X=r.memoizedState),(W=Zr||Ov(r,a,W,l,F,X,I)||i!==null&&i.dependencies!==null&&Zc(i.dependencies))?(L||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,X,I),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,X,I)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||w===i.memoizedProps&&F===i.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&F===i.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=X),m.props=l,m.state=X,m.context=I,l=W):(typeof m.componentDidUpdate!="function"||w===i.memoizedProps&&F===i.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&F===i.memoizedState||(r.flags|=1024),l=!1)}return m=l,Hl(i,r),l=(r.flags&128)!==0,m||l?(m=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,i!==null&&l?(r.child=ta(r,i.child,null,h),r.child=ta(r,null,a,h)):Xt(i,r,a,h),r.memoizedState=m.state,i=r.child):i=nr(i,r,h),i}function $v(i,r,a,l){return Nl(),r.flags|=256,Xt(i,r,a,l),r.child}var Gd={dehydrated:null,treeContext:null,retryLane:0};function $d(i){return{baseLanes:i,cachePool:Qy()}}function Kd(i,r,a){return i=i!==null?i.childLanes&~a:0,r&&(i|=ei),i}function Kv(i,r,a){var l=r.pendingProps,h=!1,m=(r.flags&128)!==0,w;if((w=m)||(w=i!==null&&i.memoizedState===null?!1:(kt.current&2)!==0),w&&(h=!0,r.flags&=-129),w=(r.flags&32)!==0,r.flags&=-33,i===null){if($e){if(h?Kr(r):Qr(),$e){var T=Yt,I;if(I=T){e:{for(I=T,T=Si;I.nodeType!==8;){if(!T){T=null;break e}if(I=ui(I.nextSibling),I===null){T=null;break e}}T=I}T!==null?(r.memoizedState={dehydrated:T,treeContext:Zs!==null?{id:Zi,overflow:Ji}:null,retryLane:536870912},I=Jn(18,null,null,0),I.stateNode=T,I.return=r,r.child=I,mn=r,Yt=null,I=!0):I=!1}I||ea(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?r.lanes=16:r.lanes=536870912,null;er(r)}return T=l.children,l=l.fallback,h?(Qr(),h=r.mode,T=Yd({mode:"hidden",children:T},h),l=ca(l,h,a,null),T.return=r,l.return=r,T.sibling=l,r.child=T,h=r.child,h.memoizedState=$d(a),h.childLanes=Kd(i,w,a),r.memoizedState=Gd,l):(Kr(r),Qd(r,T))}if(I=i.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(m)r.flags&256?(Kr(r),r.flags&=-257,r=Xd(i,r,a)):r.memoizedState!==null?(Qr(),r.child=i.child,r.flags|=128,r=null):(Qr(),h=l.fallback,T=r.mode,l=Yd({mode:"visible",children:l.children},T),h=ca(h,T,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,ta(r,i.child,null,a),l=r.child,l.memoizedState=$d(a),l.childLanes=Kd(i,w,a),r.memoizedState=Gd,r=h);else if(Kr(r),T.data==="$!"){if(w=T.nextSibling&&T.nextSibling.dataset,w)var L=w.dgst;w=L,l=Error(s(419)),l.stack="",l.digest=w,xl({value:l,source:null,stack:null}),r=Xd(i,r,a)}else if(Ht||ql(i,r,a,!1),w=(a&i.childLanes)!==0,Ht||w){if(w=it,w!==null){if(l=a&-a,l&42)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=l&(w.suspendedLanes|a)?0:l,l!==0&&l!==I.retryLane)throw I.retryLane=l,$r(i,l),pn(w,i,l),Uv}T.data==="$?"||Am(),r=Xd(i,r,a)}else T.data==="$?"?(r.flags|=128,r.child=i.child,r=ZS.bind(null,i),T._reactRetry=r,r=null):(i=I.treeContext,Yt=ui(T.nextSibling),mn=r,$e=!0,oi=null,Si=!1,i!==null&&(Qn[Yn++]=Zi,Qn[Yn++]=Ji,Qn[Yn++]=Zs,Zi=i.id,Ji=i.overflow,Zs=r),r=Qd(r,l.children),r.flags|=4096);return r}return h?(Qr(),h=l.fallback,T=r.mode,I=i.child,L=I.sibling,l=rs(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&31457280,L!==null?h=rs(L,h):(h=ca(h,T,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,T=i.child.memoizedState,T===null?T=$d(a):(I=T.cachePool,I!==null?(L=Mt._currentValue,I=I.parent!==L?{parent:L,pool:L}:I):I=Qy(),T={baseLanes:T.baseLanes|a,cachePool:I}),h.memoizedState=T,h.childLanes=Kd(i,w,a),r.memoizedState=Gd,l):(Kr(r),a=i.child,i=a.sibling,a=rs(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,i!==null&&(w=r.deletions,w===null?(r.deletions=[i],r.flags|=16):w.push(i)),r.child=a,r.memoizedState=null,a)}function Qd(i,r){return r=Yd({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Yd(i,r){return __(i,r,0,null)}function Xd(i,r,a){return ta(r,i.child,null,a),i=Qd(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function Qv(i,r,a){i.lanes|=r;var l=i.alternate;l!==null&&(l.lanes|=r),em(i.return,r,a)}function Wd(i,r,a,l,h){var m=i.memoizedState;m===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=h)}function Yv(i,r,a){var l=r.pendingProps,h=l.revealOrder,m=l.tail;if(Xt(i,r,l.children,a),l=kt.current,l&2)l=l&1|2,r.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Qv(i,a,r);else if(i.tag===19)Qv(i,a,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}l&=1}switch(Ze(kt,l),h){case"forwards":for(a=r.child,h=null;a!==null;)i=a.alternate,i!==null&&zc(i)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),Wd(r,!1,h,a,m);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(i=h.alternate,i!==null&&zc(i)===null){r.child=h;break}i=h.sibling,h.sibling=a,a=h,h=i}Wd(r,!0,a,null,m);break;case"together":Wd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function nr(i,r,a){if(i!==null&&(r.dependencies=i.dependencies),ss|=r.lanes,!(a&r.childLanes))if(i!==null){if(ql(i,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,a=rs(i,i.pendingProps),r.child=a,a.return=r;i.sibling!==null;)i=i.sibling,a=a.sibling=rs(i,i.pendingProps),a.return=r;a.sibling=null}return r.child}function Zd(i,r){return i.lanes&r?!0:(i=i.dependencies,!!(i!==null&&Zc(i)))}function US(i,r,a){switch(r.tag){case 3:Or(r,r.stateNode.containerInfo),Wr(r,Mt,i.memoizedState.cache),Nl();break;case 27:case 5:ol(r);break;case 4:Or(r,r.stateNode.containerInfo);break;case 10:Wr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Kr(r),r.flags|=128,null):a&r.child.childLanes?Kv(i,r,a):(Kr(r),i=nr(i,r,a),i!==null?i.sibling:null);Kr(r);break;case 19:var h=(i.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(ql(i,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return Yv(i,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Ze(kt,kt.current),l)break;return null;case 22:case 23:return r.lanes=0,Hv(i,r,a);case 24:Wr(r,Mt,i.memoizedState.cache)}return nr(i,r,a)}function Xv(i,r,a){if(i!==null)if(i.memoizedProps!==r.pendingProps)Ht=!0;else{if(!Zd(i,a)&&!(r.flags&128))return Ht=!1,US(i,r,a);Ht=!!(i.flags&131072)}else Ht=!1,$e&&r.flags&1048576&&My(r,Pc,r.index);switch(r.lanes=0,r.tag){case 16:e:{i=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")fm(l)?(i=aa(l,i),r.tag=1,r=Gv(null,r,l,i,a)):(r.tag=0,r=Fd(null,r,l,i,a));else{if(l!=null){if(h=l.$$typeof,h===D){r.tag=11,r=Bv(null,r,l,i,a);break e}else if(h===Y){r.tag=14,r=zv(null,r,l,i,a);break e}}throw r=R(l)||l,Error(s(306,r,""))}}return r;case 0:return Fd(i,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=aa(l,r.pendingProps),Gv(i,r,l,h,a);case 3:e:{if(Or(r,r.stateNode.containerInfo),i===null)throw Error(s(387));var m=r.pendingProps;h=r.memoizedState,l=h.element,im(i,r),$l(r,m,null,a);var w=r.memoizedState;if(m=w.cache,Wr(r,Mt,m),m!==h.cache&&tm(r,[Mt],a,!0),Gl(),m=w.element,h.isDehydrated)if(h={element:m,isDehydrated:!1,cache:w.cache},r.updateQueue.baseState=h,r.memoizedState=h,r.flags&256){r=$v(i,r,m,a);break e}else if(m!==l){l=Kn(Error(s(424)),r),xl(l),r=$v(i,r,m,a);break e}else for(Yt=ui(r.stateNode.containerInfo.firstChild),mn=r,$e=!0,oi=null,Si=!0,a=qy(r,null,m,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Nl(),m===l){r=nr(i,r,a);break e}Xt(i,r,m,a)}r=r.child}return r;case 26:return Hl(i,r),i===null?(a=J_(r.type,null,r.pendingProps,null))?r.memoizedState=a:$e||(a=r.type,i=r.pendingProps,l=mh(Bn.current).createElement(a),l[Bt]=r,l[Ot]=i,Wt(l,a,i),ot(l),r.stateNode=l):r.memoizedState=J_(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return ol(r),i===null&&$e&&(l=r.stateNode=X_(r.type,r.pendingProps,Bn.current),mn=r,Si=!0,Yt=ui(l.firstChild)),l=r.pendingProps.children,i!==null||$e?Xt(i,r,l,a):r.child=ta(r,null,l,a),Hl(i,r),r.child;case 5:return i===null&&$e&&((h=l=Yt)&&(l=m2(l,r.type,r.pendingProps,Si),l!==null?(r.stateNode=l,mn=r,Yt=ui(l.firstChild),Si=!1,h=!0):h=!1),h||ea(r)),ol(r),h=r.type,m=r.pendingProps,w=i!==null?i.memoizedProps:null,l=m.children,Um(h,m)?l=null:w!==null&&Um(h,w)&&(r.flags|=32),r.memoizedState!==null&&(h=Rd(i,r,NS,null,null,a),ou._currentValue=h),Hl(i,r),Xt(i,r,l,a),r.child;case 6:return i===null&&$e&&((i=a=Yt)&&(a=p2(a,r.pendingProps,Si),a!==null?(r.stateNode=a,mn=r,Yt=null,i=!0):i=!1),i||ea(r)),null;case 13:return Kv(i,r,a);case 4:return Or(r,r.stateNode.containerInfo),l=r.pendingProps,i===null?r.child=ta(r,null,l,a):Xt(i,r,l,a),r.child;case 11:return Bv(i,r,r.type,r.pendingProps,a);case 7:return Xt(i,r,r.pendingProps,a),r.child;case 8:return Xt(i,r,r.pendingProps.children,a),r.child;case 12:return Xt(i,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Wr(r,r.type,l.value),Xt(i,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,la(r),h=nn(h),l=l(h),r.flags|=1,Xt(i,r,l,a),r.child;case 14:return zv(i,r,r.type,r.pendingProps,a);case 15:return jv(i,r,r.type,r.pendingProps,a);case 19:return Yv(i,r,a);case 22:return Hv(i,r,a);case 24:return la(r),l=nn(Mt),i===null?(h=Ad(),h===null&&(h=it,m=bd(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=a),h=m),r.memoizedState={parent:l,cache:h},nm(r),Wr(r,Mt,h)):(i.lanes&a&&(im(i,r),$l(r,null,null,a),Gl()),h=i.memoizedState,m=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Wr(r,Mt,l)):(l=m.cache,Wr(r,Mt,l),l!==h.cache&&tm(r,[Mt],a,!0))),Xt(i,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}var Jd=Fe(null),oa=null,ir=null;function Wr(i,r,a){Ze(Jd,r._currentValue),r._currentValue=a}function rr(i){i._currentValue=Jd.current,ft(Jd)}function em(i,r,a){for(;i!==null;){var l=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),i===a)break;i=i.return}}function tm(i,r,a,l){var h=i.child;for(h!==null&&(h.return=i);h!==null;){var m=h.dependencies;if(m!==null){var w=h.child;m=m.firstContext;e:for(;m!==null;){var T=m;m=h;for(var I=0;I<r.length;I++)if(T.context===r[I]){m.lanes|=a,T=m.alternate,T!==null&&(T.lanes|=a),em(m.return,a,i),l||(w=null);break e}m=T.next}}else if(h.tag===18){if(w=h.return,w===null)throw Error(s(341));w.lanes|=a,m=w.alternate,m!==null&&(m.lanes|=a),em(w,a,i),w=null}else w=h.child;if(w!==null)w.return=h;else for(w=h;w!==null;){if(w===i){w=null;break}if(h=w.sibling,h!==null){h.return=w.return,w=h;break}w=w.return}h=w}}function ql(i,r,a,l){i=null;for(var h=r,m=!1;h!==null;){if(!m){if(h.flags&524288)m=!0;else if(h.flags&262144)break}if(h.tag===10){var w=h.alternate;if(w===null)throw Error(s(387));if(w=w.memoizedProps,w!==null){var T=h.type;In(h.pendingProps.value,w.value)||(i!==null?i.push(T):i=[T])}}else if(h===Dr.current){if(w=h.alternate,w===null)throw Error(s(387));w.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(i!==null?i.push(ou):i=[ou])}h=h.return}i!==null&&tm(r,i,a,l),r.flags|=262144}function Zc(i){for(i=i.firstContext;i!==null;){if(!In(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function la(i){oa=i,ir=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function nn(i){return Wv(oa,i)}function Jc(i,r){return oa===null&&la(i),Wv(i,r)}function Wv(i,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},ir===null){if(i===null)throw Error(s(308));ir=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else ir=ir.next=r;return a}var Zr=!1;function nm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function im(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Jr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function es(i,r,a){var l=i.updateQueue;if(l===null)return null;if(l=l.shared,ut&2){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=kc(i),xy(i,null,a),r}return xc(i,l,r,a),kc(i)}function Fl(i,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194176)!==0)){var l=r.lanes;l&=i.pendingLanes,a|=l,r.lanes=a,Vr(i,a)}}function rm(i,r){var a=i.updateQueue,l=i.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var w={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?h=m=w:m=m.next=w,a=a.next}while(a!==null);m===null?h=m=r:m=m.next=r}else h=m=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=r:i.next=r,a.lastBaseUpdate=r}var sm=!1;function Gl(){if(sm){var i=ao;if(i!==null)throw i}}function $l(i,r,a,l){sm=!1;var h=i.updateQueue;Zr=!1;var m=h.firstBaseUpdate,w=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,L=I.next;I.next=null,w===null?m=L:w.next=L,w=I;var W=i.alternate;W!==null&&(W=W.updateQueue,T=W.lastBaseUpdate,T!==w&&(T===null?W.firstBaseUpdate=L:T.next=L,W.lastBaseUpdate=I))}if(m!==null){var ie=h.baseState;w=0,W=L=I=null,T=m;do{var F=T.lane&-536870913,X=F!==T.lane;if(X?(ze&F)===F:(l&F)===F){F!==0&&F===so&&(sm=!0),W!==null&&(W=W.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var pe=i,Se=T;F=r;var gt=a;switch(Se.tag){case 1:if(pe=Se.payload,typeof pe=="function"){ie=pe.call(gt,ie,F);break e}ie=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=Se.payload,F=typeof pe=="function"?pe.call(gt,ie,F):pe,F==null)break e;ie=O({},ie,F);break e;case 2:Zr=!0}}F=T.callback,F!==null&&(i.flags|=64,X&&(i.flags|=8192),X=h.callbacks,X===null?h.callbacks=[F]:X.push(F))}else X={lane:F,tag:T.tag,payload:T.payload,callback:T.callback,next:null},W===null?(L=W=X,I=ie):W=W.next=X,w|=F;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;X=T,T=X.next,X.next=null,h.lastBaseUpdate=X,h.shared.pending=null}}while(!0);W===null&&(I=ie),h.baseState=I,h.firstBaseUpdate=L,h.lastBaseUpdate=W,m===null&&(h.shared.lanes=0),ss|=w,i.lanes=w,i.memoizedState=ie}}function Zv(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function Jv(i,r){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)Zv(a[i],r)}function Kl(i,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&i)===i){l=void 0;var m=a.create,w=a.inst;l=m(),w.destroy=l}a=a.next}while(a!==h)}}catch(T){nt(r,r.return,T)}}function ts(i,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var m=h.next;l=m;do{if((l.tag&i)===i){var w=l.inst,T=w.destroy;if(T!==void 0){w.destroy=void 0,h=r;var I=a;try{T()}catch(L){nt(h,I,L)}}}l=l.next}while(l!==m)}}catch(L){nt(r,r.return,L)}}function e_(i){var r=i.updateQueue;if(r!==null){var a=i.stateNode;try{Jv(r,a)}catch(l){nt(i,i.return,l)}}}function t_(i,r,a){a.props=aa(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(l){nt(i,r,l)}}function ua(i,r){try{var a=i.ref;if(a!==null){var l=i.stateNode;switch(i.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof a=="function"?i.refCleanup=a(h):a.current=h}}catch(m){nt(i,r,m)}}function Dn(i,r){var a=i.ref,l=i.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){nt(i,r,h)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){nt(i,r,h)}else a.current=null}function n_(i){var r=i.type,a=i.memoizedProps,l=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){nt(i,i.return,h)}}function i_(i,r,a){try{var l=i.stateNode;u2(l,i.type,a,r),l[Ot]=r}catch(h){nt(i,i.return,h)}}function r_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function am(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||r_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function om(i,r,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(i,r):a.insertBefore(i,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(i,a)):(r=a,r.appendChild(i)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=dh));else if(l!==4&&l!==27&&(i=i.child,i!==null))for(om(i,r,a),i=i.sibling;i!==null;)om(i,r,a),i=i.sibling}function eh(i,r,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,r?a.insertBefore(i,r):a.appendChild(i);else if(l!==4&&l!==27&&(i=i.child,i!==null))for(eh(i,r,a),i=i.sibling;i!==null;)eh(i,r,a),i=i.sibling}var sr=!1,mt=!1,lm=!1,s_=typeof WeakSet=="function"?WeakSet:Set,qt=null,a_=!1;function BS(i,r){if(i=i.containerInfo,Vm=wh,i=Ty(i),cd(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else e:{a=(a=i.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var w=0,T=-1,I=-1,L=0,W=0,ie=i,F=null;t:for(;;){for(var X;ie!==a||h!==0&&ie.nodeType!==3||(T=w+h),ie!==m||l!==0&&ie.nodeType!==3||(I=w+l),ie.nodeType===3&&(w+=ie.nodeValue.length),(X=ie.firstChild)!==null;)F=ie,ie=X;for(;;){if(ie===i)break t;if(F===a&&++L===h&&(T=w),F===m&&++W===l&&(I=w),(X=ie.nextSibling)!==null)break;ie=F,F=ie.parentNode}ie=X}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Lm={focusedElem:i,selectionRange:a},wh=!1,qt=r;qt!==null;)if(r=qt,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,qt=i;else for(;qt!==null;){switch(r=qt,m=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if(i&1024&&m!==null){i=void 0,a=r,h=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var pe=aa(a.type,h,a.elementType===a.type);i=l.getSnapshotBeforeUpdate(pe,m),l.__reactInternalSnapshotBeforeUpdate=i}catch(Se){nt(a,a.return,Se)}}break;case 3:if(i&1024){if(i=r.stateNode.containerInfo,a=i.nodeType,a===9)jm(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":jm(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(i&1024)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,qt=i;break}qt=r.return}return pe=a_,a_=!1,pe}function o_(i,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:or(i,a),l&4&&Kl(5,a);break;case 1:if(or(i,a),l&4)if(i=a.stateNode,r===null)try{i.componentDidMount()}catch(T){nt(a,a.return,T)}else{var h=aa(a.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(h,r,i.__reactInternalSnapshotBeforeUpdate)}catch(T){nt(a,a.return,T)}}l&64&&e_(a),l&512&&ua(a,a.return);break;case 3:if(or(i,a),l&64&&(l=a.updateQueue,l!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Jv(l,i)}catch(T){nt(a,a.return,T)}}break;case 26:or(i,a),l&512&&ua(a,a.return);break;case 27:case 5:or(i,a),r===null&&l&4&&n_(a),l&512&&ua(a,a.return);break;case 12:or(i,a);break;case 13:or(i,a),l&4&&c_(i,a);break;case 22:if(h=a.memoizedState!==null||sr,!h){r=r!==null&&r.memoizedState!==null||mt;var m=sr,w=mt;sr=h,(mt=r)&&!w?ns(i,a,(a.subtreeFlags&8772)!==0):or(i,a),sr=m,mt=w}l&512&&(a.memoizedProps.mode==="manual"?ua(a,a.return):Dn(a,a.return));break;default:or(i,a)}}function l_(i){var r=i.alternate;r!==null&&(i.alternate=null,l_(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Bs(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Rt=null,On=!1;function ar(i,r,a){for(a=a.child;a!==null;)u_(i,r,a),a=a.sibling}function u_(i,r,a){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(Nr,a)}catch{}switch(a.tag){case 26:mt||Dn(a,r),ar(i,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:mt||Dn(a,r);var l=Rt,h=On;for(Rt=a.stateNode,ar(i,r,a),a=a.stateNode,r=a.attributes;r.length;)a.removeAttributeNode(r[0]);Bs(a),Rt=l,On=h;break;case 5:mt||Dn(a,r);case 6:h=Rt;var m=On;if(Rt=null,ar(i,r,a),Rt=h,On=m,Rt!==null)if(On)try{i=Rt,l=a.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)}catch(w){nt(a,r,w)}else try{Rt.removeChild(a.stateNode)}catch(w){nt(a,r,w)}break;case 18:Rt!==null&&(On?(r=Rt,a=a.stateNode,r.nodeType===8?zm(r.parentNode,a):r.nodeType===1&&zm(r,a),hu(r)):zm(Rt,a.stateNode));break;case 4:l=Rt,h=On,Rt=a.stateNode.containerInfo,On=!0,ar(i,r,a),Rt=l,On=h;break;case 0:case 11:case 14:case 15:mt||ts(2,a,r),mt||ts(4,a,r),ar(i,r,a);break;case 1:mt||(Dn(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&t_(a,r,l)),ar(i,r,a);break;case 21:ar(i,r,a);break;case 22:mt||Dn(a,r),mt=(l=mt)||a.memoizedState!==null,ar(i,r,a),mt=l;break;default:ar(i,r,a)}}function c_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{hu(i)}catch(a){nt(r,r.return,a)}}function zS(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new s_),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new s_),r;default:throw Error(s(435,i.tag))}}function um(i,r){var a=zS(i);r.forEach(function(l){var h=JS.bind(null,i,l);a.has(l)||(a.add(l),l.then(h,h))})}function Wn(i,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],m=i,w=r,T=w;e:for(;T!==null;){switch(T.tag){case 27:case 5:Rt=T.stateNode,On=!1;break e;case 3:Rt=T.stateNode.containerInfo,On=!0;break e;case 4:Rt=T.stateNode.containerInfo,On=!0;break e}T=T.return}if(Rt===null)throw Error(s(160));u_(m,w,h),Rt=null,On=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)h_(r,i),r=r.sibling}var li=null;function h_(i,r){var a=i.alternate,l=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Wn(r,i),Zn(i),l&4&&(ts(3,i,i.return),Kl(3,i),ts(5,i,i.return));break;case 1:Wn(r,i),Zn(i),l&512&&(mt||a===null||Dn(a,a.return)),l&64&&sr&&(i=i.updateQueue,i!==null&&(l=i.callbacks,l!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=li;if(Wn(r,i),Zn(i),l&512&&(mt||a===null||Dn(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=i.memoizedState,a===null)if(l===null)if(i.stateNode===null){e:{l=i.type,a=i.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":m=h.getElementsByTagName("title")[0],(!m||m[Ur]||m[Bt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(l),h.head.insertBefore(m,h.querySelector("head > title"))),Wt(m,l,a),m[Bt]=i,ot(m),l=m;break e;case"link":var w=nw("link","href",h).get(l+(a.href||""));if(w){for(var T=0;T<w.length;T++)if(m=w[T],m.getAttribute("href")===(a.href==null?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){w.splice(T,1);break t}}m=h.createElement(l),Wt(m,l,a),h.head.appendChild(m);break;case"meta":if(w=nw("meta","content",h).get(l+(a.content||""))){for(T=0;T<w.length;T++)if(m=w[T],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){w.splice(T,1);break t}}m=h.createElement(l),Wt(m,l,a),h.head.appendChild(m);break;default:throw Error(s(468,l))}m[Bt]=i,ot(m),l=m}i.stateNode=l}else iw(h,i.type,i.stateNode);else i.stateNode=tw(h,l,i.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?iw(h,i.type,i.stateNode):tw(h,l,i.memoizedProps)):l===null&&i.stateNode!==null&&i_(i,i.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&i.alternate===null){h=i.stateNode,m=i.memoizedProps;try{for(var I=h.firstChild;I;){var L=I.nextSibling,W=I.nodeName;I[Ur]||W==="HEAD"||W==="BODY"||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&I.rel.toLowerCase()==="stylesheet"||h.removeChild(I),I=L}for(var ie=i.type,F=h.attributes;F.length;)h.removeAttributeNode(F[0]);Wt(h,ie,m),h[Bt]=i,h[Ot]=m}catch(pe){nt(i,i.return,pe)}}case 5:if(Wn(r,i),Zn(i),l&512&&(mt||a===null||Dn(a,a.return)),i.flags&32){h=i.stateNode;try{Hn(h,"")}catch(pe){nt(i,i.return,pe)}}l&4&&i.stateNode!=null&&(h=i.memoizedProps,i_(i,h,a!==null?a.memoizedProps:h)),l&1024&&(lm=!0);break;case 6:if(Wn(r,i),Zn(i),l&4){if(i.stateNode===null)throw Error(s(162));l=i.memoizedProps,a=i.stateNode;try{a.nodeValue=l}catch(pe){nt(i,i.return,pe)}}break;case 3:if(yh=null,h=li,li=ph(r.containerInfo),Wn(r,i),li=h,Zn(i),l&4&&a!==null&&a.memoizedState.isDehydrated)try{hu(r.containerInfo)}catch(pe){nt(i,i.return,pe)}lm&&(lm=!1,f_(i));break;case 4:l=li,li=ph(i.stateNode.containerInfo),Wn(r,i),Zn(i),li=l;break;case 12:Wn(r,i),Zn(i);break;case 13:Wn(r,i),Zn(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(vm=_n()),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,um(i,l)));break;case 22:if(l&512&&(mt||a===null||Dn(a,a.return)),I=i.memoizedState!==null,L=a!==null&&a.memoizedState!==null,W=sr,ie=mt,sr=W||I,mt=ie||L,Wn(r,i),mt=ie,sr=W,Zn(i),r=i.stateNode,r._current=i,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,l&8192&&(r._visibility=I?r._visibility&-2:r._visibility|1,I&&(r=sr||mt,a===null||L||r||co(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))e:for(a=null,r=i;;){if(r.tag===5||r.tag===26||r.tag===27){if(a===null){L=a=r;try{if(h=L.stateNode,I)m=h.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{w=L.stateNode,T=L.memoizedProps.style;var X=T!=null&&T.hasOwnProperty("display")?T.display:null;w.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(pe){nt(L,L.return,pe)}}}else if(r.tag===6){if(a===null){L=r;try{L.stateNode.nodeValue=I?"":L.memoizedProps}catch(pe){nt(L,L.return,pe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=i.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,um(i,a))));break;case 19:Wn(r,i),Zn(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,um(i,l)));break;case 21:break;default:Wn(r,i),Zn(i)}}function Zn(i){var r=i.flags;if(r&2){try{if(i.tag!==27){e:{for(var a=i.return;a!==null;){if(r_(a)){var l=a;break e}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,m=am(i);eh(i,m,h);break;case 5:var w=l.stateNode;l.flags&32&&(Hn(w,""),l.flags&=-33);var T=am(i);eh(i,T,w);break;case 3:case 4:var I=l.stateNode.containerInfo,L=am(i);om(i,L,I);break;default:throw Error(s(161))}}}catch(W){nt(i,i.return,W)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function f_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;f_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function or(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)o_(i,r.alternate,r),r=r.sibling}function co(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:ts(4,r,r.return),co(r);break;case 1:Dn(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&t_(r,r.return,a),co(r);break;case 26:case 27:case 5:Dn(r,r.return),co(r);break;case 22:Dn(r,r.return),r.memoizedState===null&&co(r);break;default:co(r)}i=i.sibling}}function ns(i,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=i,m=r,w=m.flags;switch(m.tag){case 0:case 11:case 15:ns(h,m,a),Kl(4,m);break;case 1:if(ns(h,m,a),l=m,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){nt(l,l.return,L)}if(l=m,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Zv(I[h],T)}catch(L){nt(l,l.return,L)}}a&&w&64&&e_(m),ua(m,m.return);break;case 26:case 27:case 5:ns(h,m,a),a&&l===null&&w&4&&n_(m),ua(m,m.return);break;case 12:ns(h,m,a);break;case 13:ns(h,m,a),a&&w&4&&c_(h,m);break;case 22:m.memoizedState===null&&ns(h,m,a),ua(m,m.return);break;default:ns(h,m,a)}r=r.sibling}}function cm(i,r){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&Ll(a))}function hm(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Ll(i))}function is(i,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)d_(i,r,a,l),r=r.sibling}function d_(i,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:is(i,r,a,l),h&2048&&Kl(9,r);break;case 3:is(i,r,a,l),h&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Ll(i)));break;case 12:if(h&2048){is(i,r,a,l),i=r.stateNode;try{var m=r.memoizedProps,w=m.id,T=m.onPostCommit;typeof T=="function"&&T(w,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(I){nt(r,r.return,I)}}else is(i,r,a,l);break;case 23:break;case 22:m=r.stateNode,r.memoizedState!==null?m._visibility&4?is(i,r,a,l):Ql(i,r):m._visibility&4?is(i,r,a,l):(m._visibility|=4,ho(i,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&cm(r.alternate,r);break;case 24:is(i,r,a,l),h&2048&&hm(r.alternate,r);break;default:is(i,r,a,l)}}function ho(i,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var m=i,w=r,T=a,I=l,L=w.flags;switch(w.tag){case 0:case 11:case 15:ho(m,w,T,I,h),Kl(8,w);break;case 23:break;case 22:var W=w.stateNode;w.memoizedState!==null?W._visibility&4?ho(m,w,T,I,h):Ql(m,w):(W._visibility|=4,ho(m,w,T,I,h)),h&&L&2048&&cm(w.alternate,w);break;case 24:ho(m,w,T,I,h),h&&L&2048&&hm(w.alternate,w);break;default:ho(m,w,T,I,h)}r=r.sibling}}function Ql(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=i,l=r,h=l.flags;switch(l.tag){case 22:Ql(a,l),h&2048&&cm(l.alternate,l);break;case 24:Ql(a,l),h&2048&&hm(l.alternate,l);break;default:Ql(a,l)}r=r.sibling}}var Yl=8192;function fo(i){if(i.subtreeFlags&Yl)for(i=i.child;i!==null;)m_(i),i=i.sibling}function m_(i){switch(i.tag){case 26:fo(i),i.flags&Yl&&i.memoizedState!==null&&I2(li,i.memoizedState,i.memoizedProps);break;case 5:fo(i);break;case 3:case 4:var r=li;li=ph(i.stateNode.containerInfo),fo(i),li=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=Yl,Yl=16777216,fo(i),Yl=r):fo(i));break;default:fo(i)}}function p_(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Xl(i){var r=i.deletions;if(i.flags&16){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];qt=l,y_(l,i)}p_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)g_(i),i=i.sibling}function g_(i){switch(i.tag){case 0:case 11:case 15:Xl(i),i.flags&2048&&ts(9,i,i.return);break;case 3:Xl(i);break;case 12:Xl(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&4&&(i.return===null||i.return.tag!==13)?(r._visibility&=-5,th(i)):Xl(i);break;default:Xl(i)}}function th(i){var r=i.deletions;if(i.flags&16){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];qt=l,y_(l,i)}p_(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:ts(8,r,r.return),th(r);break;case 22:a=r.stateNode,a._visibility&4&&(a._visibility&=-5,th(r));break;default:th(r)}i=i.sibling}}function y_(i,r){for(;qt!==null;){var a=qt;switch(a.tag){case 0:case 11:case 15:ts(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ll(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,qt=l;else e:for(a=i;qt!==null;){l=qt;var h=l.sibling,m=l.return;if(l_(l),l===a){qt=null;break e}if(h!==null){h.return=m,qt=h;break e}qt=m}}}function jS(i,r,a,l){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(i,r,a,l){return new jS(i,r,a,l)}function fm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function rs(i,r){var a=i.alternate;return a===null?(a=Jn(i.tag,r,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=r,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&31457280,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,r=i.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function v_(i,r){i.flags&=31457282;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,r=a.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function nh(i,r,a,l,h,m){var w=0;if(l=i,typeof i=="function")fm(i)&&(w=1);else if(typeof i=="string")w=R2(i,a,cn.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case d:return ca(a.children,h,m,r);case g:w=8,h|=24;break;case v:return i=Jn(12,a,r,h|2),i.elementType=v,i.lanes=m,i;case U:return i=Jn(13,a,r,h),i.elementType=U,i.lanes=m,i;case P:return i=Jn(19,a,r,h),i.elementType=P,i.lanes=m,i;case K:return __(a,h,m,r);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case E:case C:w=10;break e;case b:w=9;break e;case D:w=11;break e;case Y:w=14;break e;case ne:w=16,l=null;break e}w=29,a=Error(s(130,i===null?"null":typeof i,"")),l=null}return r=Jn(w,a,r,h),r.elementType=i,r.type=l,r.lanes=m,r}function ca(i,r,a,l){return i=Jn(7,i,l,r),i.lanes=a,i}function __(i,r,a,l){i=Jn(22,i,l,r),i.elementType=K,i.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var m=h._current;if(m===null)throw Error(s(456));if(!(h._pendingVisibility&2)){var w=$r(m,2);w!==null&&(h._pendingVisibility|=2,pn(w,m,2))}},attach:function(){var m=h._current;if(m===null)throw Error(s(456));if(h._pendingVisibility&2){var w=$r(m,2);w!==null&&(h._pendingVisibility&=-3,pn(w,m,2))}}};return i.stateNode=h,i}function dm(i,r,a){return i=Jn(6,i,null,r),i.lanes=a,i}function mm(i,r,a){return r=Jn(4,i.children!==null?i.children:[],i.key,r),r.lanes=a,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}function lr(i){i.flags|=4}function w_(i,r){if(r.type!=="stylesheet"||r.state.loading&4)i.flags&=-16777217;else if(i.flags|=16777216,!rw(r)){if(r=Xn.current,r!==null&&((ze&4194176)===ze?Ri!==null:(ze&62914560)!==ze&&!(ze&536870912)||r!==Ri))throw Ml=_d,Ly;i.flags|=8192}}function ih(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Mr():536870912,i.lanes|=r,po|=r)}function Wl(i,r){if(!$e)switch(i.tailMode){case"hidden":r=i.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:l.sibling=null}}function lt(i){var r=i.alternate!==null&&i.alternate.child===i.child,a=0,l=0;if(r)for(var h=i.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=i,h=h.sibling;else for(h=i.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=i,h=h.sibling;return i.subtreeFlags|=l,i.childLanes=a,r}function HS(i,r,a){var l=r.pendingProps;switch(yd(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(r),null;case 1:return lt(r),null;case 3:return a=r.stateNode,l=null,i!==null&&(l=i.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),rr(Mt),ji(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(Ol(r)?lr(r):i===null||i.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,oi!==null&&(bm(oi),oi=null))),lt(r),null;case 26:return a=r.memoizedState,i===null?(lr(r),a!==null?(lt(r),w_(r,a)):(lt(r),r.flags&=-16777217)):a?a!==i.memoizedState?(lr(r),lt(r),w_(r,a)):(lt(r),r.flags&=-16777217):(i.memoizedProps!==l&&lr(r),lt(r),r.flags&=-16777217),null;case 27:ka(r),a=Bn.current;var h=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==l&&lr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return lt(r),null}i=cn.current,Ol(r)?Py(r):(i=X_(h,l,a),r.stateNode=i,lr(r))}return lt(r),null;case 5:if(ka(r),a=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==l&&lr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return lt(r),null}if(i=cn.current,Ol(r))Py(r);else{switch(h=mh(Bn.current),i){case 1:i=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":i=h.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?i.multiple=!0:l.size&&(i.size=l.size);break;default:i=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}i[Bt]=r,i[Ot]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)i.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=i;e:switch(Wt(i,a,l),a){case"button":case"input":case"select":case"textarea":i=!!l.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&lr(r)}}return lt(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==l&&lr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(i=Bn.current,Ol(r)){if(i=r.stateNode,a=r.memoizedProps,l=null,h=mn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}i[Bt]=r,i=!!(i.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||F_(i.nodeValue,a)),i||ea(r)}else i=mh(i).createTextNode(l),i[Bt]=r,r.stateNode=i}return lt(r),null;case 13:if(l=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(h=Ol(r),l!==null&&l.dehydrated!==null){if(i===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Bt]=r}else Nl(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;lt(r),h=!1}else oi!==null&&(bm(oi),oi=null),h=!0;if(!h)return r.flags&256?(er(r),r):(er(r),null)}if(er(r),r.flags&128)return r.lanes=a,r;if(a=l!==null,i=i!==null&&i.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==h&&(l.flags|=2048)}return a!==i&&a&&(r.child.flags|=8192),ih(r,r.updateQueue),lt(r),null;case 4:return ji(),i===null&&km(r.stateNode.containerInfo),lt(r),null;case 10:return rr(r.type),lt(r),null;case 19:if(ft(kt),h=r.memoizedState,h===null)return lt(r),null;if(l=(r.flags&128)!==0,m=h.rendering,m===null)if(l)Wl(h,!1);else{if(pt!==0||i!==null&&i.flags&128)for(i=r.child;i!==null;){if(m=zc(i),m!==null){for(r.flags|=128,Wl(h,!1),i=m.updateQueue,r.updateQueue=i,ih(r,i),r.subtreeFlags=0,i=a,a=r.child;a!==null;)v_(a,i),a=a.sibling;return Ze(kt,kt.current&1|2),r.child}i=i.sibling}h.tail!==null&&_n()>rh&&(r.flags|=128,l=!0,Wl(h,!1),r.lanes=4194304)}else{if(!l)if(i=zc(m),i!==null){if(r.flags|=128,l=!0,i=i.updateQueue,r.updateQueue=i,ih(r,i),Wl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!m.alternate&&!$e)return lt(r),null}else 2*_n()-h.renderingStartTime>rh&&a!==536870912&&(r.flags|=128,l=!0,Wl(h,!1),r.lanes=4194304);h.isBackwards?(m.sibling=r.child,r.child=m):(i=h.last,i!==null?i.sibling=m:r.child=m,h.last=m)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=_n(),r.sibling=null,i=kt.current,Ze(kt,l?i&1|2:i&1),r):(lt(r),null);case 22:case 23:return er(r),Ed(),l=r.memoizedState!==null,i!==null?i.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?a&536870912&&!(r.flags&128)&&(lt(r),r.subtreeFlags&6&&(r.flags|=8192)):lt(r),a=r.updateQueue,a!==null&&ih(r,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),i!==null&&ft(na),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),rr(Mt),lt(r),null;case 25:return null}throw Error(s(156,r.tag))}function qS(i,r){switch(yd(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return rr(Mt),ji(),i=r.flags,i&65536&&!(i&128)?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return ka(r),null;case 13:if(er(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Nl()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return ft(kt),null;case 4:return ji(),null;case 10:return rr(r.type),null;case 22:case 23:return er(r),Ed(),i!==null&&ft(na),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return rr(Mt),null;case 25:return null;default:return null}}function E_(i,r){switch(yd(r),r.tag){case 3:rr(Mt),ji();break;case 26:case 27:case 5:ka(r);break;case 4:ji();break;case 13:er(r);break;case 19:ft(kt);break;case 10:rr(r.type);break;case 22:case 23:er(r),Ed(),i!==null&&ft(na);break;case 24:rr(Mt)}}var FS={getCacheForType:function(i){var r=nn(Mt),a=r.data.get(i);return a===void 0&&(a=i(),r.data.set(i,a)),a}},GS=typeof WeakMap=="function"?WeakMap:Map,ut=0,it=null,xe=null,ze=0,rt=0,Nn=null,ur=!1,mo=!1,pm=!1,cr=0,pt=0,ss=0,ha=0,gm=0,ei=0,po=0,Zl=null,Ii=null,ym=!1,vm=0,rh=1/0,sh=null,as=null,ah=!1,fa=null,Jl=0,_m=0,wm=null,eu=0,Em=null;function xn(){if(ut&2&&ze!==0)return ze&-ze;if(S.T!==null){var i=so;return i!==0?i:Dm()}return fc()}function b_(){ei===0&&(ei=!(ze&536870912)||$e?fl():536870912);var i=Xn.current;return i!==null&&(i.flags|=32),ei}function pn(i,r,a){(i===it&&rt===2||i.cancelPendingCommit!==null)&&(go(i,0),hr(i,ze,ei,!1)),vt(i,a),(!(ut&2)||i!==it)&&(i===it&&(!(ut&2)&&(ha|=a),pt===4&&hr(i,ze,ei,!1)),Di(i))}function T_(i,r,a){if(ut&6)throw Error(s(327));var l=!a&&(r&60)===0&&(r&i.expiredLanes)===0||kr(i,r),h=l?QS(i,r):Sm(i,r,!0),m=l;do{if(h===0){mo&&!l&&hr(i,r,0,!1);break}else if(h===6)hr(i,r,0,!ur);else{if(a=i.current.alternate,m&&!$S(a)){h=Sm(i,r,!1),m=!1;continue}if(h===2){if(m=r,i.errorRecoveryDisabledLanes&m)var w=0;else w=i.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){r=w;e:{var T=i;h=Zl;var I=T.current.memoizedState.isDehydrated;if(I&&(go(T,w).flags|=256),w=Sm(T,w,!1),w!==2){if(pm&&!I){T.errorRecoveryDisabledLanes|=m,ha|=m,h=4;break e}m=Ii,Ii=h,m!==null&&bm(m)}h=w}if(m=!1,h!==2)continue}}if(h===1){go(i,0),hr(i,r,0,!0);break}e:{switch(l=i,h){case 0:case 1:throw Error(s(345));case 4:if((r&4194176)===r){hr(l,r,ei,!ur);break e}break;case 2:Ii=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=r,(r&62914560)===r&&(m=vm+300-_n(),10<m)){if(hr(l,r,ei,!ur),zn(l,0)!==0)break e;l.timeoutHandle=K_(A_.bind(null,l,a,Ii,sh,ym,r,ei,ha,po,ur,2,-0,0),m);break e}A_(l,a,Ii,sh,ym,r,ei,ha,po,ur,0,-0,0)}}break}while(!0);Di(i)}function bm(i){Ii===null?Ii=i:Ii.push.apply(Ii,i)}function A_(i,r,a,l,h,m,w,T,I,L,W,ie,F){var X=r.subtreeFlags;if((X&8192||(X&16785408)===16785408)&&(au={stylesheets:null,count:0,unsuspend:C2},m_(r),r=D2(),r!==null)){i.cancelPendingCommit=r(N_.bind(null,i,a,l,h,w,T,I,1,ie,F)),hr(i,m,w,!L);return}N_(i,a,l,h,w,T,I,W,ie,F)}function $S(i){for(var r=i;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],m=h.getSnapshot;h=h.value;try{if(!In(m(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function hr(i,r,a,l){r&=~gm,r&=~ha,i.suspendedLanes|=r,i.pingedLanes&=~r,l&&(i.warmLanes|=r),l=i.expirationTimes;for(var h=r;0<h;){var m=31-hn(h),w=1<<m;l[m]=-1,h&=~w}a!==0&&Pr(i,a,r)}function oh(){return ut&6?!0:(tu(0),!1)}function Tm(){if(xe!==null){if(rt===0)var i=xe.return;else i=xe,ir=oa=null,Dd(i),io=null,Pl=0,i=xe;for(;i!==null;)E_(i.alternate,i),i=i.return;xe=null}}function go(i,r){i.finishedWork=null,i.finishedLanes=0;var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,h2(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),Tm(),it=i,xe=a=rs(i.current,null),ze=r,rt=0,Nn=null,ur=!1,mo=kr(i,r),pm=!1,po=ei=gm=ha=ss=pt=0,Ii=Zl=null,ym=!1,r&8&&(r|=r&32);var l=i.entangledLanes;if(l!==0)for(i=i.entanglements,l&=r;0<l;){var h=31-hn(l),m=1<<h;r|=i[h],l&=~m}return cr=r,Nc(),a}function S_(i,r){Oe=null,S.H=Ci,r===kl?(r=zy(),rt=3):r===Ly?(r=zy(),rt=4):rt=r===Uv?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Nn=r,xe===null&&(pt=1,Wc(i,Kn(r,i.current)))}function R_(){var i=S.H;return S.H=Ci,i===null?Ci:i}function C_(){var i=S.A;return S.A=FS,i}function Am(){pt=4,ur||(ze&4194176)!==ze&&Xn.current!==null||(mo=!0),!(ss&134217727)&&!(ha&134217727)||it===null||hr(it,ze,ei,!1)}function Sm(i,r,a){var l=ut;ut|=2;var h=R_(),m=C_();(it!==i||ze!==r)&&(sh=null,go(i,r)),r=!1;var w=pt;e:do try{if(rt!==0&&xe!==null){var T=xe,I=Nn;switch(rt){case 8:Tm(),w=6;break e;case 3:case 2:case 6:Xn.current===null&&(r=!0);var L=rt;if(rt=0,Nn=null,yo(i,T,I,L),a&&mo){w=0;break e}break;default:L=rt,rt=0,Nn=null,yo(i,T,I,L)}}KS(),w=pt;break}catch(W){S_(i,W)}while(!0);return r&&i.shellSuspendCounter++,ir=oa=null,ut=l,S.H=h,S.A=m,xe===null&&(it=null,ze=0,Nc()),w}function KS(){for(;xe!==null;)I_(xe)}function QS(i,r){var a=ut;ut|=2;var l=R_(),h=C_();it!==i||ze!==r?(sh=null,rh=_n()+500,go(i,r)):mo=kr(i,r);e:do try{if(rt!==0&&xe!==null){r=xe;var m=Nn;t:switch(rt){case 1:rt=0,Nn=null,yo(i,r,m,1);break;case 2:if(Uy(m)){rt=0,Nn=null,D_(r);break}r=function(){rt===2&&it===i&&(rt=7),Di(i)},m.then(r,r);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:Uy(m)?(rt=0,Nn=null,D_(r)):(rt=0,Nn=null,yo(i,r,m,7));break;case 5:var w=null;switch(xe.tag){case 26:w=xe.memoizedState;case 5:case 27:var T=xe;if(!w||rw(w)){rt=0,Nn=null;var I=T.sibling;if(I!==null)xe=I;else{var L=T.return;L!==null?(xe=L,lh(L)):xe=null}break t}}rt=0,Nn=null,yo(i,r,m,5);break;case 6:rt=0,Nn=null,yo(i,r,m,6);break;case 8:Tm(),pt=6;break e;default:throw Error(s(462))}}YS();break}catch(W){S_(i,W)}while(!0);return ir=oa=null,S.H=l,S.A=h,ut=a,xe!==null?0:(it=null,ze=0,Nc(),pt)}function YS(){for(;xe!==null&&!Jf();)I_(xe)}function I_(i){var r=Xv(i.alternate,i,cr);i.memoizedProps=i.pendingProps,r===null?lh(i):xe=r}function D_(i){var r=i,a=r.alternate;switch(r.tag){case 15:case 0:r=Fv(a,r,r.pendingProps,r.type,void 0,ze);break;case 11:r=Fv(a,r,r.pendingProps,r.type.render,r.ref,ze);break;case 5:Dd(r);default:E_(a,r),r=xe=v_(r,cr),r=Xv(a,r,cr)}i.memoizedProps=i.pendingProps,r===null?lh(i):xe=r}function yo(i,r,a,l){ir=oa=null,Dd(r),io=null,Pl=0;var h=r.return;try{if(LS(i,h,r,a,ze)){pt=1,Wc(i,Kn(a,i.current)),xe=null;return}}catch(m){if(h!==null)throw xe=h,m;pt=1,Wc(i,Kn(a,i.current)),xe=null;return}r.flags&32768?($e||l===1?i=!0:mo||ze&536870912?i=!1:(ur=i=!0,(l===2||l===3||l===6)&&(l=Xn.current,l!==null&&l.tag===13&&(l.flags|=16384))),O_(r,i)):lh(r)}function lh(i){var r=i;do{if(r.flags&32768){O_(r,ur);return}i=r.return;var a=HS(r.alternate,r,cr);if(a!==null){xe=a;return}if(r=r.sibling,r!==null){xe=r;return}xe=r=i}while(r!==null);pt===0&&(pt=5)}function O_(i,r){do{var a=qS(i.alternate,i);if(a!==null){a.flags&=32767,xe=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(i=i.sibling,i!==null)){xe=i;return}xe=i=a}while(i!==null);pt=6,xe=null}function N_(i,r,a,l,h,m,w,T,I,L){var W=S.T,ie=ue.p;try{ue.p=2,S.T=null,XS(i,r,a,l,ie,h,m,w,T,I,L)}finally{S.T=W,ue.p=ie}}function XS(i,r,a,l,h,m,w,T){do vo();while(fa!==null);if(ut&6)throw Error(s(327));var I=i.finishedWork;if(l=i.finishedLanes,I===null)return null;if(i.finishedWork=null,i.finishedLanes=0,I===i.current)throw Error(s(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var L=I.lanes|I.childLanes;if(L|=md,cc(i,l,L,m,w,T),i===it&&(xe=it=null,ze=0),!(I.subtreeFlags&10256)&&!(I.flags&10256)||ah||(ah=!0,_m=L,wm=a,e2(Hi,function(){return vo(),null})),a=(I.flags&15990)!==0,I.subtreeFlags&15990||a?(a=S.T,S.T=null,m=ue.p,ue.p=2,w=ut,ut|=4,BS(i,I),h_(I,i),wS(Lm,i.containerInfo),wh=!!Vm,Lm=Vm=null,i.current=I,o_(i,I.alternate,I),ll(),ut=w,ue.p=m,S.T=a):i.current=I,ah?(ah=!1,fa=i,Jl=l):x_(i,L),L=i.pendingLanes,L===0&&(as=null),cl(I.stateNode),Di(i),r!==null)for(h=i.onRecoverableError,I=0;I<r.length;I++)L=r[I],h(L.value,{componentStack:L.stack});return Jl&3&&vo(),L=i.pendingLanes,l&4194218&&L&42?i===Em?eu++:(eu=0,Em=i):eu=0,tu(0),null}function x_(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Ll(r)))}function vo(){if(fa!==null){var i=fa,r=_m;_m=0;var a=hc(Jl),l=S.T,h=ue.p;try{if(ue.p=32>a?32:a,S.T=null,fa===null)var m=!1;else{a=wm,wm=null;var w=fa,T=Jl;if(fa=null,Jl=0,ut&6)throw Error(s(331));var I=ut;if(ut|=4,g_(w.current),d_(w,w.current,T,a),ut=I,tu(0,!1),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(Nr,w)}catch{}m=!0}return m}finally{ue.p=h,S.T=l,x_(i,r)}}return!1}function k_(i,r,a){r=Kn(a,r),r=qd(i.stateNode,r,2),i=es(i,r,2),i!==null&&(vt(i,2),Di(i))}function nt(i,r,a){if(i.tag===3)k_(i,i,a);else for(;r!==null;){if(r.tag===3){k_(r,i,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(as===null||!as.has(l))){i=Kn(a,i),a=Vv(2),l=es(r,a,2),l!==null&&(Lv(a,l,r,i),vt(l,2),Di(l));break}}r=r.return}}function Rm(i,r,a){var l=i.pingCache;if(l===null){l=i.pingCache=new GS;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(pm=!0,h.add(a),i=WS.bind(null,i,r,a),r.then(i,i))}function WS(i,r,a){var l=i.pingCache;l!==null&&l.delete(r),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,it===i&&(ze&a)===a&&(pt===4||pt===3&&(ze&62914560)===ze&&300>_n()-vm?!(ut&2)&&go(i,0):gm|=a,po===ze&&(po=0)),Di(i)}function M_(i,r){r===0&&(r=Mr()),i=$r(i,r),i!==null&&(vt(i,r),Di(i))}function ZS(i){var r=i.memoizedState,a=0;r!==null&&(a=r.retryLane),M_(i,a)}function JS(i,r){var a=0;switch(i.tag){case 13:var l=i.stateNode,h=i.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=i.stateNode;break;case 22:l=i.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),M_(i,a)}function e2(i,r){return Vs(i,r)}var uh=null,_o=null,Cm=!1,ch=!1,Im=!1,da=0;function Di(i){i!==_o&&i.next===null&&(_o===null?uh=_o=i:_o=_o.next=i),ch=!0,Cm||(Cm=!0,n2(t2))}function tu(i,r){if(!Im&&ch){Im=!0;do for(var a=!1,l=uh;l!==null;){if(i!==0){var h=l.pendingLanes;if(h===0)var m=0;else{var w=l.suspendedLanes,T=l.pingedLanes;m=(1<<31-hn(42|i)+1)-1,m&=h&~(w&~T),m=m&201326677?m&201326677|1:m?m|2:0}m!==0&&(a=!0,L_(l,m))}else m=ze,m=zn(l,l===it?m:0),!(m&3)||kr(l,m)||(a=!0,L_(l,m));l=l.next}while(a);Im=!1}}function t2(){ch=Cm=!1;var i=0;da!==0&&(c2()&&(i=da),da=0);for(var r=_n(),a=null,l=uh;l!==null;){var h=l.next,m=P_(l,r);m===0?(l.next=null,a===null?uh=h:a.next=h,h===null&&(_o=a)):(a=l,(i!==0||m&3)&&(ch=!0)),l=h}tu(i)}function P_(i,r){for(var a=i.suspendedLanes,l=i.pingedLanes,h=i.expirationTimes,m=i.pendingLanes&-62914561;0<m;){var w=31-hn(m),T=1<<w,I=h[w];I===-1?(!(T&a)||T&l)&&(h[w]=Va(T,r)):I<=r&&(i.expiredLanes|=T),m&=~T}if(r=it,a=ze,a=zn(i,i===r?a:0),l=i.callbackNode,a===0||i===r&&rt===2||i.cancelPendingCommit!==null)return l!==null&&l!==null&&Pa(l),i.callbackNode=null,i.callbackPriority=0;if(!(a&3)||kr(i,a)){if(r=a&-a,r===i.callbackPriority)return r;switch(l!==null&&Pa(l),hc(a)){case 2:case 8:a=Ut;break;case 32:a=Hi;break;case 268435456:a=ul;break;default:a=Hi}return l=V_.bind(null,i),a=Vs(a,l),i.callbackPriority=r,i.callbackNode=a,r}return l!==null&&l!==null&&Pa(l),i.callbackPriority=2,i.callbackNode=null,2}function V_(i,r){var a=i.callbackNode;if(vo()&&i.callbackNode!==a)return null;var l=ze;return l=zn(i,i===it?l:0),l===0?null:(T_(i,l,r),P_(i,_n()),i.callbackNode!=null&&i.callbackNode===a?V_.bind(null,i):null)}function L_(i,r){if(vo())return null;T_(i,r,!0)}function n2(i){f2(function(){ut&6?Vs(Dt,i):i()})}function Dm(){return da===0&&(da=fl()),da}function U_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:vi(""+i)}function B_(i,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,i.id&&a.setAttribute("form",i.id),r.parentNode.insertBefore(a,r),i=new FormData(i),a.parentNode.removeChild(a),i}function i2(i,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var m=U_((h[Ot]||null).action),w=l.submitter;w&&(r=(r=w[Ot]||null)?U_(r.formAction):w.getAttribute("formAction"),r!==null&&(m=r,w=null));var T=new qa("action","action",null,l,h);i.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(da!==0){var I=w?B_(h,w):new FormData(h);Ud(a,{pending:!0,data:I,method:h.method,action:m},null,I)}}else typeof m=="function"&&(T.preventDefault(),I=w?B_(h,w):new FormData(h),Ud(a,{pending:!0,data:I,method:h.method,action:m},m,I))},currentTarget:h}]})}}for(var Om=0;Om<Ny.length;Om++){var Nm=Ny[Om],r2=Nm.toLowerCase(),s2=Nm[0].toUpperCase()+Nm.slice(1);ai(r2,"on"+s2)}ai(Ry,"onAnimationEnd"),ai(Cy,"onAnimationIteration"),ai(Iy,"onAnimationStart"),ai("dblclick","onDoubleClick"),ai("focusin","onFocus"),ai("focusout","onBlur"),ai(bS,"onTransitionRun"),ai(TS,"onTransitionStart"),ai(AS,"onTransitionCancel"),ai(Dy,"onTransitionEnd"),wn("onMouseEnter",["mouseout","mouseover"]),wn("onMouseLeave",["mouseout","mouseover"]),wn("onPointerEnter",["pointerout","pointerover"]),wn("onPointerLeave",["pointerout","pointerover"]),Rn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Rn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Rn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Rn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Rn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Rn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),a2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nu));function z_(i,r){r=(r&4)!==0;for(var a=0;a<i.length;a++){var l=i[a],h=l.event;l=l.listeners;e:{var m=void 0;if(r)for(var w=l.length-1;0<=w;w--){var T=l[w],I=T.instance,L=T.currentTarget;if(T=T.listener,I!==m&&h.isPropagationStopped())break e;m=T,h.currentTarget=L;try{m(h)}catch(W){Xc(W)}h.currentTarget=null,m=I}else for(w=0;w<l.length;w++){if(T=l[w],I=T.instance,L=T.currentTarget,T=T.listener,I!==m&&h.isPropagationStopped())break e;m=T,h.currentTarget=L;try{m(h)}catch(W){Xc(W)}h.currentTarget=null,m=I}}}}function Ve(i,r){var a=r[Us];a===void 0&&(a=r[Us]=new Set);var l=i+"__bubble";a.has(l)||(j_(r,i,2,!1),a.add(l))}function xm(i,r,a){var l=0;r&&(l|=4),j_(a,i,l,r)}var hh="_reactListening"+Math.random().toString(36).slice(2);function km(i){if(!i[hh]){i[hh]=!0,ml.forEach(function(a){a!=="selectionchange"&&(a2.has(a)||xm(a,!1,i),xm(a,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[hh]||(r[hh]=!0,xm("selectionchange",!1,r))}}function j_(i,r,a,l){switch(cw(r)){case 2:var h=x2;break;case 8:h=k2;break;default:h=$m}a=h.bind(null,r,a,i),h=void 0,!Fn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?i.addEventListener(r,a,{capture:!0,passive:h}):i.addEventListener(r,a,!0):h!==void 0?i.addEventListener(r,a,{passive:h}):i.addEventListener(r,a,!1)}function Mm(i,r,a,l,h){var m=l;if(!(r&1)&&!(r&2)&&l!==null)e:for(;;){if(l===null)return;var w=l.tag;if(w===3||w===4){var T=l.stateNode.containerInfo;if(T===h||T.nodeType===8&&T.parentNode===h)break;if(w===4)for(w=l.return;w!==null;){var I=w.tag;if((I===3||I===4)&&(I=w.stateNode.containerInfo,I===h||I.nodeType===8&&I.parentNode===h))return;w=w.return}for(;T!==null;){if(w=si(T),w===null)return;if(I=w.tag,I===5||I===6||I===26||I===27){l=m=w;continue e}T=T.parentNode}}l=l.return}gc(function(){var L=m,W=Ha(a),ie=[];e:{var F=Oy.get(i);if(F!==void 0){var X=qa,pe=i;switch(i){case"keypress":if(wi(a)===0)break e;case"keydown":case"keyup":X=Ya;break;case"focusin":pe="focus",X=$a;break;case"focusout":pe="blur",X=$a;break;case"beforeblur":case"afterblur":X=$a;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=ad;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Ac;break;case Ry:case Cy:case Iy:X=Ka;break;case Dy:X=Rc;break;case"scroll":case"scrollend":X=yc;break;case"wheel":X=Xa;break;case"copy":case"cut":case"paste":X=Qa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Rl;break;case"toggle":case"beforetoggle":X=Ic}var Se=(r&4)!==0,gt=!Se&&(i==="scroll"||i==="scrollend"),B=Se?F!==null?F+"Capture":null:F;Se=[];for(var V=L,q;V!==null;){var J=V;if(q=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||q===null||B===null||(J=qs(V,B),J!=null&&Se.push(iu(V,J,q))),gt)break;V=V.return}0<Se.length&&(F=new X(F,pe,null,a,W),ie.push({event:F,listeners:Se}))}}if(!(r&7)){e:{if(F=i==="mouseover"||i==="pointerover",X=i==="mouseout"||i==="pointerout",F&&a!==qn&&(pe=a.relatedTarget||a.fromElement)&&(si(pe)||pe[qi]))break e;if((X||F)&&(F=W.window===W?W:(F=W.ownerDocument)?F.defaultView||F.parentWindow:window,X?(pe=a.relatedTarget||a.toElement,X=L,pe=pe?si(pe):null,pe!==null&&(gt=ge(pe),Se=pe.tag,pe!==gt||Se!==5&&Se!==27&&Se!==6)&&(pe=null)):(X=null,pe=L),X!==pe)){if(Se=Gn,J="onMouseLeave",B="onMouseEnter",V="mouse",(i==="pointerout"||i==="pointerover")&&(Se=Rl,J="onPointerLeave",B="onPointerEnter",V="pointer"),gt=X==null?F:Br(X),q=pe==null?F:Br(pe),F=new Se(J,V+"leave",X,a,W),F.target=gt,F.relatedTarget=q,J=null,si(W)===L&&(Se=new Se(B,V+"enter",pe,a,W),Se.target=q,Se.relatedTarget=gt,J=Se),gt=J,X&&pe)t:{for(Se=X,B=pe,V=0,q=Se;q;q=wo(q))V++;for(q=0,J=B;J;J=wo(J))q++;for(;0<V-q;)Se=wo(Se),V--;for(;0<q-V;)B=wo(B),q--;for(;V--;){if(Se===B||B!==null&&Se===B.alternate)break t;Se=wo(Se),B=wo(B)}Se=null}else Se=null;X!==null&&H_(ie,F,X,Se,!1),pe!==null&&gt!==null&&H_(ie,gt,pe,Se,!0)}}e:{if(F=L?Br(L):window,X=F.nodeName&&F.nodeName.toLowerCase(),X==="select"||X==="input"&&F.type==="file")var de=py;else if(xt(F))if(gy)de=vS;else{de=gS;var Ne=pS}else X=F.nodeName,!X||X.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?L&&_l(L.elementType)&&(de=py):de=yS;if(de&&(de=de(i,L))){Wi(ie,de,a,W);break e}Ne&&Ne(i,F,L),i==="focusout"&&L&&F.type==="number"&&L.memoizedProps.value!=null&&ja(F,"number",F.value)}switch(Ne=L?Br(L):window,i){case"focusin":(xt(Ne)||Ne.contentEditable==="true")&&(Wa=Ne,hd=L,Dl=null);break;case"focusout":Dl=hd=Wa=null;break;case"mousedown":fd=!0;break;case"contextmenu":case"mouseup":case"dragend":fd=!1,Ay(ie,a,W);break;case"selectionchange":if(ES)break;case"keydown":case"keyup":Ay(ie,a,W)}var ye;if(Ti)e:{switch(i){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Ue?$(i,a)&&(Ee="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(_&&a.locale!=="ko"&&(Ue||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Ue&&(ye=El()):(_i=W,Gr="value"in _i?_i.value:_i.textContent,Ue=!0)),Ne=fh(L,Ee),0<Ne.length&&(Ee=new Al(Ee,i,null,a,W),ie.push({event:Ee,listeners:Ne}),ye?Ee.data=ye:(ye=se(a),ye!==null&&(Ee.data=ye)))),(ye=y?Nt(i,a):Be(i,a))&&(Ee=fh(L,"onBeforeInput"),0<Ee.length&&(Ne=new Al("onBeforeInput","beforeinput",null,a,W),ie.push({event:Ne,listeners:Ee}),Ne.data=ye)),i2(ie,i,L,a,W)}z_(ie,r)})}function iu(i,r,a){return{instance:i,listener:r,currentTarget:a}}function fh(i,r){for(var a=r+"Capture",l=[];i!==null;){var h=i,m=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=qs(i,a),h!=null&&l.unshift(iu(i,h,m)),h=qs(i,r),h!=null&&l.push(iu(i,h,m))),i=i.return}return l}function wo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function H_(i,r,a,l,h){for(var m=r._reactName,w=[];a!==null&&a!==l;){var T=a,I=T.alternate,L=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||L===null||(I=L,h?(L=qs(a,m),L!=null&&w.unshift(iu(a,L,I))):h||(L=qs(a,m),L!=null&&w.push(iu(a,L,I)))),a=a.return}w.length!==0&&i.push({event:r,listeners:w})}var o2=/\r\n?/g,l2=/\u0000|\uFFFD/g;function q_(i){return(typeof i=="string"?i:""+i).replace(o2,`
`).replace(l2,"")}function F_(i,r){return r=q_(r),q_(i)===r}function dh(){}function et(i,r,a,l,h,m){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Hn(i,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Hn(i,""+l);break;case"className":Hr(i,"class",l);break;case"tabIndex":Hr(i,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Hr(i,a,l);break;case"style":pc(i,l,m);break;case"data":if(r!=="object"){Hr(i,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){i.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=vi(""+l),i.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(r!=="input"&&et(i,r,"name",h.name,h,null),et(i,r,"formEncType",h.formEncType,h,null),et(i,r,"formMethod",h.formMethod,h,null),et(i,r,"formTarget",h.formTarget,h,null)):(et(i,r,"encType",h.encType,h,null),et(i,r,"method",h.method,h,null),et(i,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=vi(""+l),i.setAttribute(a,l);break;case"onClick":l!=null&&(i.onclick=dh);break;case"onScroll":l!=null&&Ve("scroll",i);break;case"onScrollEnd":l!=null&&Ve("scrollend",i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"multiple":i.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":i.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){i.removeAttribute("xlink:href");break}a=vi(""+l),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""+l):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":l===!0?i.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,l):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?i.setAttribute(a,l):i.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?i.removeAttribute(a):i.setAttribute(a,l);break;case"popover":Ve("beforetoggle",i),Ve("toggle",i),jr(i,"popover",l);break;case"xlinkActuate":jn(i,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":jn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":jn(i,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":jn(i,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":jn(i,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":jn(i,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":jn(i,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":jn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":jn(i,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":jr(i,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=rd.get(a)||a,jr(i,a,l))}}function Pm(i,r,a,l,h,m){switch(a){case"style":pc(i,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"children":typeof l=="string"?Hn(i,l):(typeof l=="number"||typeof l=="bigint")&&Hn(i,""+l);break;case"onScroll":l!=null&&Ve("scroll",i);break;case"onScrollEnd":l!=null&&Ve("scrollend",i);break;case"onClick":l!=null&&(i.onclick=dh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ba.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),m=i[Ot]||null,m=m!=null?m[a]:null,typeof m=="function"&&i.removeEventListener(r,m,h),typeof l=="function")){typeof m!="function"&&m!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(r,l,h);break e}a in i?i[a]=l:l===!0?i.setAttribute(a,""):jr(i,a,l)}}}function Wt(i,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",i),Ve("load",i);var l=!1,h=!1,m;for(m in a)if(a.hasOwnProperty(m)){var w=a[m];if(w!=null)switch(m){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:et(i,r,m,w,a,null)}}h&&et(i,r,"srcSet",a.srcSet,a,null),l&&et(i,r,"src",a.src,a,null);return;case"input":Ve("invalid",i);var T=m=w=h=null,I=null,L=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":h=W;break;case"type":w=W;break;case"checked":I=W;break;case"defaultChecked":L=W;break;case"value":m=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:et(i,r,l,W,a,null)}}js(i,m,T,I,L,w,h,!1),zs(i);return;case"select":Ve("invalid",i),l=w=m=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":m=T;break;case"defaultValue":w=T;break;case"multiple":l=T;default:et(i,r,h,T,a,null)}r=m,a=w,i.multiple=!!l,r!=null?Ge(i,!!l,r,!1):a!=null&&Ge(i,!!l,a,!0);return;case"textarea":Ve("invalid",i),m=h=l=null;for(w in a)if(a.hasOwnProperty(w)&&(T=a[w],T!=null))switch(w){case"value":l=T;break;case"defaultValue":h=T;break;case"children":m=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:et(i,r,w,T,a,null)}Fr(i,l,h,m),zs(i);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":i.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:et(i,r,I,l,a,null)}return;case"dialog":Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":Ve("load",i);break;case"video":case"audio":for(l=0;l<nu.length;l++)Ve(nu[l],i);break;case"image":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"embed":case"source":case"link":Ve("error",i),Ve("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(l=a[L],l!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:et(i,r,L,l,a,null)}return;default:if(_l(r)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&Pm(i,r,W,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&et(i,r,T,l,a,null))}function u2(i,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,w=null,T=null,I=null,L=null,W=null;for(X in a){var ie=a[X];if(a.hasOwnProperty(X)&&ie!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":I=ie;default:l.hasOwnProperty(X)||et(i,r,X,null,l,ie)}}for(var F in l){var X=l[F];if(ie=a[F],l.hasOwnProperty(F)&&(X!=null||ie!=null))switch(F){case"type":m=X;break;case"name":h=X;break;case"checked":L=X;break;case"defaultChecked":W=X;break;case"value":w=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:X!==ie&&et(i,r,F,X,l,ie)}}qr(i,w,T,I,L,W,m,h);return;case"select":X=w=T=F=null;for(m in a)if(I=a[m],a.hasOwnProperty(m)&&I!=null)switch(m){case"value":break;case"multiple":X=I;default:l.hasOwnProperty(m)||et(i,r,m,null,l,I)}for(h in l)if(m=l[h],I=a[h],l.hasOwnProperty(h)&&(m!=null||I!=null))switch(h){case"value":F=m;break;case"defaultValue":T=m;break;case"multiple":w=m;default:m!==I&&et(i,r,h,m,l,I)}r=T,a=w,l=X,F!=null?Ge(i,!!a,F,!1):!!l!=!!a&&(r!=null?Ge(i,!!a,r,!0):Ge(i,!!a,a?[]:"",!1));return;case"textarea":X=F=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:et(i,r,T,null,l,h)}for(w in l)if(h=l[w],m=a[w],l.hasOwnProperty(w)&&(h!=null||m!=null))switch(w){case"value":F=h;break;case"defaultValue":X=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==m&&et(i,r,w,h,l,m)}Hs(i,F,X);return;case"option":for(var pe in a)if(F=a[pe],a.hasOwnProperty(pe)&&F!=null&&!l.hasOwnProperty(pe))switch(pe){case"selected":i.selected=!1;break;default:et(i,r,pe,null,l,F)}for(I in l)if(F=l[I],X=a[I],l.hasOwnProperty(I)&&F!==X&&(F!=null||X!=null))switch(I){case"selected":i.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:et(i,r,I,F,l,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in a)F=a[Se],a.hasOwnProperty(Se)&&F!=null&&!l.hasOwnProperty(Se)&&et(i,r,Se,null,l,F);for(L in l)if(F=l[L],X=a[L],l.hasOwnProperty(L)&&F!==X&&(F!=null||X!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:et(i,r,L,F,l,X)}return;default:if(_l(r)){for(var gt in a)F=a[gt],a.hasOwnProperty(gt)&&F!==void 0&&!l.hasOwnProperty(gt)&&Pm(i,r,gt,void 0,l,F);for(W in l)F=l[W],X=a[W],!l.hasOwnProperty(W)||F===X||F===void 0&&X===void 0||Pm(i,r,W,F,l,X);return}}for(var B in a)F=a[B],a.hasOwnProperty(B)&&F!=null&&!l.hasOwnProperty(B)&&et(i,r,B,null,l,F);for(ie in l)F=l[ie],X=a[ie],!l.hasOwnProperty(ie)||F===X||F==null&&X==null||et(i,r,ie,F,l,X)}var Vm=null,Lm=null;function mh(i){return i.nodeType===9?i:i.ownerDocument}function G_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $_(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Um(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Bm=null;function c2(){var i=window.event;return i&&i.type==="popstate"?i===Bm?!1:(Bm=i,!0):(Bm=null,!1)}var K_=typeof setTimeout=="function"?setTimeout:void 0,h2=typeof clearTimeout=="function"?clearTimeout:void 0,Q_=typeof Promise=="function"?Promise:void 0,f2=typeof queueMicrotask=="function"?queueMicrotask:typeof Q_<"u"?function(i){return Q_.resolve(null).then(i).catch(d2)}:K_;function d2(i){setTimeout(function(){throw i})}function zm(i,r){var a=r,l=0;do{var h=a.nextSibling;if(i.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){i.removeChild(h),hu(r);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);hu(r)}function jm(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":jm(a),Bs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function m2(i,r,a,l){for(;i.nodeType===1;){var h=a;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(l){if(!i[Ur])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(m=i.getAttribute("rel"),m==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(m!==h.rel||i.getAttribute("href")!==(h.href==null?null:h.href)||i.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||i.getAttribute("title")!==(h.title==null?null:h.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(m=i.getAttribute("src"),(m!==(h.src==null?null:h.src)||i.getAttribute("type")!==(h.type==null?null:h.type)||i.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&i.getAttribute("name")===m)return i}else return i;if(i=ui(i.nextSibling),i===null)break}return null}function p2(i,r,a){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=ui(i.nextSibling),i===null))return null;return i}function ui(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}function Y_(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return i;r--}else a==="/$"&&r++}i=i.previousSibling}return null}function X_(i,r,a){switch(r=mh(a),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}var ti=new Map,W_=new Set;function ph(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var fr=ue.d;ue.d={f:g2,r:y2,D:v2,C:_2,L:w2,m:E2,X:T2,S:b2,M:A2};function g2(){var i=fr.f(),r=oh();return i||r}function y2(i){var r=Fi(i);r!==null&&r.tag===5&&r.type==="form"?Av(r):fr.r(i)}var Eo=typeof document>"u"?null:document;function Z_(i,r,a){var l=Eo;if(l&&typeof r=="string"&&r){var h=dt(r);h='link[rel="'+i+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),W_.has(h)||(W_.add(h),i={rel:i,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),Wt(r,"link",i),ot(r),l.head.appendChild(r)))}}function v2(i){fr.D(i),Z_("dns-prefetch",i,null)}function _2(i,r){fr.C(i,r),Z_("preconnect",i,r)}function w2(i,r,a){fr.L(i,r,a);var l=Eo;if(l&&i&&r){var h='link[rel="preload"][as="'+dt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+dt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+dt(a.imageSizes)+'"]')):h+='[href="'+dt(i)+'"]';var m=h;switch(r){case"style":m=bo(i);break;case"script":m=To(i)}ti.has(m)||(i=O({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:i,as:r},a),ti.set(m,i),l.querySelector(h)!==null||r==="style"&&l.querySelector(ru(m))||r==="script"&&l.querySelector(su(m))||(r=l.createElement("link"),Wt(r,"link",i),ot(r),l.head.appendChild(r)))}}function E2(i,r){fr.m(i,r);var a=Eo;if(a&&i){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+dt(l)+'"][href="'+dt(i)+'"]',m=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=To(i)}if(!ti.has(m)&&(i=O({rel:"modulepreload",href:i},r),ti.set(m,i),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(su(m)))return}l=a.createElement("link"),Wt(l,"link",i),ot(l),a.head.appendChild(l)}}}function b2(i,r,a){fr.S(i,r,a);var l=Eo;if(l&&i){var h=zr(l).hoistableStyles,m=bo(i);r=r||"default";var w=h.get(m);if(!w){var T={loading:0,preload:null};if(w=l.querySelector(ru(m)))T.loading=5;else{i=O({rel:"stylesheet",href:i,"data-precedence":r},a),(a=ti.get(m))&&Hm(i,a);var I=w=l.createElement("link");ot(I),Wt(I,"link",i),I._p=new Promise(function(L,W){I.onload=L,I.onerror=W}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,gh(w,r,l)}w={type:"stylesheet",instance:w,count:1,state:T},h.set(m,w)}}}function T2(i,r){fr.X(i,r);var a=Eo;if(a&&i){var l=zr(a).hoistableScripts,h=To(i),m=l.get(h);m||(m=a.querySelector(su(h)),m||(i=O({src:i,async:!0},r),(r=ti.get(h))&&qm(i,r),m=a.createElement("script"),ot(m),Wt(m,"link",i),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function A2(i,r){fr.M(i,r);var a=Eo;if(a&&i){var l=zr(a).hoistableScripts,h=To(i),m=l.get(h);m||(m=a.querySelector(su(h)),m||(i=O({src:i,async:!0,type:"module"},r),(r=ti.get(h))&&qm(i,r),m=a.createElement("script"),ot(m),Wt(m,"link",i),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function J_(i,r,a,l){var h=(h=Bn.current)?ph(h):null;if(!h)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=bo(a.href),a=zr(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=bo(a.href);var m=zr(h).hoistableStyles,w=m.get(i);if(w||(h=h.ownerDocument||h,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(i,w),(m=h.querySelector(ru(i)))&&!m._p&&(w.instance=m,w.state.loading=5),ti.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ti.set(i,a),m||S2(h,i,a,w.state))),r&&l===null)throw Error(s(528,""));return w}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=To(a),a=zr(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function bo(i){return'href="'+dt(i)+'"'}function ru(i){return'link[rel="stylesheet"]['+i+"]"}function ew(i){return O({},i,{"data-precedence":i.precedence,precedence:null})}function S2(i,r,a,l){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=i.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Wt(r,"link",a),ot(r),i.head.appendChild(r))}function To(i){return'[src="'+dt(i)+'"]'}function su(i){return"script[async]"+i}function tw(i,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=i.querySelector('style[data-href~="'+dt(a.href)+'"]');if(l)return r.instance=l,ot(l),l;var h=O({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(i.ownerDocument||i).createElement("style"),ot(l),Wt(l,"style",h),gh(l,a.precedence,i),r.instance=l;case"stylesheet":h=bo(a.href);var m=i.querySelector(ru(h));if(m)return r.state.loading|=4,r.instance=m,ot(m),m;l=ew(a),(h=ti.get(h))&&Hm(l,h),m=(i.ownerDocument||i).createElement("link"),ot(m);var w=m;return w._p=new Promise(function(T,I){w.onload=T,w.onerror=I}),Wt(m,"link",l),r.state.loading|=4,gh(m,a.precedence,i),r.instance=m;case"script":return m=To(a.src),(h=i.querySelector(su(m)))?(r.instance=h,ot(h),h):(l=a,(h=ti.get(m))&&(l=O({},a),qm(l,h)),i=i.ownerDocument||i,h=i.createElement("script"),ot(h),Wt(h,"link",l),i.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&!(r.state.loading&4)&&(l=r.instance,r.state.loading|=4,gh(l,a.precedence,i));return r.instance}function gh(i,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,m=h,w=0;w<l.length;w++){var T=l[w];if(T.dataset.precedence===r)m=T;else if(m!==h)break}m?m.parentNode.insertBefore(i,m.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(i,r.firstChild))}function Hm(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function qm(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var yh=null;function nw(i,r,a){if(yh===null){var l=new Map,h=yh=new Map;h.set(a,l)}else h=yh,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(i))return l;for(l.set(i,null),a=a.getElementsByTagName(i),h=0;h<a.length;h++){var m=a[h];if(!(m[Ur]||m[Bt]||i==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var w=m.getAttribute(r)||"";w=i+w;var T=l.get(w);T?T.push(m):l.set(w,[m])}}return l}function iw(i,r,a){i=i.ownerDocument||i,i.head.insertBefore(a,r==="title"?i.querySelector("head > title"):null)}function R2(i,r,a){if(a===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function rw(i){return!(i.type==="stylesheet"&&!(i.state.loading&3))}var au=null;function C2(){}function I2(i,r,a){if(au===null)throw Error(s(475));var l=au;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(r.state.loading&4)){if(r.instance===null){var h=bo(a.href),m=i.querySelector(ru(h));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(l.count++,l=vh.bind(l),i.then(l,l)),r.state.loading|=4,r.instance=m,ot(m);return}m=i.ownerDocument||i,a=ew(a),(h=ti.get(h))&&Hm(a,h),m=m.createElement("link"),ot(m);var w=m;w._p=new Promise(function(T,I){w.onload=T,w.onerror=I}),Wt(m,"link",a),r.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,i),(i=r.state.preload)&&!(r.state.loading&3)&&(l.count++,r=vh.bind(l),i.addEventListener("load",r),i.addEventListener("error",r))}}function D2(){if(au===null)throw Error(s(475));var i=au;return i.stylesheets&&i.count===0&&Fm(i,i.stylesheets),0<i.count?function(r){var a=setTimeout(function(){if(i.stylesheets&&Fm(i,i.stylesheets),i.unsuspend){var l=i.unsuspend;i.unsuspend=null,l()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(a)}}:null}function vh(){if(this.count--,this.count===0){if(this.stylesheets)Fm(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var _h=null;function Fm(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,_h=new Map,r.forEach(O2,i),_h=null,vh.call(i))}function O2(i,r){if(!(r.state.loading&4)){var a=_h.get(i);if(a)var l=a.get(null);else{a=new Map,_h.set(i,a);for(var h=i.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var w=h[m];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(a.set(w.dataset.precedence,w),l=w)}l&&a.set(null,l)}h=r.instance,w=h.getAttribute("data-precedence"),m=a.get(w)||l,m===l&&a.set(null,h),a.set(w,h),this.count++,l=vh.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),m?m.parentNode.insertBefore(h,m.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(h,i.firstChild)),r.state.loading|=4}}var ou={$$typeof:C,Provider:null,Consumer:null,_currentValue:De,_currentValue2:De,_threadCount:0};function N2(i,r,a,l,h,m,w,T){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=La(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=La(0),this.hiddenUpdates=La(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function sw(i,r,a,l,h,m,w,T,I,L,W,ie){return i=new N2(i,r,a,w,T,I,L,ie),r=1,m===!0&&(r|=24),m=Jn(3,null,null,r),i.current=m,m.stateNode=i,r=bd(),r.refCount++,i.pooledCache=r,r.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:r},nm(m),i}function aw(i){return i?(i=eo,i):eo}function ow(i,r,a,l,h,m){h=aw(h),l.context===null?l.context=h:l.pendingContext=h,l=Jr(r),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=es(i,l,r),a!==null&&(pn(a,i,r),Fl(a,i,r))}function lw(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<r?a:r}}function Gm(i,r){lw(i,r),(i=i.alternate)&&lw(i,r)}function uw(i){if(i.tag===13){var r=$r(i,67108864);r!==null&&pn(r,i,67108864),Gm(i,67108864)}}var wh=!0;function x2(i,r,a,l){var h=S.T;S.T=null;var m=ue.p;try{ue.p=2,$m(i,r,a,l)}finally{ue.p=m,S.T=h}}function k2(i,r,a,l){var h=S.T;S.T=null;var m=ue.p;try{ue.p=8,$m(i,r,a,l)}finally{ue.p=m,S.T=h}}function $m(i,r,a,l){if(wh){var h=Km(l);if(h===null)Mm(i,r,l,Eh,a),hw(i,l);else if(P2(h,i,r,a,l))l.stopPropagation();else if(hw(i,l),r&4&&-1<M2.indexOf(i)){for(;h!==null;){var m=Fi(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var w=ri(m.pendingLanes);if(w!==0){var T=m;for(T.pendingLanes|=2,T.entangledLanes|=2;w;){var I=1<<31-hn(w);T.entanglements[1]|=I,w&=~I}Di(m),!(ut&6)&&(rh=_n()+500,tu(0))}}break;case 13:T=$r(m,2),T!==null&&pn(T,m,2),oh(),Gm(m,2)}if(m=Km(l),m===null&&Mm(i,r,l,Eh,a),m===h)break;h=m}h!==null&&l.stopPropagation()}else Mm(i,r,l,null,a)}}function Km(i){return i=Ha(i),Qm(i)}var Eh=null;function Qm(i){if(Eh=null,i=si(i),i!==null){var r=ge(i);if(r===null)i=null;else{var a=r.tag;if(a===13){if(i=qe(r),i!==null)return i;i=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Eh=i,null}function cw(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ac()){case Dt:return 2;case Ut:return 8;case Hi:case oc:return 32;case ul:return 268435456;default:return 32}default:return 32}}var Ym=!1,os=null,ls=null,us=null,lu=new Map,uu=new Map,cs=[],M2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hw(i,r){switch(i){case"focusin":case"focusout":os=null;break;case"dragenter":case"dragleave":ls=null;break;case"mouseover":case"mouseout":us=null;break;case"pointerover":case"pointerout":lu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":uu.delete(r.pointerId)}}function cu(i,r,a,l,h,m){return i===null||i.nativeEvent!==m?(i={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[h]},r!==null&&(r=Fi(r),r!==null&&uw(r)),i):(i.eventSystemFlags|=l,r=i.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),i)}function P2(i,r,a,l,h){switch(r){case"focusin":return os=cu(os,i,r,a,l,h),!0;case"dragenter":return ls=cu(ls,i,r,a,l,h),!0;case"mouseover":return us=cu(us,i,r,a,l,h),!0;case"pointerover":var m=h.pointerId;return lu.set(m,cu(lu.get(m)||null,i,r,a,l,h)),!0;case"gotpointercapture":return m=h.pointerId,uu.set(m,cu(uu.get(m)||null,i,r,a,l,h)),!0}return!1}function fw(i){var r=si(i.target);if(r!==null){var a=ge(r);if(a!==null){if(r=a.tag,r===13){if(r=qe(a),r!==null){i.blockedOn=r,Lr(i.priority,function(){if(a.tag===13){var l=xn(),h=$r(a,l);h!==null&&pn(h,a,l),Gm(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function bh(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var a=Km(i.nativeEvent);if(a===null){a=i.nativeEvent;var l=new a.constructor(a.type,a);qn=l,a.target.dispatchEvent(l),qn=null}else return r=Fi(a),r!==null&&uw(r),i.blockedOn=a,!1;r.shift()}return!0}function dw(i,r,a){bh(i)&&a.delete(r)}function V2(){Ym=!1,os!==null&&bh(os)&&(os=null),ls!==null&&bh(ls)&&(ls=null),us!==null&&bh(us)&&(us=null),lu.forEach(dw),uu.forEach(dw)}function Th(i,r){i.blockedOn===r&&(i.blockedOn=null,Ym||(Ym=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,V2)))}var Ah=null;function mw(i){Ah!==i&&(Ah=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Ah===i&&(Ah=null);for(var r=0;r<i.length;r+=3){var a=i[r],l=i[r+1],h=i[r+2];if(typeof l!="function"){if(Qm(l||a)===null)continue;break}var m=Fi(a);m!==null&&(i.splice(r,3),r-=3,Ud(m,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function hu(i){function r(I){return Th(I,i)}os!==null&&Th(os,i),ls!==null&&Th(ls,i),us!==null&&Th(us,i),lu.forEach(r),uu.forEach(r);for(var a=0;a<cs.length;a++){var l=cs[a];l.blockedOn===i&&(l.blockedOn=null)}for(;0<cs.length&&(a=cs[0],a.blockedOn===null);)fw(a),a.blockedOn===null&&cs.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],m=a[l+1],w=h[Ot]||null;if(typeof m=="function")w||mw(a);else if(w){var T=null;if(m&&m.hasAttribute("formAction")){if(h=m,w=m[Ot]||null)T=w.formAction;else if(Qm(h)!==null)continue}else T=w.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),mw(a)}}}function Xm(i){this._internalRoot=i}Sh.prototype.render=Xm.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=xn();ow(a,l,i,r,null,null)},Sh.prototype.unmount=Xm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;i.tag===0&&vo(),ow(i.current,2,null,i,null,null),oh(),r[qi]=null}};function Sh(i){this._internalRoot=i}Sh.prototype.unstable_scheduleHydration=function(i){if(i){var r=fc();i={blockedOn:null,target:i,priority:r};for(var a=0;a<cs.length&&r!==0&&r<cs[a].priority;a++);cs.splice(a,0,i),a===0&&fw(i)}};var pw=e.version;if(pw!=="19.0.0")throw Error(s(527,pw,"19.0.0"));ue.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=re(r),i=i!==null?me(i):null,i=i===null?null:i.stateNode,i};var L2={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:si,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rh.isDisabled&&Rh.supportsFiber)try{Nr=Rh.inject(L2),tn=Rh}catch{}}return du.createRoot=function(i,r){if(!o(i))throw Error(s(299));var a=!1,l="",h=xv,m=kv,w=Mv,T=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(w=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=sw(i,1,!1,null,null,a,l,h,m,w,T,null),i[qi]=r.current,km(i.nodeType===8?i.parentNode:i),new Xm(r)},du.hydrateRoot=function(i,r,a){if(!o(i))throw Error(s(299));var l=!1,h="",m=xv,w=kv,T=Mv,I=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(w=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),r=sw(i,1,!0,r,a??null,l,h,m,w,T,I,L),r.context=aw(null),a=r.current,l=xn(),h=Jr(l),h.callback=null,es(a,h,l),r.current.lanes=l,vt(r,l),Di(r),i[qi]=r.current,km(i),new Sh(r)},du.version="19.0.0",du}var Sw;function Q2(){if(Sw)return Jm.exports;Sw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Jm.exports=K2(),Jm.exports}var Y2=Q2(),mu={},Rw;function X2(){if(Rw)return mu;Rw=1,Object.defineProperty(mu,"__esModule",{value:!0}),mu.parse=f,mu.serialize=g;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function f(b,C){const D=new u,U=b.length;if(U<2)return D;const P=(C==null?void 0:C.decode)||v;let Y=0;do{const ne=b.indexOf("=",Y);if(ne===-1)break;const K=b.indexOf(";",Y),oe=K===-1?U:K;if(ne>oe){Y=b.lastIndexOf(";",ne-1)+1;continue}const Z=p(b,Y,ne),fe=d(b,ne,Z),x=b.slice(Z,fe);if(D[x]===void 0){let R=p(b,ne+1,oe),S=d(b,oe,R);const O=P(b.slice(R,S));D[x]=O}Y=oe+1}while(Y<U);return D}function p(b,C,D){do{const U=b.charCodeAt(C);if(U!==32&&U!==9)return C}while(++C<D);return D}function d(b,C,D){for(;C>D;){const U=b.charCodeAt(--C);if(U!==32&&U!==9)return C+1}return D}function g(b,C,D){const U=(D==null?void 0:D.encode)||encodeURIComponent;if(!n.test(b))throw new TypeError(`argument name is invalid: ${b}`);const P=U(C);if(!e.test(P))throw new TypeError(`argument val is invalid: ${C}`);let Y=b+"="+P;if(!D)return Y;if(D.maxAge!==void 0){if(!Number.isInteger(D.maxAge))throw new TypeError(`option maxAge is invalid: ${D.maxAge}`);Y+="; Max-Age="+D.maxAge}if(D.domain){if(!t.test(D.domain))throw new TypeError(`option domain is invalid: ${D.domain}`);Y+="; Domain="+D.domain}if(D.path){if(!s.test(D.path))throw new TypeError(`option path is invalid: ${D.path}`);Y+="; Path="+D.path}if(D.expires){if(!E(D.expires)||!Number.isFinite(D.expires.valueOf()))throw new TypeError(`option expires is invalid: ${D.expires}`);Y+="; Expires="+D.expires.toUTCString()}if(D.httpOnly&&(Y+="; HttpOnly"),D.secure&&(Y+="; Secure"),D.partitioned&&(Y+="; Partitioned"),D.priority)switch(typeof D.priority=="string"?D.priority.toLowerCase():void 0){case"low":Y+="; Priority=Low";break;case"medium":Y+="; Priority=Medium";break;case"high":Y+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${D.priority}`)}if(D.sameSite)switch(typeof D.sameSite=="string"?D.sameSite.toLowerCase():D.sameSite){case!0:case"strict":Y+="; SameSite=Strict";break;case"lax":Y+="; SameSite=Lax";break;case"none":Y+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${D.sameSite}`)}return Y}function v(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function E(b){return o.call(b)==="[object Date]"}return mu}X2();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Cw="popstate";function W2(n={}){function e(s,o){let{pathname:u,search:f,hash:p}=s.location;return vp("",{pathname:u,search:f,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:Du(o)}return J2(e,t,null,n)}function ct(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function fi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Z2(){return Math.random().toString(36).substring(2,10)}function Iw(n,e){return{usr:n.state,key:n.key,idx:e}}function vp(n,e,t=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ko(e):e,state:t,key:e&&e.key||s||Z2()}}function Du({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ko(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function J2(n,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,p="POP",d=null,g=v();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function v(){return(f.state||{idx:null}).idx}function E(){p="POP";let P=v(),Y=P==null?null:P-g;g=P,d&&d({action:p,location:U.location,delta:Y})}function b(P,Y){p="PUSH";let ne=vp(U.location,P,Y);g=v()+1;let K=Iw(ne,g),oe=U.createHref(ne);try{f.pushState(K,"",oe)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;o.location.assign(oe)}u&&d&&d({action:p,location:U.location,delta:1})}function C(P,Y){p="REPLACE";let ne=vp(U.location,P,Y);g=v();let K=Iw(ne,g),oe=U.createHref(ne);f.replaceState(K,"",oe),u&&d&&d({action:p,location:U.location,delta:0})}function D(P){let Y=o.location.origin!=="null"?o.location.origin:o.location.href,ne=typeof P=="string"?P:Du(P);return ne=ne.replace(/ $/,"%20"),ct(Y,`No window.location.(origin|href) available to create URL for href: ${ne}`),new URL(ne,Y)}let U={get action(){return p},get location(){return n(o,f)},listen(P){if(d)throw new Error("A history only accepts one active listener");return o.addEventListener(Cw,E),d=P,()=>{o.removeEventListener(Cw,E),d=null}},createHref(P){return e(o,P)},createURL:D,encodeLocation(P){let Y=D(P);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:b,replace:C,go(P){return f.go(P)}};return U}function vE(n,e,t="/"){return e1(n,e,t,!1)}function e1(n,e,t,s){let o=typeof e=="string"?Ko(e):e,u=As(o.pathname||"/",t);if(u==null)return null;let f=_E(n);t1(f);let p=null;for(let d=0;p==null&&d<f.length;++d){let g=f1(u);p=c1(f[d],g,s)}return p}function _E(n,e=[],t=[],s=""){let o=(u,f,p)=>{let d={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};d.relativePath.startsWith("/")&&(ct(d.relativePath.startsWith(s),`Absolute route path "${d.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(s.length));let g=vr([s,d.relativePath]),v=t.concat(d);u.children&&u.children.length>0&&(ct(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),_E(u.children,e,v,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:l1(g,u.index),routesMeta:v})};return n.forEach((u,f)=>{var p;if(u.path===""||!((p=u.path)!=null&&p.includes("?")))o(u,f);else for(let d of wE(u.path))o(u,f,d)}),e}function wE(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=wE(s.join("/")),p=[];return p.push(...f.map(d=>d===""?u:[u,d].join("/"))),o&&p.push(...f),p.map(d=>n.startsWith("/")&&d===""?"/":d)}function t1(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:u1(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var n1=/^:[\w-]+$/,i1=3,r1=2,s1=1,a1=10,o1=-2,Dw=n=>n==="*";function l1(n,e){let t=n.split("/"),s=t.length;return t.some(Dw)&&(s+=o1),e&&(s+=r1),t.filter(o=>!Dw(o)).reduce((o,u)=>o+(n1.test(u)?i1:u===""?s1:a1),s)}function u1(n,e){return n.length===e.length&&n.slice(0,-1).every((s,o)=>s===e[o])?n[n.length-1]-e[e.length-1]:0}function c1(n,e,t=!1){let{routesMeta:s}=n,o={},u="/",f=[];for(let p=0;p<s.length;++p){let d=s[p],g=p===s.length-1,v=u==="/"?e:e.slice(u.length)||"/",E=Kh({path:d.relativePath,caseSensitive:d.caseSensitive,end:g},v),b=d.route;if(!E&&g&&t&&!s[s.length-1].route.index&&(E=Kh({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},v)),!E)return null;Object.assign(o,E.params),f.push({params:o,pathname:vr([u,E.pathname]),pathnameBase:g1(vr([u,E.pathnameBase])),route:b}),E.pathnameBase!=="/"&&(u=vr([u,E.pathnameBase]))}return f}function Kh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=h1(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:E},b)=>{if(v==="*"){let D=p[b]||"";f=u.slice(0,u.length-D.length).replace(/(.)\/+$/,"$1")}const C=p[b];return E&&!C?g[v]=void 0:g[v]=(C||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:n}}function h1(n,e=!1,t=!0){fi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,d)=>(s.push({paramName:p,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(s.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function f1(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function As(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}function d1(n,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof n=="string"?Ko(n):n;return{pathname:t?t.startsWith("/")?t:m1(t,e):e,search:y1(s),hash:v1(o)}}function m1(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function ip(n,e,t,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function p1(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function EE(n){let e=p1(n);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function bE(n,e,t,s=!1){let o;typeof n=="string"?o=Ko(n):(o={...n},ct(!o.pathname||!o.pathname.includes("?"),ip("?","pathname","search",o)),ct(!o.pathname||!o.pathname.includes("#"),ip("#","pathname","hash",o)),ct(!o.search||!o.search.includes("#"),ip("#","search","hash",o)));let u=n===""||o.pathname==="",f=u?"/":o.pathname,p;if(f==null)p=t;else{let E=e.length-1;if(!s&&f.startsWith("..")){let b=f.split("/");for(;b[0]==="..";)b.shift(),E-=1;o.pathname=b.join("/")}p=E>=0?e[E]:"/"}let d=d1(o,p),g=f&&f!=="/"&&f.endsWith("/"),v=(u||f===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(g||v)&&(d.pathname+="/"),d}var vr=n=>n.join("/").replace(/\/\/+/g,"/"),g1=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),y1=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,v1=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function _1(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var TE=["POST","PUT","PATCH","DELETE"];new Set(TE);var w1=["GET",...TE];new Set(w1);var Qo=G.createContext(null);Qo.displayName="DataRouter";var Tf=G.createContext(null);Tf.displayName="DataRouterState";var AE=G.createContext({isTransitioning:!1});AE.displayName="ViewTransition";var E1=G.createContext(new Map);E1.displayName="Fetchers";var b1=G.createContext(null);b1.displayName="Await";var Ui=G.createContext(null);Ui.displayName="Navigation";var zu=G.createContext(null);zu.displayName="Location";var Bi=G.createContext({outlet:null,matches:[],isDataRoute:!1});Bi.displayName="Route";var Jp=G.createContext(null);Jp.displayName="RouteError";function T1(n,{relative:e}={}){ct(ju(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=G.useContext(Ui),{hash:o,pathname:u,search:f}=Hu(n,{relative:e}),p=u;return t!=="/"&&(p=u==="/"?t:vr([t,u])),s.createHref({pathname:p,search:f,hash:o})}function ju(){return G.useContext(zu)!=null}function Ns(){return ct(ju(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(zu).location}var SE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function RE(n){G.useContext(Ui).static||G.useLayoutEffect(n)}function Ca(){let{isDataRoute:n}=G.useContext(Bi);return n?L1():A1()}function A1(){ct(ju(),"useNavigate() may be used only in the context of a <Router> component.");let n=G.useContext(Qo),{basename:e,navigator:t}=G.useContext(Ui),{matches:s}=G.useContext(Bi),{pathname:o}=Ns(),u=JSON.stringify(EE(s)),f=G.useRef(!1);return RE(()=>{f.current=!0}),G.useCallback((d,g={})=>{if(fi(f.current,SE),!f.current)return;if(typeof d=="number"){t.go(d);return}let v=bE(d,JSON.parse(u),o,g.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:vr([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,u,o,n])}G.createContext(null);function S1(){let{matches:n}=G.useContext(Bi),e=n[n.length-1];return e?e.params:{}}function Hu(n,{relative:e}={}){let{matches:t}=G.useContext(Bi),{pathname:s}=Ns(),o=JSON.stringify(EE(t));return G.useMemo(()=>bE(n,JSON.parse(o),s,e==="path"),[n,o,s,e])}function R1(n,e){return CE(n,e)}function CE(n,e,t,s){var ne;ct(ju(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=G.useContext(Ui),{matches:f}=G.useContext(Bi),p=f[f.length-1],d=p?p.params:{},g=p?p.pathname:"/",v=p?p.pathnameBase:"/",E=p&&p.route;{let K=E&&E.path||"";IE(g,!E||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let b=Ns(),C;if(e){let K=typeof e=="string"?Ko(e):e;ct(v==="/"||((ne=K.pathname)==null?void 0:ne.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${K.pathname}" was given in the \`location\` prop.`),C=K}else C=b;let D=C.pathname||"/",U=D;if(v!=="/"){let K=v.replace(/^\//,"").split("/");U="/"+D.replace(/^\//,"").split("/").slice(K.length).join("/")}let P=!u&&t&&t.matches&&t.matches.length>0?t.matches:vE(n,{pathname:U});fi(E||P!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),fi(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=N1(P&&P.map(K=>Object.assign({},K,{params:Object.assign({},d,K.params),pathname:vr([v,o.encodeLocation?o.encodeLocation(K.pathname).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?v:vr([v,o.encodeLocation?o.encodeLocation(K.pathnameBase).pathname:K.pathnameBase])})),f,t,s);return e&&Y?G.createElement(zu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},Y):Y}function C1(){let n=V1(),e=_1(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",n),f=G.createElement(G.Fragment,null,G.createElement("p",null,"💿 Hey developer 👋"),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:u},"ErrorBoundary")," or"," ",G.createElement("code",{style:u},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),t?G.createElement("pre",{style:o},t):null,f)}var I1=G.createElement(C1,null),D1=class extends G.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?G.createElement(Bi.Provider,{value:this.props.routeContext},G.createElement(Jp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function O1({routeContext:n,match:e,children:t}){let s=G.useContext(Qo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(Bi.Provider,{value:n},t)}function N1(n,e=[],t=null,s=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,u=t==null?void 0:t.errors;if(u!=null){let d=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);ct(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,d+1))}let f=!1,p=-1;if(t)for(let d=0;d<o.length;d++){let g=o[d];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(p=d),g.route.id){let{loaderData:v,errors:E}=t,b=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!E||E[g.route.id]===void 0);if(g.route.lazy||b){f=!0,p>=0?o=o.slice(0,p+1):o=[o[0]];break}}}return o.reduceRight((d,g,v)=>{let E,b=!1,C=null,D=null;t&&(E=u&&g.route.id?u[g.route.id]:void 0,C=g.route.errorElement||I1,f&&(p<0&&v===0?(IE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,D=null):p===v&&(b=!0,D=g.route.hydrateFallbackElement||null)));let U=e.concat(o.slice(0,v+1)),P=()=>{let Y;return E?Y=C:b?Y=D:g.route.Component?Y=G.createElement(g.route.Component,null):g.route.element?Y=g.route.element:Y=d,G.createElement(O1,{match:g,routeContext:{outlet:d,matches:U,isDataRoute:t!=null},children:Y})};return t&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?G.createElement(D1,{location:t.location,revalidation:t.revalidation,component:C,error:E,children:P(),routeContext:{outlet:null,matches:U,isDataRoute:!0}}):P()},null)}function eg(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function x1(n){let e=G.useContext(Qo);return ct(e,eg(n)),e}function k1(n){let e=G.useContext(Tf);return ct(e,eg(n)),e}function M1(n){let e=G.useContext(Bi);return ct(e,eg(n)),e}function tg(n){let e=M1(n),t=e.matches[e.matches.length-1];return ct(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function P1(){return tg("useRouteId")}function V1(){var s;let n=G.useContext(Jp),e=k1("useRouteError"),t=tg("useRouteError");return n!==void 0?n:(s=e.errors)==null?void 0:s[t]}function L1(){let{router:n}=x1("useNavigate"),e=tg("useNavigate"),t=G.useRef(!1);return RE(()=>{t.current=!0}),G.useCallback(async(o,u={})=>{fi(t.current,SE),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...u}))},[n,e])}var Ow={};function IE(n,e,t){!e&&!Ow[n]&&(Ow[n]=!0,fi(!1,t))}G.memo(U1);function U1({routes:n,future:e,state:t}){return CE(n,void 0,t,e)}function pa(n){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function B1({basename:n="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){ct(!ju(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=n.replace(/^\/*/,"/"),p=G.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof t=="string"&&(t=Ko(t));let{pathname:d="/",search:g="",hash:v="",state:E=null,key:b="default"}=t,C=G.useMemo(()=>{let D=As(d,f);return D==null?null:{location:{pathname:D,search:g,hash:v,state:E,key:b},navigationType:s}},[f,d,g,v,E,b,s]);return fi(C!=null,`<Router basename="${f}"> is not able to match the URL "${d}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:G.createElement(Ui.Provider,{value:p},G.createElement(zu.Provider,{children:e,value:C}))}function z1({children:n,location:e}){return R1(_p(n),e)}function _p(n,e=[]){let t=[];return G.Children.forEach(n,(s,o)=>{if(!G.isValidElement(s))return;let u=[...e,o];if(s.type===G.Fragment){t.push.apply(t,_p(s.props.children,u));return}ct(s.type===pa,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=_p(s.props.children,u)),t.push(f)}),t}var Ph="get",Vh="application/x-www-form-urlencoded";function Af(n){return n!=null&&typeof n.tagName=="string"}function j1(n){return Af(n)&&n.tagName.toLowerCase()==="button"}function H1(n){return Af(n)&&n.tagName.toLowerCase()==="form"}function q1(n){return Af(n)&&n.tagName.toLowerCase()==="input"}function F1(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function G1(n,e){return n.button===0&&(!e||e==="_self")&&!F1(n)}function wp(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let s=n[t];return e.concat(Array.isArray(s)?s.map(o=>[t,o]):[[t,s]])},[]))}function $1(n,e){let t=wp(n);return e&&e.forEach((s,o)=>{t.has(o)||e.getAll(o).forEach(u=>{t.append(o,u)})}),t}var Ch=null;function K1(){if(Ch===null)try{new FormData(document.createElement("form"),0),Ch=!1}catch{Ch=!0}return Ch}var Q1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rp(n){return n!=null&&!Q1.has(n)?(fi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vh}"`),null):n}function Y1(n,e){let t,s,o,u,f;if(H1(n)){let p=n.getAttribute("action");s=p?As(p,e):null,t=n.getAttribute("method")||Ph,o=rp(n.getAttribute("enctype"))||Vh,u=new FormData(n)}else if(j1(n)||q1(n)&&(n.type==="submit"||n.type==="image")){let p=n.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||p.getAttribute("action");if(s=d?As(d,e):null,t=n.getAttribute("formmethod")||p.getAttribute("method")||Ph,o=rp(n.getAttribute("formenctype"))||rp(p.getAttribute("enctype"))||Vh,u=new FormData(p,n),!K1()){let{name:g,type:v,value:E}=n;if(v==="image"){let b=g?`${g}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else g&&u.append(g,E)}}else{if(Af(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ph,s=null,o=Vh,f=n}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:f}}function ng(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function X1(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function W1(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Z1(n,e,t){let s=await Promise.all(n.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await X1(u,t);return f.links?f.links():[]}return[]}));return nR(s.flat(1).filter(W1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Nw(n,e,t,s,o,u){let f=(d,g)=>t[g]?d.route.id!==t[g].route.id:!0,p=(d,g)=>{var v;return t[g].pathname!==d.pathname||((v=t[g].route.path)==null?void 0:v.endsWith("*"))&&t[g].params["*"]!==d.params["*"]};return u==="assets"?e.filter((d,g)=>f(d,g)||p(d,g)):u==="data"?e.filter((d,g)=>{var E;let v=s.routes[d.route.id];if(!v||!v.hasLoader)return!1;if(f(d,g)||p(d,g))return!0;if(d.route.shouldRevalidate){let b=d.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((E=t[0])==null?void 0:E.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function J1(n,e){return eR(n.map(t=>{let s=e.routes[t.route.id];if(!s)return[];let o=[s.module];return s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function eR(n){return[...new Set(n)]}function tR(n){let e={},t=Object.keys(n).sort();for(let s of t)e[s]=n[s];return e}function nR(n,e){let t=new Set;return new Set(e),n.reduce((s,o)=>{let u=JSON.stringify(tR(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}function iR(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function rR(){let n=G.useContext(Qo);return ng(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function sR(){let n=G.useContext(Tf);return ng(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var ig=G.createContext(void 0);ig.displayName="FrameworkContext";function DE(){let n=G.useContext(ig);return ng(n,"You must render this element inside a <HydratedRouter> element"),n}function aR(n,e){let t=G.useContext(ig),[s,o]=G.useState(!1),[u,f]=G.useState(!1),{onFocus:p,onBlur:d,onMouseEnter:g,onMouseLeave:v,onTouchStart:E}=e,b=G.useRef(null);G.useEffect(()=>{if(n==="render"&&f(!0),n==="viewport"){let U=Y=>{Y.forEach(ne=>{f(ne.isIntersecting)})},P=new IntersectionObserver(U,{threshold:.5});return b.current&&P.observe(b.current),()=>{P.disconnect()}}},[n]),G.useEffect(()=>{if(s){let U=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(U)}}},[s]);let C=()=>{o(!0)},D=()=>{o(!1),f(!1)};return t?n!=="intent"?[u,b,{}]:[u,b,{onFocus:pu(p,C),onBlur:pu(d,D),onMouseEnter:pu(g,C),onMouseLeave:pu(v,D),onTouchStart:pu(E,C)}]:[!1,b,{}]}function pu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function oR({page:n,...e}){let{router:t}=rR(),s=G.useMemo(()=>vE(t.routes,n,t.basename),[t.routes,n,t.basename]);return s?G.createElement(uR,{page:n,matches:s,...e}):null}function lR(n){let{manifest:e,routeModules:t}=DE(),[s,o]=G.useState([]);return G.useEffect(()=>{let u=!1;return Z1(n,e,t).then(f=>{u||o(f)}),()=>{u=!0}},[n,e,t]),s}function uR({page:n,matches:e,...t}){let s=Ns(),{manifest:o,routeModules:u}=DE(),{loaderData:f,matches:p}=sR(),d=G.useMemo(()=>Nw(n,e,p,o,s,"data"),[n,e,p,o,s]),g=G.useMemo(()=>Nw(n,e,p,o,s,"assets"),[n,e,p,o,s]),v=G.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let C=new Set,D=!1;if(e.forEach(P=>{var ne;let Y=o.routes[P.route.id];!Y||!Y.hasLoader||(!d.some(K=>K.route.id===P.route.id)&&P.route.id in f&&((ne=u[P.route.id])!=null&&ne.shouldRevalidate)||Y.hasClientLoader?D=!0:C.add(P.route.id))}),C.size===0)return[];let U=iR(n);return D&&C.size>0&&U.searchParams.set("_routes",e.filter(P=>C.has(P.route.id)).map(P=>P.route.id).join(",")),[U.pathname+U.search]},[f,s,o,d,e,n,u]),E=G.useMemo(()=>J1(g,o),[g,o]),b=lR(g);return G.createElement(G.Fragment,null,v.map(C=>G.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),E.map(C=>G.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),b.map(({key:C,link:D})=>G.createElement("link",{key:C,...D})))}function cR(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var OE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{OE&&(window.__reactRouterVersion="7.1.5")}catch{}function hR({basename:n,children:e,window:t}){let s=G.useRef();s.current==null&&(s.current=W2({window:t,v5Compat:!0}));let o=s.current,[u,f]=G.useState({action:o.action,location:o.location}),p=G.useCallback(d=>{G.startTransition(()=>f(d))},[f]);return G.useLayoutEffect(()=>o.listen(p),[o,p]),G.createElement(B1,{basename:n,children:e,location:u.location,navigationType:u.action,navigator:o})}var NE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xE=G.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:p,target:d,to:g,preventScrollReset:v,viewTransition:E,...b},C){let{basename:D}=G.useContext(Ui),U=typeof g=="string"&&NE.test(g),P,Y=!1;if(typeof g=="string"&&U&&(P=g,OE))try{let S=new URL(window.location.href),O=g.startsWith("//")?new URL(S.protocol+g):new URL(g),k=As(O.pathname,D);O.origin===S.origin&&k!=null?g=k+O.search+O.hash:Y=!0}catch{fi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ne=T1(g,{relative:o}),[K,oe,Z]=aR(s,b),fe=pR(g,{replace:f,state:p,target:d,preventScrollReset:v,relative:o,viewTransition:E});function x(S){e&&e(S),S.defaultPrevented||fe(S)}let R=G.createElement("a",{...b,...Z,href:P||ne,onClick:Y||u?e:x,ref:cR(C,oe),target:d,"data-discover":!U&&t==="render"?"true":void 0});return K&&!U?G.createElement(G.Fragment,null,R,G.createElement(oR,{page:ne})):R});xE.displayName="Link";var fR=G.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:p,children:d,...g},v){let E=Hu(f,{relative:g.relative}),b=Ns(),C=G.useContext(Tf),{navigator:D,basename:U}=G.useContext(Ui),P=C!=null&&ER(E)&&p===!0,Y=D.encodeLocation?D.encodeLocation(E).pathname:E.pathname,ne=b.pathname,K=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(ne=ne.toLowerCase(),K=K?K.toLowerCase():null,Y=Y.toLowerCase()),K&&U&&(K=As(K,U)||K);const oe=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let Z=ne===Y||!o&&ne.startsWith(Y)&&ne.charAt(oe)==="/",fe=K!=null&&(K===Y||!o&&K.startsWith(Y)&&K.charAt(Y.length)==="/"),x={isActive:Z,isPending:fe,isTransitioning:P},R=Z?e:void 0,S;typeof s=="function"?S=s(x):S=[s,Z?"active":null,fe?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(x):u;return G.createElement(xE,{...g,"aria-current":R,className:S,ref:v,style:O,to:f,viewTransition:p},typeof d=="function"?d(x):d)});fR.displayName="NavLink";var dR=G.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:f=Ph,action:p,onSubmit:d,relative:g,preventScrollReset:v,viewTransition:E,...b},C)=>{let D=_R(),U=wR(p,{relative:g}),P=f.toLowerCase()==="get"?"get":"post",Y=typeof p=="string"&&NE.test(p),ne=K=>{if(d&&d(K),K.defaultPrevented)return;K.preventDefault();let oe=K.nativeEvent.submitter,Z=(oe==null?void 0:oe.getAttribute("formmethod"))||f;D(oe||K.currentTarget,{fetcherKey:e,method:Z,navigate:t,replace:o,state:u,relative:g,preventScrollReset:v,viewTransition:E})};return G.createElement("form",{ref:C,method:P,action:U,onSubmit:s?d:ne,...b,"data-discover":!Y&&n==="render"?"true":void 0})});dR.displayName="Form";function mR(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kE(n){let e=G.useContext(Qo);return ct(e,mR(n)),e}function pR(n,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let p=Ca(),d=Ns(),g=Hu(n,{relative:u});return G.useCallback(v=>{if(G1(v,e)){v.preventDefault();let E=t!==void 0?t:Du(d)===Du(g);p(n,{replace:E,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[d,p,g,t,s,e,n,o,u,f])}function gR(n){fi(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=G.useRef(wp(n)),t=G.useRef(!1),s=Ns(),o=G.useMemo(()=>$1(s.search,t.current?null:e.current),[s.search]),u=Ca(),f=G.useCallback((p,d)=>{const g=wp(typeof p=="function"?p(o):p);t.current=!0,u("?"+g,d)},[u,o]);return[o,f]}var yR=0,vR=()=>`__${String(++yR)}__`;function _R(){let{router:n}=kE("useSubmit"),{basename:e}=G.useContext(Ui),t=P1();return G.useCallback(async(s,o={})=>{let{action:u,method:f,encType:p,formData:d,body:g}=Y1(s,e);if(o.navigate===!1){let v=o.fetcherKey||vR();await n.fetch(v,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:d,body:g,formMethod:o.method||f,formEncType:o.encType||p,flushSync:o.flushSync})}else await n.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:d,body:g,formMethod:o.method||f,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function wR(n,{relative:e}={}){let{basename:t}=G.useContext(Ui),s=G.useContext(Bi);ct(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Hu(n||".",{relative:e})},f=Ns();if(n==null){u.search=f.search;let p=new URLSearchParams(u.search),d=p.getAll("index");if(d.some(v=>v==="")){p.delete("index"),d.filter(E=>E).forEach(E=>p.append("index",E));let v=p.toString();u.search=v?`?${v}`:""}}return(!n||n===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:vr([t,u.pathname])),Du(u)}function ER(n,e={}){let t=G.useContext(AE);ct(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=kE("useViewTransitionState"),o=Hu(n,{relative:e.relative});if(!t.isTransitioning)return!1;let u=As(t.currentLocation.pathname,s)||t.currentLocation.pathname,f=As(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Kh(o.pathname,f)!=null||Kh(o.pathname,u)!=null}new TextEncoder;var xw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let o=n.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},bR=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const o=n[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=n[t++],f=n[t++],p=n[t++],d=((o&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(d>>10)),e[s++]=String.fromCharCode(56320+(d&1023))}else{const u=n[t++],f=n[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},PE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<n.length;o+=3){const u=n[o],f=o+1<n.length,p=f?n[o+1]:0,d=o+2<n.length,g=d?n[o+2]:0,v=u>>2,E=(u&3)<<4|p>>4;let b=(p&15)<<2|g>>6,C=g&63;d||(C=64,f||(b=64)),s.push(t[v],t[E],t[b],t[C])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(ME(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):bR(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<n.length;){const u=t[n.charAt(o++)],p=o<n.length?t[n.charAt(o)]:0;++o;const g=o<n.length?t[n.charAt(o)]:64;++o;const E=o<n.length?t[n.charAt(o)]:64;if(++o,u==null||p==null||g==null||E==null)throw new TR;const b=u<<2|p>>4;if(s.push(b),g!==64){const C=p<<4&240|g>>2;if(s.push(C),E!==64){const D=g<<6&192|E;s.push(D)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class TR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AR=function(n){const e=ME(n);return PE.encodeByteArray(e,!0)},Qh=function(n){return AR(n).replace(/\./g,"")},VE=function(n){try{return PE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=()=>SR().__FIREBASE_DEFAULTS__,CR=()=>{if(typeof process>"u"||typeof xw>"u")return;const n=xw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},IR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&VE(n[1]);return e&&JSON.parse(e)},Sf=()=>{try{return RR()||CR()||IR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},LE=n=>{var e,t;return(t=(e=Sf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},DR=n=>{const e=LE(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},UE=()=>{var n;return(n=Sf())===null||n===void 0?void 0:n.config},BE=n=>{var e;return(e=Sf())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Qh(JSON.stringify(t)),Qh(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function kR(){var n;const e=(n=Sf())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function MR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function PR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function VR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function LR(){const n=ln();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function UR(){return!kR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function BR(){try{return typeof indexedDB=="object"}catch{return!1}}function zR(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR="FirebaseError";class Cr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=jR,Object.setPrototypeOf(this,Cr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qu.prototype.create)}}class qu{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?HR(u,s):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new Cr(o,p,s)}}function HR(n,e){return n.replace(qR,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const qR=/\{\$([^}]+)}/g;function FR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Yh(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=n[o],f=e[o];if(kw(u)&&kw(f)){if(!Yh(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function kw(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function gu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function yu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function GR(n,e){const t=new $R(n,e);return t.subscribe.bind(t)}class $R{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");KR(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=sp),o.error===void 0&&(o.error=sp),o.complete===void 0&&(o.complete=sp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function KR(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function sp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(n){return n&&n._delegate?n._delegate:n}class wa{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new OR;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XR(e))try{this.getOrInitializeService({instanceIdentifier:ga})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ga){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ga){return this.instances.has(e)}getOptions(e=ga){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&f.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:YR(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ga){return this.component?this.component.multipleInstances?e:ga:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YR(n){return n===ga?void 0:n}function XR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new QR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Me||(Me={}));const ZR={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},JR=Me.INFO,eC={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},tC=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),o=eC[e];if(o)console[o](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rg{constructor(e){this.name=e,this._logLevel=JR,this._logHandler=tC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ZR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const nC=(n,e)=>e.some(t=>n instanceof t);let Mw,Pw;function iC(){return Mw||(Mw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rC(){return Pw||(Pw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zE=new WeakMap,Ep=new WeakMap,jE=new WeakMap,ap=new WeakMap,sg=new WeakMap;function sC(n){const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",f)},u=()=>{t(_s(n.result)),o()},f=()=>{s(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",f)});return e.then(t=>{t instanceof IDBCursor&&zE.set(t,n)}).catch(()=>{}),sg.set(e,n),e}function aC(n){if(Ep.has(n))return;const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",f),n.removeEventListener("abort",f)},u=()=>{t(),o()},f=()=>{s(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",f),n.addEventListener("abort",f)});Ep.set(n,e)}let bp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Ep.get(n);if(e==="objectStoreNames")return n.objectStoreNames||jE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return _s(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function oC(n){bp=n(bp)}function lC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(op(this),e,...t);return jE.set(s,e.sort?e.sort():[e]),_s(s)}:rC().includes(n)?function(...e){return n.apply(op(this),e),_s(zE.get(this))}:function(...e){return _s(n.apply(op(this),e))}}function uC(n){return typeof n=="function"?lC(n):(n instanceof IDBTransaction&&aC(n),nC(n,iC())?new Proxy(n,bp):n)}function _s(n){if(n instanceof IDBRequest)return sC(n);if(ap.has(n))return ap.get(n);const e=uC(n);return e!==n&&(ap.set(n,e),sg.set(e,n)),e}const op=n=>sg.get(n);function cC(n,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(n,e),p=_s(f);return s&&f.addEventListener("upgradeneeded",d=>{s(_s(f.result),d.oldVersion,d.newVersion,_s(f.transaction),d)}),t&&f.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),p.then(d=>{u&&d.addEventListener("close",()=>u()),o&&d.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const hC=["get","getKey","getAll","getAllKeys","count"],fC=["put","add","delete","clear"],lp=new Map;function Vw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(lp.get(e))return lp.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=fC.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||hC.includes(t)))return;const u=async function(f,...p){const d=this.transaction(f,o?"readwrite":"readonly");let g=d.store;return s&&(g=g.index(p.shift())),(await Promise.all([g[t](...p),o&&d.done]))[0]};return lp.set(e,u),u}oC(n=>({...n,get:(e,t,s)=>Vw(e,t)||n.get(e,t,s),has:(e,t)=>!!Vw(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(mC(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function mC(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Tp="@firebase/app",Lw="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br=new rg("@firebase/app"),pC="@firebase/app-compat",gC="@firebase/analytics-compat",yC="@firebase/analytics",vC="@firebase/app-check-compat",_C="@firebase/app-check",wC="@firebase/auth",EC="@firebase/auth-compat",bC="@firebase/database",TC="@firebase/data-connect",AC="@firebase/database-compat",SC="@firebase/functions",RC="@firebase/functions-compat",CC="@firebase/installations",IC="@firebase/installations-compat",DC="@firebase/messaging",OC="@firebase/messaging-compat",NC="@firebase/performance",xC="@firebase/performance-compat",kC="@firebase/remote-config",MC="@firebase/remote-config-compat",PC="@firebase/storage",VC="@firebase/storage-compat",LC="@firebase/firestore",UC="@firebase/vertexai",BC="@firebase/firestore-compat",zC="firebase",jC="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap="[DEFAULT]",HC={[Tp]:"fire-core",[pC]:"fire-core-compat",[yC]:"fire-analytics",[gC]:"fire-analytics-compat",[_C]:"fire-app-check",[vC]:"fire-app-check-compat",[wC]:"fire-auth",[EC]:"fire-auth-compat",[bC]:"fire-rtdb",[TC]:"fire-data-connect",[AC]:"fire-rtdb-compat",[SC]:"fire-fn",[RC]:"fire-fn-compat",[CC]:"fire-iid",[IC]:"fire-iid-compat",[DC]:"fire-fcm",[OC]:"fire-fcm-compat",[NC]:"fire-perf",[xC]:"fire-perf-compat",[kC]:"fire-rc",[MC]:"fire-rc-compat",[PC]:"fire-gcs",[VC]:"fire-gcs-compat",[LC]:"fire-fst",[BC]:"fire-fst-compat",[UC]:"fire-vertex","fire-js":"fire-js",[zC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh=new Map,qC=new Map,Sp=new Map;function Uw(n,e){try{n.container.addComponent(e)}catch(t){br.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Vo(n){const e=n.name;if(Sp.has(e))return br.debug(`There were multiple attempts to register component ${e}.`),!1;Sp.set(e,n);for(const t of Xh.values())Uw(t,n);for(const t of qC.values())Uw(t,n);return!0}function ag(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Mn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ws=new qu("app","Firebase",FC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new wa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ws.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo=jC;function HE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Ap,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw ws.create("bad-app-name",{appName:String(o)});if(t||(t=UE()),!t)throw ws.create("no-options");const u=Xh.get(o);if(u){if(Yh(t,u.options)&&Yh(s,u.config))return u;throw ws.create("duplicate-app",{appName:o})}const f=new WR(o);for(const d of Sp.values())f.addComponent(d);const p=new GC(t,s,f);return Xh.set(o,p),p}function qE(n=Ap){const e=Xh.get(n);if(!e&&n===Ap&&UE())return HE();if(!e)throw ws.create("no-app",{appName:n});return e}function Es(n,e,t){var s;let o=(s=HC[n])!==null&&s!==void 0?s:n;t&&(o+=`-${t}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const p=[`Unable to register library "${o}" with version "${e}":`];u&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&p.push("and"),f&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),br.warn(p.join(" "));return}Vo(new wa(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C="firebase-heartbeat-database",KC=1,Ou="firebase-heartbeat-store";let up=null;function FE(){return up||(up=cC($C,KC,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ou)}catch(t){console.warn(t)}}}}).catch(n=>{throw ws.create("idb-open",{originalErrorMessage:n.message})})),up}async function QC(n){try{const t=(await FE()).transaction(Ou),s=await t.objectStore(Ou).get(GE(n));return await t.done,s}catch(e){if(e instanceof Cr)br.warn(e.message);else{const t=ws.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});br.warn(t.message)}}}async function Bw(n,e){try{const s=(await FE()).transaction(Ou,"readwrite");await s.objectStore(Ou).put(e,GE(n)),await s.done}catch(t){if(t instanceof Cr)br.warn(t.message);else{const s=ws.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});br.warn(s.message)}}}function GE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC=1024,XC=30;class WC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new JC(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=zw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>XC){const f=eI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){br.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=zw(),{heartbeatsToSend:s,unsentEntries:o}=ZC(this._heartbeatsCache.heartbeats),u=Qh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return br.warn(t),""}}}function zw(){return new Date().toISOString().substring(0,10)}function ZC(n,e=YC){const t=[];let s=n.slice();for(const o of n){const u=t.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),jw(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),jw(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class JC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BR()?zR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await QC(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Bw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Bw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function jw(n){return Qh(JSON.stringify({version:2,heartbeats:n})).length}function eI(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(n){Vo(new wa("platform-logger",e=>new dC(e),"PRIVATE")),Vo(new wa("heartbeat",e=>new WC(e),"PRIVATE")),Es(Tp,Lw,n),Es(Tp,Lw,"esm2017"),Es("fire-js","")}tI("");function og(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(n);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(n,s[o])&&(t[s[o]]=n[s[o]]);return t}function $E(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nI=$E,KE=new qu("auth","Firebase",$E());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh=new rg("@firebase/auth");function iI(n,...e){Wh.logLevel<=Me.WARN&&Wh.warn(`Auth (${Yo}): ${n}`,...e)}function Lh(n,...e){Wh.logLevel<=Me.ERROR&&Wh.error(`Auth (${Yo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(n,...e){throw ug(n,...e)}function ci(n,...e){return ug(n,...e)}function lg(n,e,t){const s=Object.assign(Object.assign({},nI()),{[e]:t});return new qu("auth","Firebase",s).create(e,{appName:n.name})}function _r(n){return lg(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rI(n,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&ni(n,"argument-error"),lg(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ug(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return KE.create(n,...e)}function be(n,e,...t){if(!n)throw ug(e,...t)}function pr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Lh(e),new Error(e)}function Tr(n,e){n||pr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function sI(){return Hw()==="http:"||Hw()==="https:"}function Hw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sI()||PR()||"connection"in navigator)?navigator.onLine:!0}function oI(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Tr(t>e,"Short delay should be less than long delay!"),this.isMobile=xR()||VR()}get(){return aI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(n,e){Tr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI=new Gu(3e4,6e4);function xs(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ir(n,e,t,s,o={}){return YE(n,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const p=Fu(Object.assign({key:n.config.apiKey},f)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:e,headers:d},u);return MR()||(g.referrerPolicy="no-referrer"),QE.fetch()(XE(n,n.config.apiHost,t,p),g)})}async function YE(n,e,t){n._canInitEmulator=!1;const s=Object.assign(Object.assign({},lI),e);try{const o=new hI(n),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Ih(n,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const p=u.ok?f.errorMessage:f.error.message,[d,g]=p.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ih(n,"credential-already-in-use",f);if(d==="EMAIL_EXISTS")throw Ih(n,"email-already-in-use",f);if(d==="USER_DISABLED")throw Ih(n,"user-disabled",f);const v=s[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw lg(n,v,g);ni(n,v)}}catch(o){if(o instanceof Cr)throw o;ni(n,"network-request-failed",{message:String(o)})}}async function $u(n,e,t,s,o={}){const u=await Ir(n,e,t,s,o);return"mfaPendingCredential"in u&&ni(n,"multi-factor-auth-required",{_serverResponse:u}),u}function XE(n,e,t,s){const o=`${e}${t}?${s}`;return n.config.emulator?cg(n.config,o):`${n.config.apiScheme}://${o}`}function cI(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class hI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(ci(this.auth,"network-request-failed")),uI.get())})}}function Ih(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=ci(n,e,s);return o.customData._tokenResponse=t,o}function qw(n){return n!==void 0&&n.enterprise!==void 0}class fI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return cI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function dI(n,e){return Ir(n,"GET","/v2/recaptchaConfig",xs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mI(n,e){return Ir(n,"POST","/v1/accounts:delete",e)}async function WE(n,e){return Ir(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function pI(n,e=!1){const t=$t(n),s=await t.getIdToken(e),o=hg(s);be(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Tu(cp(o.auth_time)),issuedAtTime:Tu(cp(o.iat)),expirationTime:Tu(cp(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function cp(n){return Number(n)*1e3}function hg(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return Lh("JWT malformed, contained fewer than 3 sections"),null;try{const o=VE(t);return o?JSON.parse(o):(Lh("Failed to decode base64 JWT payload"),null)}catch(o){return Lh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Fw(n){const e=hg(n);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lo(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Cr&&gI(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function gI({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tu(this.lastLoginAt),this.creationTime=Tu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zh(n){var e;const t=n.auth,s=await n.getIdToken(),o=await Lo(n,WE(t,{idToken:s}));be(o==null?void 0:o.users.length,t,"internal-error");const u=o.users[0];n._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?ZE(u.providerUserInfo):[],p=_I(n.providerData,f),d=n.isAnonymous,g=!(n.email&&u.passwordHash)&&!(p!=null&&p.length),v=d?g:!1,E={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:p,metadata:new Cp(u.createdAt,u.lastLoginAt),isAnonymous:v};Object.assign(n,E)}async function vI(n){const e=$t(n);await Zh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _I(n,e){return[...n.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function ZE(n){return n.map(e=>{var{providerId:t}=e,s=og(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wI(n,e){const t=await YE(n,{},async()=>{const s=Fu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=n.config,f=XE(n,o,"/v1/token",`key=${u}`),p=await n._getAdditionalHeaders();return p["Content-Type"]="application/x-www-form-urlencoded",QE.fetch()(f,{method:"POST",headers:p,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function EI(n,e){return Ir(n,"POST","/v2/accounts:revokeToken",xs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Fw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){be(e.length!==0,"internal-error");const t=Fw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await wI(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,f=new Oo;return s&&(be(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(be(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(be(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Oo,this.toJSON())}_performRefresh(){return pr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(n,e){be(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class gr{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,u=og(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Cp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await Lo(this,this.stsTokenManager.getToken(this.auth,e));return be(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return pI(this,e)}reload(){return vI(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new gr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Zh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mn(this.auth.app))return Promise.reject(_r(this.auth));const e=await this.getIdToken();return await Lo(this,mI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,u,f,p,d,g,v;const E=(s=t.displayName)!==null&&s!==void 0?s:void 0,b=(o=t.email)!==null&&o!==void 0?o:void 0,C=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,D=(f=t.photoURL)!==null&&f!==void 0?f:void 0,U=(p=t.tenantId)!==null&&p!==void 0?p:void 0,P=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,Y=(g=t.createdAt)!==null&&g!==void 0?g:void 0,ne=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:K,emailVerified:oe,isAnonymous:Z,providerData:fe,stsTokenManager:x}=t;be(K&&x,e,"internal-error");const R=Oo.fromJSON(this.name,x);be(typeof K=="string",e,"internal-error"),fs(E,e.name),fs(b,e.name),be(typeof oe=="boolean",e,"internal-error"),be(typeof Z=="boolean",e,"internal-error"),fs(C,e.name),fs(D,e.name),fs(U,e.name),fs(P,e.name),fs(Y,e.name),fs(ne,e.name);const S=new gr({uid:K,auth:e,email:b,emailVerified:oe,displayName:E,isAnonymous:Z,photoURL:D,phoneNumber:C,tenantId:U,stsTokenManager:R,createdAt:Y,lastLoginAt:ne});return fe&&Array.isArray(fe)&&(S.providerData=fe.map(O=>Object.assign({},O))),P&&(S._redirectEventId=P),S}static async _fromIdTokenResponse(e,t,s=!1){const o=new Oo;o.updateFromServerResponse(t);const u=new gr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Zh(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];be(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?ZE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),p=new Oo;p.updateFromIdToken(s);const d=new gr({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Cp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(d,g),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw=new Map;function yr(n){Tr(n instanceof Function,"Expected a class definition");let e=Gw.get(n);return e?(Tr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Gw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}JE.type="NONE";const $w=JE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(n,e,t){return`firebase:${n}:${e}:${t}`}class No{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Uh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Uh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?gr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new No(yr($w),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||yr($w);const f=Uh(s,e.config.apiKey,e.name);let p=null;for(const g of t)try{const v=await g._get(f);if(v){const E=gr._fromJSON(e,v);g!==u&&(p=E),u=g;break}}catch{}const d=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!d.length?new No(u,e,s):(u=d[0],p&&await u._set(f,p.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new No(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ib(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sb(e))return"Blackberry";if(ab(e))return"Webos";if(tb(e))return"Safari";if((e.includes("chrome/")||nb(e))&&!e.includes("edge/"))return"Chrome";if(rb(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function eb(n=ln()){return/firefox\//i.test(n)}function tb(n=ln()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nb(n=ln()){return/crios\//i.test(n)}function ib(n=ln()){return/iemobile/i.test(n)}function rb(n=ln()){return/android/i.test(n)}function sb(n=ln()){return/blackberry/i.test(n)}function ab(n=ln()){return/webos/i.test(n)}function fg(n=ln()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function bI(n=ln()){var e;return fg(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function TI(){return LR()&&document.documentMode===10}function ob(n=ln()){return fg(n)||rb(n)||ab(n)||sb(n)||/windows phone/i.test(n)||ib(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(n,e=[]){let t;switch(n){case"Browser":t=Kw(ln());break;case"Worker":t=`${Kw(ln())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Yo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((f,p)=>{try{const d=e(u);f(d)}catch(d){p(d)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SI(n,e={}){return Ir(n,"GET","/v2/passwordPolicy",xs(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI=6;class CI{constructor(e){var t,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=f.minPasswordLength)!==null&&t!==void 0?t:RI,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,u,f,p;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(s=d.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(o=d.containsLowercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(u=d.containsUppercaseLetter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(f=d.containsNumericCharacter)!==null&&f!==void 0?f:!0),d.isValid&&(d.isValid=(p=d.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),d}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qw(this),this.idTokenSubscription=new Qw(this),this.beforeStateQueue=new AI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=yr(t)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await No.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await WE(this,{idToken:e}),s=await gr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Mn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(p,p))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,p=o==null?void 0:o._redirectEventId,d=await this.tryRedirectSignIn(e);(!f||f===p)&&(d!=null&&d.user)&&(o=d.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Zh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=oI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mn(this.app))return Promise.reject(_r(this));const t=e?$t(e):null;return t&&be(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mn(this.app)?Promise.reject(_r(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mn(this.app)?Promise.reject(_r(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(yr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await SI(this),t=new CI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new qu("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await EI(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&yr(e)||this._popupRedirectResolver;be(t,this,"argument-error"),this.redirectPersistenceManager=await No.create(this,[yr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(p,this,"internal-error"),p.then(()=>{f||u(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,s,o);return()=>{f=!0,d()}}else{const d=e.addObserver(t);return()=>{f=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&iI(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ks(n){return $t(n)}class Qw{constructor(e){this.auth=e,this.observer=null,this.addObserver=GR(t=>this.observer=t)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function DI(n){Rf=n}function ub(n){return Rf.loadJS(n)}function OI(){return Rf.recaptchaEnterpriseScript}function NI(){return Rf.gapiScript}function xI(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class kI{constructor(){this.enterprise=new MI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class MI{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const PI="recaptcha-enterprise",cb="NO_RECAPTCHA";class VI{constructor(e){this.type=PI,this.auth=ks(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,p)=>{dI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const g=new fI(d);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(d=>{p(d)})})}function o(u,f,p){const d=window.grecaptcha;qw(d)?d.enterprise.ready(()=>{d.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(cb)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new kI().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(p=>{if(!t&&qw(window.grecaptcha))o(p,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let d=OI();d.length!==0&&(d+=p),ub(d).then(()=>{o(p,u,f)}).catch(g=>{f(g)})}}).catch(p=>{f(p)})})}}async function Yw(n,e,t,s=!1,o=!1){const u=new VI(n);let f;if(o)f=cb;else try{f=await u.verify(t)}catch{f=await u.verify(t,!0)}const p=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const d=p.phoneEnrollmentInfo.phoneNumber,g=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const d=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:f}):Object.assign(p,{captchaResponse:f}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Ip(n,e,t,s,o){var u;if(!((u=n._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await Yw(n,e,t,t==="getOobCode");return s(n,f)}else return s(n,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await Yw(n,e,t,t==="getOobCode");return s(n,p)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(n,e){const t=ag(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(Yh(u,e??{}))return o;ni(o,"already-initialized")}return t.initialize({options:e})}function UI(n,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(yr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function BI(n,e,t){const s=ks(n);be(s._canInitEmulator,s,"emulator-config-failed"),be(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=hb(e),{host:f,port:p}=zI(e),d=p===null?"":`:${p}`;s.config.emulator={url:`${u}//${f}${d}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:f,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})}),jI()}function hb(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function zI(n){const e=hb(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Xw(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Xw(f)}}}function Xw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function jI(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return pr("not implemented")}_getIdTokenResponse(e){return pr("not implemented")}_linkToIdToken(e,t){return pr("not implemented")}_getReauthenticationResolver(e){return pr("not implemented")}}async function HI(n,e){return Ir(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qI(n,e){return $u(n,"POST","/v1/accounts:signInWithPassword",xs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FI(n,e){return $u(n,"POST","/v1/accounts:signInWithEmailLink",xs(n,e))}async function GI(n,e){return $u(n,"POST","/v1/accounts:signInWithEmailLink",xs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu extends dg{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Nu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Nu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ip(e,t,"signInWithPassword",qI);case"emailLink":return FI(e,{email:this._email,oobCode:this._password});default:ni(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ip(e,s,"signUpPassword",HI);case"emailLink":return GI(e,{idToken:t,email:this._email,oobCode:this._password});default:ni(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xo(n,e){return $u(n,"POST","/v1/accounts:signInWithIdp",xs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I="http://localhost";class Ea extends dg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ea(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ni("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,u=og(t,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Ea(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const t=this.buildRequest();return xo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,xo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,xo(e,t)}buildRequest(){const e={requestUri:$I,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Fu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function QI(n){const e=gu(yu(n)).link,t=e?gu(yu(e)).deep_link_id:null,s=gu(yu(n)).deep_link_id;return(s?gu(yu(s)).link:null)||s||t||e||n}class mg{constructor(e){var t,s,o,u,f,p;const d=gu(yu(e)),g=(t=d.apiKey)!==null&&t!==void 0?t:null,v=(s=d.oobCode)!==null&&s!==void 0?s:null,E=KI((o=d.mode)!==null&&o!==void 0?o:null);be(g&&v&&E,"argument-error"),this.apiKey=g,this.operation=E,this.code=v,this.continueUrl=(u=d.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=d.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(p=d.tenantId)!==null&&p!==void 0?p:null}static parseLink(e){const t=QI(e);try{return new mg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(){this.providerId=Xo.PROVIDER_ID}static credential(e,t){return Nu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=mg.parseLink(t);return be(s,"argument-error"),Nu._fromEmailAndCode(e,s.code,s.tenantId)}}Xo.PROVIDER_ID="password";Xo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Xo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku extends pg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends Ku{constructor(){super("facebook.com")}static credential(e){return Ea._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ds.credential(e.oauthAccessToken)}catch{return null}}}ds.FACEBOOK_SIGN_IN_METHOD="facebook.com";ds.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr extends Ku{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ea._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return dr.credential(t,s)}catch{return null}}}dr.GOOGLE_SIGN_IN_METHOD="google.com";dr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends Ku{constructor(){super("github.com")}static credential(e){return Ea._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ms.credential(e.oauthAccessToken)}catch{return null}}}ms.GITHUB_SIGN_IN_METHOD="github.com";ms.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends Ku{constructor(){super("twitter.com")}static credential(e,t){return Ea._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return ps.credential(t,s)}catch{return null}}}ps.TWITTER_SIGN_IN_METHOD="twitter.com";ps.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YI(n,e){return $u(n,"POST","/v1/accounts:signUp",xs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await gr._fromIdTokenResponse(e,s,o),f=Ww(s);return new ba({user:u,providerId:f,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=Ww(s);return new ba({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function Ww(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh extends Cr{constructor(e,t,s,o){var u;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Jh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Jh(e,t,s,o)}}function fb(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Jh._fromErrorAndOperation(n,u,e,s):u})}async function XI(n,e,t=!1){const s=await Lo(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ba._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WI(n,e,t=!1){const{auth:s}=n;if(Mn(s.app))return Promise.reject(_r(s));const o="reauthenticate";try{const u=await Lo(n,fb(s,o,e,n),t);be(u.idToken,s,"internal-error");const f=hg(u.idToken);be(f,s,"internal-error");const{sub:p}=f;return be(n.uid===p,s,"user-mismatch"),ba._forOperation(n,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&ni(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function db(n,e,t=!1){if(Mn(n.app))return Promise.reject(_r(n));const s="signIn",o=await fb(n,s,e),u=await ba._fromIdTokenResponse(n,s,o);return t||await n._updateCurrentUser(u.user),u}async function ZI(n,e){return db(ks(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mb(n){const e=ks(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function JI(n,e,t){if(Mn(n.app))return Promise.reject(_r(n));const s=ks(n),f=await Ip(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",YI).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&mb(n),d}),p=await ba._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(p.user),p}function eD(n,e,t){return Mn(n.app)?Promise.reject(_r(n)):ZI($t(n),Xo.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&mb(n),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tD(n,e){return Ir(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nD(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const s=$t(n),u={idToken:await s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},f=await Lo(s,tD(s.auth,u));s.displayName=f.displayName||null,s.photoURL=f.photoUrl||null;const p=s.providerData.find(({providerId:d})=>d==="password");p&&(p.displayName=s.displayName,p.photoURL=s.photoURL),await s._updateTokensIfNecessary(f)}function iD(n,e,t,s){return $t(n).onIdTokenChanged(e,t,s)}function rD(n,e,t){return $t(n).beforeAuthStateChanged(e,t)}function gg(n,e,t,s){return $t(n).onAuthStateChanged(e,t,s)}const ef="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ef,"1"),this.storage.removeItem(ef),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=1e3,aD=10;class gb extends pb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ob(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((f,p,d)=>{this.notifyListeners(f,d)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!t&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);TI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,aD):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},sD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}gb.type="LOCAL";const oD=gb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb extends pb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}yb.type="SESSION";const vb=yb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Cf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(f).map(async g=>g(t.origin,u)),d=await lD(p);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Cf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((p,d)=>{const g=yg("",20);o.port1.start();const v=setTimeout(()=>{d(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(E){const b=E;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(b.data.response);break;default:clearTimeout(v),clearTimeout(u),d(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(){return window}function cD(n){xi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _b(){return typeof xi().WorkerGlobalScope<"u"&&typeof xi().importScripts=="function"}async function hD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fD(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function dD(){return _b()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb="firebaseLocalStorageDb",mD=1,tf="firebaseLocalStorage",Eb="fbase_key";class Qu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function If(n,e){return n.transaction([tf],e?"readwrite":"readonly").objectStore(tf)}function pD(){const n=indexedDB.deleteDatabase(wb);return new Qu(n).toPromise()}function Dp(){const n=indexedDB.open(wb,mD);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(tf,{keyPath:Eb})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(tf)?e(s):(s.close(),await pD(),e(await Dp()))})})}async function Zw(n,e,t){const s=If(n,!0).put({[Eb]:e,value:t});return new Qu(s).toPromise()}async function gD(n,e){const t=If(n,!1).get(e),s=await new Qu(t).toPromise();return s===void 0?null:s.value}function Jw(n,e){const t=If(n,!0).delete(e);return new Qu(t).toPromise()}const yD=800,vD=3;class bb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Dp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>vD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _b()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cf._getInstance(dD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await hD(),!this.activeServiceWorker)return;this.sender=new uD(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||fD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Dp();return await Zw(e,ef,"1"),await Jw(e,ef),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Zw(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>gD(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Jw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=If(o,!1).getAll();return new Qu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bb.type="LOCAL";const _D=bb;new Gu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(n,e){return e?yr(e):(be(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg extends dg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return xo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return xo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function wD(n){return db(n.auth,new vg(n),n.bypassAuthState)}function ED(n){const{auth:e,user:t}=n;return be(t,e,"internal-error"),WI(t,new vg(n),n.bypassAuthState)}async function bD(n){const{auth:e,user:t}=n;return be(t,e,"internal-error"),XI(t,new vg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:f,type:p}=e;if(f){this.reject(f);return}const d={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(d))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wD;case"linkViaPopup":case"linkViaRedirect":return bD;case"reauthViaPopup":case"reauthViaRedirect":return ED;default:ni(this.auth,"internal-error")}}resolve(e){Tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD=new Gu(2e3,1e4);async function AD(n,e,t){if(Mn(n.app))return Promise.reject(ci(n,"operation-not-supported-in-this-environment"));const s=ks(n);rI(n,e,pg);const o=Tb(s,t);return new ya(s,"signInViaPopup",e,o).executeNotNull()}class ya extends Ab{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ya.currentPopupAction&&ya.currentPopupAction.cancel(),ya.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){Tr(this.filter.length===1,"Popup operations only handle one event");const e=yg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ya.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,TD.get())};e()}}ya.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD="pendingRedirect",Bh=new Map;class RD extends Ab{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Bh.get(this.auth._key());if(!e){try{const s=await CD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Bh.set(this.auth._key(),e)}return this.bypassAuthState||Bh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function CD(n,e){const t=OD(e),s=DD(n);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function ID(n,e){Bh.set(n._key(),e)}function DD(n){return yr(n._redirectPersistence)}function OD(n){return Uh(SD,n.config.apiKey,n.name)}async function ND(n,e,t=!1){if(Mn(n.app))return Promise.reject(_r(n));const s=ks(n),o=Tb(s,e),f=await new RD(s,o,t).execute();return f&&!t&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD=10*60*1e3;class kD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!MD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!Sb(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(ci(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=xD&&this.cachedEventUids.clear(),this.cachedEventUids.has(e0(e))}saveEventToCache(e){this.cachedEventUids.add(e0(e)),this.lastProcessedEventTime=Date.now()}}function e0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Sb({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function MD(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Sb(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PD(n,e={}){return Ir(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LD=/^https?/;async function UD(n){if(n.config.emulator)return;const{authorizedDomains:e}=await PD(n);for(const t of e)try{if(BD(t))return}catch{}ni(n,"unauthorized-domain")}function BD(n){const e=Rp(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const f=new URL(n);return f.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&f.hostname===s}if(!LD.test(t))return!1;if(VD.test(n))return s===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=new Gu(3e4,6e4);function t0(){const n=xi().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function jD(n){return new Promise((e,t)=>{var s,o,u;function f(){t0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{t0(),t(ci(n,"network-request-failed"))},timeout:zD.get()})}if(!((o=(s=xi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=xi().gapi)===null||u===void 0)&&u.load)f();else{const p=xI("iframefcb");return xi()[p]=()=>{gapi.load?f():t(ci(n,"network-request-failed"))},ub(`${NI()}?onload=${p}`).catch(d=>t(d))}}).catch(e=>{throw zh=null,e})}let zh=null;function HD(n){return zh=zh||jD(n),zh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=new Gu(5e3,15e3),FD="__/auth/iframe",GD="emulator/auth/iframe",$D={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},KD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QD(n){const e=n.config;be(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?cg(e,GD):`https://${n.config.authDomain}/${FD}`,s={apiKey:e.apiKey,appName:n.name,v:Yo},o=KD.get(n.config.apiHost);o&&(s.eid=o);const u=n._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${Fu(s).slice(1)}`}async function YD(n){const e=await HD(n),t=xi().gapi;return be(t,n,"internal-error"),e.open({where:document.body,url:QD(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$D,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=ci(n,"network-request-failed"),p=xi().setTimeout(()=>{u(f)},qD.get());function d(){xi().clearTimeout(p),o(s)}s.ping(d).then(d,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},WD=500,ZD=600,JD="_blank",eO="http://localhost";class n0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tO(n,e,t,s=WD,o=ZD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const d=Object.assign(Object.assign({},XD),{width:s.toString(),height:o.toString(),top:u,left:f}),g=ln().toLowerCase();t&&(p=nb(g)?JD:t),eb(g)&&(e=e||eO,d.scrollbars="yes");const v=Object.entries(d).reduce((b,[C,D])=>`${b}${C}=${D},`,"");if(bI(g)&&p!=="_self")return nO(e||"",p),new n0(null);const E=window.open(e||"",p,v);be(E,n,"popup-blocked");try{E.focus()}catch{}return new n0(E)}function nO(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO="__/auth/handler",rO="emulator/auth/handler",sO=encodeURIComponent("fac");async function i0(n,e,t,s,o,u){be(n.config.authDomain,n,"auth-domain-config-required"),be(n.config.apiKey,n,"invalid-api-key");const f={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:Yo,eventId:o};if(e instanceof pg){e.setDefaultLanguage(n.languageCode),f.providerId=e.providerId||"",FR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,E]of Object.entries({}))f[v]=E}if(e instanceof Ku){const v=e.getScopes().filter(E=>E!=="");v.length>0&&(f.scopes=v.join(","))}n.tenantId&&(f.tid=n.tenantId);const p=f;for(const v of Object.keys(p))p[v]===void 0&&delete p[v];const d=await n._getAppCheckToken(),g=d?`#${sO}=${encodeURIComponent(d)}`:"";return`${aO(n)}?${Fu(p).slice(1)}${g}`}function aO({config:n}){return n.emulator?cg(n,rO):`https://${n.authDomain}/${iO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp="webStorageSupport";class oO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vb,this._completeRedirectFn=ND,this._overrideRedirectResult=ID}async _openPopup(e,t,s,o){var u;Tr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await i0(e,t,s,Rp(),o);return tO(e,f,yg())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await i0(e,t,s,Rp(),o);return cD(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(Tr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await YD(e),s=new kD(e);return t.register("authEvent",o=>(be(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(hp,{type:hp},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[hp];f!==void 0&&t(!!f),ni(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=UD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ob()||tb()||fg()}}const lO=oO;var r0="@firebase/auth",s0="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cO(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hO(n){Vo(new wa("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=s.options;be(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const d={apiKey:f,authDomain:p,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lb(n)},g=new II(s,o,u,d);return UI(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Vo(new wa("auth-internal",e=>{const t=ks(e.getProvider("auth").getImmediate());return(s=>new uO(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Es(r0,s0,cO(n)),Es(r0,s0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO=5*60,dO=BE("authIdTokenMaxAge")||fO;let a0=null;const mO=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>dO)return;const o=t==null?void 0:t.token;a0!==o&&(a0=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function pO(n=qE()){const e=ag(n,"auth");if(e.isInitialized())return e.getImmediate();const t=LI(n,{popupRedirectResolver:lO,persistence:[_D,oD,vb]}),s=BE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=mO(u.toString());rD(t,f,()=>f(t.currentUser)),iD(t,p=>f(p))}}const o=LE("auth");return o&&BI(t,`http://${o}`),t}function gO(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}DI({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=o=>{const u=ci("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",gO().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hO("Browser");var yO="firebase",vO="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Es(yO,vO,"app");var o0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bs,Rb;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,R){function S(){}S.prototype=R.prototype,x.D=R.prototype,x.prototype=new S,x.prototype.constructor=x,x.C=function(O,k,z){for(var N=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)N[tt-2]=arguments[tt];return R.prototype[k].apply(O,N)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,R,S){S||(S=0);var O=Array(16);if(typeof R=="string")for(var k=0;16>k;++k)O[k]=R.charCodeAt(S++)|R.charCodeAt(S++)<<8|R.charCodeAt(S++)<<16|R.charCodeAt(S++)<<24;else for(k=0;16>k;++k)O[k]=R[S++]|R[S++]<<8|R[S++]<<16|R[S++]<<24;R=x.g[0],S=x.g[1],k=x.g[2];var z=x.g[3],N=R+(z^S&(k^z))+O[0]+3614090360&4294967295;R=S+(N<<7&4294967295|N>>>25),N=z+(k^R&(S^k))+O[1]+3905402710&4294967295,z=R+(N<<12&4294967295|N>>>20),N=k+(S^z&(R^S))+O[2]+606105819&4294967295,k=z+(N<<17&4294967295|N>>>15),N=S+(R^k&(z^R))+O[3]+3250441966&4294967295,S=k+(N<<22&4294967295|N>>>10),N=R+(z^S&(k^z))+O[4]+4118548399&4294967295,R=S+(N<<7&4294967295|N>>>25),N=z+(k^R&(S^k))+O[5]+1200080426&4294967295,z=R+(N<<12&4294967295|N>>>20),N=k+(S^z&(R^S))+O[6]+2821735955&4294967295,k=z+(N<<17&4294967295|N>>>15),N=S+(R^k&(z^R))+O[7]+4249261313&4294967295,S=k+(N<<22&4294967295|N>>>10),N=R+(z^S&(k^z))+O[8]+1770035416&4294967295,R=S+(N<<7&4294967295|N>>>25),N=z+(k^R&(S^k))+O[9]+2336552879&4294967295,z=R+(N<<12&4294967295|N>>>20),N=k+(S^z&(R^S))+O[10]+4294925233&4294967295,k=z+(N<<17&4294967295|N>>>15),N=S+(R^k&(z^R))+O[11]+2304563134&4294967295,S=k+(N<<22&4294967295|N>>>10),N=R+(z^S&(k^z))+O[12]+1804603682&4294967295,R=S+(N<<7&4294967295|N>>>25),N=z+(k^R&(S^k))+O[13]+4254626195&4294967295,z=R+(N<<12&4294967295|N>>>20),N=k+(S^z&(R^S))+O[14]+2792965006&4294967295,k=z+(N<<17&4294967295|N>>>15),N=S+(R^k&(z^R))+O[15]+1236535329&4294967295,S=k+(N<<22&4294967295|N>>>10),N=R+(k^z&(S^k))+O[1]+4129170786&4294967295,R=S+(N<<5&4294967295|N>>>27),N=z+(S^k&(R^S))+O[6]+3225465664&4294967295,z=R+(N<<9&4294967295|N>>>23),N=k+(R^S&(z^R))+O[11]+643717713&4294967295,k=z+(N<<14&4294967295|N>>>18),N=S+(z^R&(k^z))+O[0]+3921069994&4294967295,S=k+(N<<20&4294967295|N>>>12),N=R+(k^z&(S^k))+O[5]+3593408605&4294967295,R=S+(N<<5&4294967295|N>>>27),N=z+(S^k&(R^S))+O[10]+38016083&4294967295,z=R+(N<<9&4294967295|N>>>23),N=k+(R^S&(z^R))+O[15]+3634488961&4294967295,k=z+(N<<14&4294967295|N>>>18),N=S+(z^R&(k^z))+O[4]+3889429448&4294967295,S=k+(N<<20&4294967295|N>>>12),N=R+(k^z&(S^k))+O[9]+568446438&4294967295,R=S+(N<<5&4294967295|N>>>27),N=z+(S^k&(R^S))+O[14]+3275163606&4294967295,z=R+(N<<9&4294967295|N>>>23),N=k+(R^S&(z^R))+O[3]+4107603335&4294967295,k=z+(N<<14&4294967295|N>>>18),N=S+(z^R&(k^z))+O[8]+1163531501&4294967295,S=k+(N<<20&4294967295|N>>>12),N=R+(k^z&(S^k))+O[13]+2850285829&4294967295,R=S+(N<<5&4294967295|N>>>27),N=z+(S^k&(R^S))+O[2]+4243563512&4294967295,z=R+(N<<9&4294967295|N>>>23),N=k+(R^S&(z^R))+O[7]+1735328473&4294967295,k=z+(N<<14&4294967295|N>>>18),N=S+(z^R&(k^z))+O[12]+2368359562&4294967295,S=k+(N<<20&4294967295|N>>>12),N=R+(S^k^z)+O[5]+4294588738&4294967295,R=S+(N<<4&4294967295|N>>>28),N=z+(R^S^k)+O[8]+2272392833&4294967295,z=R+(N<<11&4294967295|N>>>21),N=k+(z^R^S)+O[11]+1839030562&4294967295,k=z+(N<<16&4294967295|N>>>16),N=S+(k^z^R)+O[14]+4259657740&4294967295,S=k+(N<<23&4294967295|N>>>9),N=R+(S^k^z)+O[1]+2763975236&4294967295,R=S+(N<<4&4294967295|N>>>28),N=z+(R^S^k)+O[4]+1272893353&4294967295,z=R+(N<<11&4294967295|N>>>21),N=k+(z^R^S)+O[7]+4139469664&4294967295,k=z+(N<<16&4294967295|N>>>16),N=S+(k^z^R)+O[10]+3200236656&4294967295,S=k+(N<<23&4294967295|N>>>9),N=R+(S^k^z)+O[13]+681279174&4294967295,R=S+(N<<4&4294967295|N>>>28),N=z+(R^S^k)+O[0]+3936430074&4294967295,z=R+(N<<11&4294967295|N>>>21),N=k+(z^R^S)+O[3]+3572445317&4294967295,k=z+(N<<16&4294967295|N>>>16),N=S+(k^z^R)+O[6]+76029189&4294967295,S=k+(N<<23&4294967295|N>>>9),N=R+(S^k^z)+O[9]+3654602809&4294967295,R=S+(N<<4&4294967295|N>>>28),N=z+(R^S^k)+O[12]+3873151461&4294967295,z=R+(N<<11&4294967295|N>>>21),N=k+(z^R^S)+O[15]+530742520&4294967295,k=z+(N<<16&4294967295|N>>>16),N=S+(k^z^R)+O[2]+3299628645&4294967295,S=k+(N<<23&4294967295|N>>>9),N=R+(k^(S|~z))+O[0]+4096336452&4294967295,R=S+(N<<6&4294967295|N>>>26),N=z+(S^(R|~k))+O[7]+1126891415&4294967295,z=R+(N<<10&4294967295|N>>>22),N=k+(R^(z|~S))+O[14]+2878612391&4294967295,k=z+(N<<15&4294967295|N>>>17),N=S+(z^(k|~R))+O[5]+4237533241&4294967295,S=k+(N<<21&4294967295|N>>>11),N=R+(k^(S|~z))+O[12]+1700485571&4294967295,R=S+(N<<6&4294967295|N>>>26),N=z+(S^(R|~k))+O[3]+2399980690&4294967295,z=R+(N<<10&4294967295|N>>>22),N=k+(R^(z|~S))+O[10]+4293915773&4294967295,k=z+(N<<15&4294967295|N>>>17),N=S+(z^(k|~R))+O[1]+2240044497&4294967295,S=k+(N<<21&4294967295|N>>>11),N=R+(k^(S|~z))+O[8]+1873313359&4294967295,R=S+(N<<6&4294967295|N>>>26),N=z+(S^(R|~k))+O[15]+4264355552&4294967295,z=R+(N<<10&4294967295|N>>>22),N=k+(R^(z|~S))+O[6]+2734768916&4294967295,k=z+(N<<15&4294967295|N>>>17),N=S+(z^(k|~R))+O[13]+1309151649&4294967295,S=k+(N<<21&4294967295|N>>>11),N=R+(k^(S|~z))+O[4]+4149444226&4294967295,R=S+(N<<6&4294967295|N>>>26),N=z+(S^(R|~k))+O[11]+3174756917&4294967295,z=R+(N<<10&4294967295|N>>>22),N=k+(R^(z|~S))+O[2]+718787259&4294967295,k=z+(N<<15&4294967295|N>>>17),N=S+(z^(k|~R))+O[9]+3951481745&4294967295,x.g[0]=x.g[0]+R&4294967295,x.g[1]=x.g[1]+(k+(N<<21&4294967295|N>>>11))&4294967295,x.g[2]=x.g[2]+k&4294967295,x.g[3]=x.g[3]+z&4294967295}s.prototype.u=function(x,R){R===void 0&&(R=x.length);for(var S=R-this.blockSize,O=this.B,k=this.h,z=0;z<R;){if(k==0)for(;z<=S;)o(this,x,z),z+=this.blockSize;if(typeof x=="string"){for(;z<R;)if(O[k++]=x.charCodeAt(z++),k==this.blockSize){o(this,O),k=0;break}}else for(;z<R;)if(O[k++]=x[z++],k==this.blockSize){o(this,O),k=0;break}}this.h=k,this.o+=R},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var R=1;R<x.length-8;++R)x[R]=0;var S=8*this.o;for(R=x.length-8;R<x.length;++R)x[R]=S&255,S/=256;for(this.u(x),x=Array(16),R=S=0;4>R;++R)for(var O=0;32>O;O+=8)x[S++]=this.g[R]>>>O&255;return x};function u(x,R){var S=p;return Object.prototype.hasOwnProperty.call(S,x)?S[x]:S[x]=R(x)}function f(x,R){this.h=R;for(var S=[],O=!0,k=x.length-1;0<=k;k--){var z=x[k]|0;O&&z==R||(S[k]=z,O=!1)}this.g=S}var p={};function d(x){return-128<=x&&128>x?u(x,function(R){return new f([R|0],0>R?-1:0)}):new f([x|0],0>x?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return E;if(0>x)return P(g(-x));for(var R=[],S=1,O=0;x>=S;O++)R[O]=x/S|0,S*=4294967296;return new f(R,0)}function v(x,R){if(x.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(x.charAt(0)=="-")return P(v(x.substring(1),R));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=g(Math.pow(R,8)),O=E,k=0;k<x.length;k+=8){var z=Math.min(8,x.length-k),N=parseInt(x.substring(k,k+z),R);8>z?(z=g(Math.pow(R,z)),O=O.j(z).add(g(N))):(O=O.j(S),O=O.add(g(N)))}return O}var E=d(0),b=d(1),C=d(16777216);n=f.prototype,n.m=function(){if(U(this))return-P(this).m();for(var x=0,R=1,S=0;S<this.g.length;S++){var O=this.i(S);x+=(0<=O?O:4294967296+O)*R,R*=4294967296}return x},n.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(D(this))return"0";if(U(this))return"-"+P(this).toString(x);for(var R=g(Math.pow(x,6)),S=this,O="";;){var k=oe(S,R).g;S=Y(S,k.j(R));var z=((0<S.g.length?S.g[0]:S.h)>>>0).toString(x);if(S=k,D(S))return z+O;for(;6>z.length;)z="0"+z;O=z+O}},n.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function D(x){if(x.h!=0)return!1;for(var R=0;R<x.g.length;R++)if(x.g[R]!=0)return!1;return!0}function U(x){return x.h==-1}n.l=function(x){return x=Y(this,x),U(x)?-1:D(x)?0:1};function P(x){for(var R=x.g.length,S=[],O=0;O<R;O++)S[O]=~x.g[O];return new f(S,~x.h).add(b)}n.abs=function(){return U(this)?P(this):this},n.add=function(x){for(var R=Math.max(this.g.length,x.g.length),S=[],O=0,k=0;k<=R;k++){var z=O+(this.i(k)&65535)+(x.i(k)&65535),N=(z>>>16)+(this.i(k)>>>16)+(x.i(k)>>>16);O=N>>>16,z&=65535,N&=65535,S[k]=N<<16|z}return new f(S,S[S.length-1]&-2147483648?-1:0)};function Y(x,R){return x.add(P(R))}n.j=function(x){if(D(this)||D(x))return E;if(U(this))return U(x)?P(this).j(P(x)):P(P(this).j(x));if(U(x))return P(this.j(P(x)));if(0>this.l(C)&&0>x.l(C))return g(this.m()*x.m());for(var R=this.g.length+x.g.length,S=[],O=0;O<2*R;O++)S[O]=0;for(O=0;O<this.g.length;O++)for(var k=0;k<x.g.length;k++){var z=this.i(O)>>>16,N=this.i(O)&65535,tt=x.i(k)>>>16,Ye=x.i(k)&65535;S[2*O+2*k]+=N*Ye,ne(S,2*O+2*k),S[2*O+2*k+1]+=z*Ye,ne(S,2*O+2*k+1),S[2*O+2*k+1]+=N*tt,ne(S,2*O+2*k+1),S[2*O+2*k+2]+=z*tt,ne(S,2*O+2*k+2)}for(O=0;O<R;O++)S[O]=S[2*O+1]<<16|S[2*O];for(O=R;O<2*R;O++)S[O]=0;return new f(S,0)};function ne(x,R){for(;(x[R]&65535)!=x[R];)x[R+1]+=x[R]>>>16,x[R]&=65535,R++}function K(x,R){this.g=x,this.h=R}function oe(x,R){if(D(R))throw Error("division by zero");if(D(x))return new K(E,E);if(U(x))return R=oe(P(x),R),new K(P(R.g),P(R.h));if(U(R))return R=oe(x,P(R)),new K(P(R.g),R.h);if(30<x.g.length){if(U(x)||U(R))throw Error("slowDivide_ only works with positive integers.");for(var S=b,O=R;0>=O.l(x);)S=Z(S),O=Z(O);var k=fe(S,1),z=fe(O,1);for(O=fe(O,2),S=fe(S,2);!D(O);){var N=z.add(O);0>=N.l(x)&&(k=k.add(S),z=N),O=fe(O,1),S=fe(S,1)}return R=Y(x,k.j(R)),new K(k,R)}for(k=E;0<=x.l(R);){for(S=Math.max(1,Math.floor(x.m()/R.m())),O=Math.ceil(Math.log(S)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),z=g(S),N=z.j(R);U(N)||0<N.l(x);)S-=O,z=g(S),N=z.j(R);D(z)&&(z=b),k=k.add(z),x=Y(x,N)}return new K(k,x)}n.A=function(x){return oe(this,x).h},n.and=function(x){for(var R=Math.max(this.g.length,x.g.length),S=[],O=0;O<R;O++)S[O]=this.i(O)&x.i(O);return new f(S,this.h&x.h)},n.or=function(x){for(var R=Math.max(this.g.length,x.g.length),S=[],O=0;O<R;O++)S[O]=this.i(O)|x.i(O);return new f(S,this.h|x.h)},n.xor=function(x){for(var R=Math.max(this.g.length,x.g.length),S=[],O=0;O<R;O++)S[O]=this.i(O)^x.i(O);return new f(S,this.h^x.h)};function Z(x){for(var R=x.g.length+1,S=[],O=0;O<R;O++)S[O]=x.i(O)<<1|x.i(O-1)>>>31;return new f(S,x.h)}function fe(x,R){var S=R>>5;R%=32;for(var O=x.g.length-S,k=[],z=0;z<O;z++)k[z]=0<R?x.i(z+S)>>>R|x.i(z+S+1)<<32-R:x.i(z+S);return new f(k,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Rb=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=v,bs=f}).apply(typeof o0<"u"?o0:typeof self<"u"?self:typeof window<"u"?window:{});var Dh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cb,vu,Ib,jh,Op,Db,Ob,Nb;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dh=="object"&&Dh];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var j=c[A];if(!(j in _))break e;_=_[j]}c=c[c.length-1],A=_[c],y=y(A),y!=A&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,A=!1,j={next:function(){if(!A&&_<c.length){var $=_++;return{value:y($,c[$]),done:!1}}return A=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},p=this||self;function d(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,_){return c.call.apply(c.bind,arguments)}function E(c,y,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,A),c.apply(y,j)}}return function(){return c.apply(y,arguments)}}function b(c,y,_){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:E,b.apply(null,arguments)}function C(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function D(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,j,$){for(var se=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)se[Ue-2]=arguments[Ue];return y.prototype[j].apply(A,se)}}function U(c){const y=c.length;if(0<y){const _=Array(y);for(let A=0;A<y;A++)_[A]=c[A];return _}return[]}function P(c,y){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(d(A)){const j=c.length||0,$=A.length||0;c.length=j+$;for(let se=0;se<$;se++)c[j+se]=A[se]}else c.push(A)}}class Y{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ne(c){return/^[\s\xa0]*$/.test(c)}function K(){var c=p.navigator;return c&&(c=c.userAgent)?c:""}function oe(c){return oe[" "](c),c}oe[" "]=function(){};var Z=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function fe(c,y,_){for(const A in c)y.call(_,c[A],A,c)}function x(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function R(c){const y={};for(const _ in c)y[_]=c[_];return y}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,y){let _,A;for(let j=1;j<arguments.length;j++){A=arguments[j];for(_ in A)c[_]=A[_];for(let $=0;$<S.length;$++)_=S[$],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function k(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function z(c){p.setTimeout(()=>{throw c},0)}function N(){var c=qe;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class tt{constructor(){this.h=this.g=null}add(y,_){const A=Ye.get();A.set(y,_),this.h?this.h.next=A:this.g=A,this.h=A}}var Ye=new Y(()=>new ae,c=>c.reset());class ae{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ve,ge=!1,qe=new tt,M=()=>{const c=p.Promise.resolve(void 0);ve=()=>{c.then(re)}};var re=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(_){z(_)}var y=Ye;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ge=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var ue=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};p.addEventListener("test",_,y),p.removeEventListener("test",_,y)}catch{}return c}();function De(c,y){if(le.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(Z){e:{try{oe(y.nodeName);var j=!0;break e}catch{}j=!1}j||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ce[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&De.aa.h.call(this)}}D(De,le);var Ce={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Tt="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function ft(c,y,_,A,j){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!A,this.ha=j,this.key=++Fe,this.da=this.fa=!1}function Ze(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function cn(c){this.src=c,this.g={},this.h=0}cn.prototype.add=function(c,y,_,A,j){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var se=Bn(c,y,A,j);return-1<se?(y=c[se],_||(y.fa=!1)):(y=new ft(y,this.src,$,!!A,j),y.fa=_,c.push(y)),y};function zi(c,y){var _=y.type;if(_ in c.g){var A=c.g[_],j=Array.prototype.indexOf.call(A,y,void 0),$;($=0<=j)&&Array.prototype.splice.call(A,j,1),$&&(Ze(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Bn(c,y,_,A){for(var j=0;j<c.length;++j){var $=c[j];if(!$.da&&$.listener==y&&$.capture==!!_&&$.ha==A)return j}return-1}var Dr="closure_lm_"+(1e6*Math.random()|0),Or={};function ji(c,y,_,A,j){if(Array.isArray(y)){for(var $=0;$<y.length;$++)ji(c,y[$],_,A,j);return null}return _=ac(_),c&&c[Tt]?c.K(y,_,g(A)?!!A.capture:!1,j):ol(c,y,_,!1,A,j)}function ol(c,y,_,A,j,$){if(!y)throw Error("Invalid event type");var se=g(j)?!!j.capture:!!j,Ue=ll(c);if(Ue||(c[Dr]=Ue=new cn(c)),_=Ue.add(y,_,A,se,$),_.proxy)return _;if(A=ka(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)ue||(j=se),j===void 0&&(j=!1),c.addEventListener(y.toString(),A,j);else if(c.attachEvent)c.attachEvent(Pa(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ka(){function c(_){return y.call(c.src,c.listener,_)}const y=Jf;return c}function Ma(c,y,_,A,j){if(Array.isArray(y))for(var $=0;$<y.length;$++)Ma(c,y[$],_,A,j);else A=g(A)?!!A.capture:!!A,_=ac(_),c&&c[Tt]?(c=c.i,y=String(y).toString(),y in c.g&&($=c.g[y],_=Bn($,_,A,j),-1<_&&(Ze($[_]),Array.prototype.splice.call($,_,1),$.length==0&&(delete c.g[y],c.h--)))):c&&(c=ll(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Bn(y,_,A,j)),(_=-1<c?y[c]:null)&&Vs(_))}function Vs(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Tt])zi(y.i,c);else{var _=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(_,A,c.capture):y.detachEvent?y.detachEvent(Pa(_),A):y.addListener&&y.removeListener&&y.removeListener(A),(_=ll(y))?(zi(_,c),_.h==0&&(_.src=null,y[Dr]=null)):Ze(c)}}}function Pa(c){return c in Or?Or[c]:Or[c]="on"+c}function Jf(c,y){if(c.da)c=!0;else{y=new De(y,this);var _=c.listener,A=c.ha||c.src;c.fa&&Vs(c),c=_.call(A,y)}return c}function ll(c){return c=c[Dr],c instanceof cn?c:null}var _n="__closure_events_fn_"+(1e9*Math.random()>>>0);function ac(c){return typeof c=="function"?c:(c[_n]||(c[_n]=function(y){return c.handleEvent(y)}),c[_n])}function Dt(){me.call(this),this.i=new cn(this),this.M=this,this.F=null}D(Dt,me),Dt.prototype[Tt]=!0,Dt.prototype.removeEventListener=function(c,y,_,A){Ma(this,c,y,_,A)};function Ut(c,y){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new le(y,c);else if(y instanceof le)y.target=y.target||c;else{var j=y;y=new le(A,c),O(y,j)}if(j=!0,_)for(var $=_.length-1;0<=$;$--){var se=y.g=_[$];j=Hi(se,A,!0,y)&&j}if(se=y.g=c,j=Hi(se,A,!0,y)&&j,j=Hi(se,A,!1,y)&&j,_)for($=0;$<_.length;$++)se=y.g=_[$],j=Hi(se,A,!1,y)&&j}Dt.prototype.N=function(){if(Dt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],A=0;A<_.length;A++)Ze(_[A]);delete c.g[y],c.h--}}this.F=null},Dt.prototype.K=function(c,y,_,A){return this.i.add(String(c),y,!1,_,A)},Dt.prototype.L=function(c,y,_,A){return this.i.add(String(c),y,!0,_,A)};function Hi(c,y,_,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var j=!0,$=0;$<y.length;++$){var se=y[$];if(se&&!se.da&&se.capture==_){var Ue=se.listener,Nt=se.ha||se.src;se.fa&&zi(c.i,se),j=Ue.call(Nt,A)!==!1&&j}}return j&&!A.defaultPrevented}function oc(c,y,_){if(typeof c=="function")_&&(c=b(c,_));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:p.setTimeout(c,y||0)}function ul(c){c.g=oc(()=>{c.g=null,c.i&&(c.i=!1,ul(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class ed extends me{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ul(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ls(c){me.call(this),this.h=c,this.g={}}D(Ls,me);var Nr=[];function tn(c){fe(c.g,function(y,_){this.g.hasOwnProperty(_)&&Vs(y)},c),c.g={}}Ls.prototype.N=function(){Ls.aa.N.call(this),tn(this)},Ls.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cl=p.JSON.stringify,mi=p.JSON.parse,hn=class{stringify(c){return p.JSON.stringify(c,void 0)}parse(c){return p.JSON.parse(c,void 0)}};function hl(){}hl.prototype.h=null;function lc(c){return c.h||(c.h=c.i())}function uc(){}var pi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xr(){le.call(this,"d")}D(xr,le);function ri(){le.call(this,"c")}D(ri,le);var zn={},kr=null;function Va(){return kr=kr||new Dt}zn.La="serverreachability";function fl(c){le.call(this,zn.La,c)}D(fl,le);function Mr(c){const y=Va();Ut(y,new fl(y))}zn.STAT_EVENT="statevent";function La(c,y){le.call(this,zn.STAT_EVENT,c),this.stat=y}D(La,le);function vt(c){const y=Va();Ut(y,new La(y,c))}zn.Ma="timingevent";function cc(c,y){le.call(this,zn.Ma,c),this.size=y}D(cc,le);function Pr(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){c()},y)}function Vr(){this.g=!0}Vr.prototype.xa=function(){this.g=!1};function hc(c,y,_,A,j,$){c.info(function(){if(c.g)if($)for(var se="",Ue=$.split("&"),Nt=0;Nt<Ue.length;Nt++){var Be=Ue[Nt].split("=");if(1<Be.length){var jt=Be[0];Be=Be[1];var xt=jt.split("_");se=2<=xt.length&&xt[1]=="type"?se+(jt+"="+Be+"&"):se+(jt+"=redacted&")}}else se=null;else se=$;return"XMLHTTP REQ ("+A+") [attempt "+j+"]: "+y+`
`+_+`
`+se})}function fc(c,y,_,A,j,$,se){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+j+"]: "+y+`
`+_+`
`+$+" "+se})}function Lr(c,y,_,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Bt(c,_)+(A?" "+A:"")})}function gi(c,y){c.info(function(){return"TIMEOUT: "+y})}Vr.prototype.info=function(){};function Bt(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var j=A[1];if(Array.isArray(j)&&!(1>j.length)){var $=j[0];if($!="noop"&&$!="stop"&&$!="close")for(var se=1;se<j.length;se++)j[se]=""}}}}return cl(_)}catch{return y}}var Ot={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},qi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Us;function Ua(){}D(Ua,hl),Ua.prototype.g=function(){return new XMLHttpRequest},Ua.prototype.i=function(){return{}},Us=new Ua;function yi(c,y,_,A){this.j=c,this.i=y,this.l=_,this.R=A||1,this.U=new Ls(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dl}function dl(){this.i=null,this.g="",this.h=!1}var Ur={},Bs={};function si(c,y,_){c.L=1,c.v=Hs(dt(y)),c.m=_,c.P=!0,Fi(c,null)}function Fi(c,y){c.F=Date.now(),ot(c),c.A=dt(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Ki(_.i,"t",A),c.C=0,_=c.j.J,c.h=new dl,c.g=Rc(c.j,_?y:null,!c.m),0<c.O&&(c.M=new ed(b(c.Y,c,c.g),c.O)),y=c.U,_=c.g,A=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(Nr[0]=j.toString()),j=Nr);for(var $=0;$<j.length;$++){var se=ji(_,j[$],A||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Mr(),hc(c.i,c.u,c.A,c.l,c.R,c.m)}yi.prototype.ca=function(c){c=c.target;const y=this.M;y&&Gn(c)==3?y.j():this.Y(c)},yi.prototype.Y=function(c){try{if(c==this.g)e:{const xt=Gn(this.g);var y=this.g.Ba();const Wi=this.g.Z();if(!(3>xt)&&(xt!=3||this.g&&(this.h.h||this.g.oa()||vc(this.g)))){this.J||xt!=4||y==7||(y==8||0>=Wi?Mr(3):Mr(2)),Ba(this);var _=this.g.Z();this.X=_;t:if(Br(this)){var A=vc(this.g);c="";var j=A.length,$=Gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wn(this),Rn(this);var se="";break t}this.h.i=new p.TextDecoder}for(y=0;y<j;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!($&&y==j-1)});A.length=0,this.h.g+=c,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=_==200,fc(this.i,this.u,this.A,this.l,this.R,xt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,Nt=this.g;if((Ue=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ne(Ue)){var Be=Ue;break t}}Be=null}if(_=Be)Lr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Cn(this,_);else{this.o=!1,this.s=3,vt(12),wn(this),Rn(this);break e}}if(this.P){_=!0;let Qt;for(;!this.J&&this.C<se.length;)if(Qt=zr(this,se),Qt==Bs){xt==4&&(this.s=4,vt(14),_=!1),Lr(this.i,this.l,null,"[Incomplete Response]");break}else if(Qt==Ur){this.s=4,vt(15),Lr(this.i,this.l,se,"[Invalid Chunk]"),_=!1;break}else Lr(this.i,this.l,Qt,null),Cn(this,Qt);if(Br(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||se.length!=0||this.h.h||(this.s=1,vt(16),_=!1),this.o=this.o&&_,!_)Lr(this.i,this.l,se,"[Invalid Chunked Response]"),wn(this),Rn(this);else if(0<se.length&&!this.W){this.W=!0;var jt=this.j;jt.g==this&&jt.ba&&!jt.M&&(jt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),Ys(jt),jt.M=!0,vt(11))}}else Lr(this.i,this.l,se,null),Cn(this,se);xt==4&&wn(this),this.o&&!this.J&&(xt==4?Tc(this.j,this):(this.o=!1,ot(this)))}else ad(this.g),_==400&&0<se.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),wn(this),Rn(this)}}}catch{}finally{}};function Br(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function zr(c,y){var _=c.C,A=y.indexOf(`
`,_);return A==-1?Bs:(_=Number(y.substring(_,A)),isNaN(_)?Ur:(A+=1,A+_>y.length?Bs:(y=y.slice(A,A+_),c.C=A+_,y)))}yi.prototype.cancel=function(){this.J=!0,wn(this)};function ot(c){c.S=Date.now()+c.I,ml(c,c.I)}function ml(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Pr(b(c.ba,c),y)}function Ba(c){c.B&&(p.clearTimeout(c.B),c.B=null)}yi.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(gi(this.i,this.A),this.L!=2&&(Mr(),vt(17)),wn(this),this.s=2,Rn(this)):ml(this,this.S-c)};function Rn(c){c.j.G==0||c.J||Tc(c.j,c)}function wn(c){Ba(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,tn(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Cn(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||jr(_.h,c))){if(!c.K&&jr(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var j=A;if(j[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Ya(_),Ka(_);else break e;Sl(_),vt(18)}}else _.za=j[1],0<_.za-_.T&&37500>j[2]&&_.F&&_.v==0&&!_.C&&(_.C=Pr(b(_.Za,_),6e3));if(1>=dc(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Xi(_,11)}else if((c.K||_.g==c)&&Ya(_),!ne(y))for(j=_.Da.g.parse(y),y=0;y<j.length;y++){let Be=j[y];if(_.T=Be[0],Be=Be[1],_.G==2)if(Be[0]=="c"){_.K=Be[1],_.ia=Be[2];const jt=Be[3];jt!=null&&(_.la=jt,_.j.info("VER="+_.la));const xt=Be[4];xt!=null&&(_.Aa=xt,_.j.info("SVER="+_.Aa));const Wi=Be[5];Wi!=null&&typeof Wi=="number"&&0<Wi&&(A=1.5*Wi,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Qt=c.g;if(Qt){const Ai=Qt.g?Qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ai){var $=A.h;$.g||Ai.indexOf("spdy")==-1&&Ai.indexOf("quic")==-1&&Ai.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Hr($,$.h),$.h=null))}if(A.D){const Cl=Qt.g?Qt.g.getResponseHeader("X-HTTP-Session-Id"):null;Cl&&(A.ya=Cl,Ge(A.I,A.D,Cl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var se=c;if(A.qa=Sc(A,A.J?A.ia:null,A.W),se.K){jn(A.h,se);var Ue=se,Nt=A.L;Nt&&(Ue.I=Nt),Ue.B&&(Ba(Ue),ot(Ue)),A.g=se}else Ec(A);0<_.i.length&&Qa(_)}else Be[0]!="stop"&&Be[0]!="close"||Xi(_,7);else _.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?Xi(_,7):Tl(_):Be[0]!="noop"&&_.l&&_.l.ta(Be),_.v=0)}}Mr(4)}catch{}}var td=class{constructor(c,y){this.g=c,this.map=y}};function pl(c){this.l=c||10,p.PerformanceNavigationTiming?(c=p.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function gl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function dc(c){return c.h?1:c.g?c.g.size:0}function jr(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Hr(c,y){c.g?c.g.add(y):c.h=y}function jn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}pl.prototype.cancel=function(){if(this.i=fn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function fn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return U(c.i)}function mc(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(d(c)){for(var y=[],_=c.length,A=0;A<_;A++)y.push(c[A]);return y}y=[],_=0;for(A in c)y[_++]=c[A];return y}function nd(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(d(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const A in c)y[_++]=A;return y}}}function zs(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(d(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=nd(c),A=mc(c),j=A.length,$=0;$<j;$++)y.call(void 0,A[$],_&&_[$],c)}var yl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function za(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),j=null;if(0<=A){var $=c[_].substring(0,A);j=c[_].substring(A+1)}else $=c[_];y($,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Gi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Gi){this.h=c.h,qr(this,c.j),this.o=c.o,this.g=c.g,js(this,c.s),this.l=c.l;var y=c.i,_=new vi;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),ja(this,_),this.m=c.m}else c&&(y=String(c).match(yl))?(this.h=!1,qr(this,y[1]||"",!0),this.o=Fr(y[2]||""),this.g=Fr(y[3]||"",!0),js(this,y[4]),this.l=Fr(y[5]||"",!0),ja(this,y[6]||"",!0),this.m=Fr(y[7]||"")):(this.h=!1,this.i=new vi(null,this.h))}Gi.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Hn(y,vl,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Hn(y,vl,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Hn(_,_.charAt(0)=="/"?_l:pc,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Hn(_,sd)),c.join("")};function dt(c){return new Gi(c)}function qr(c,y,_){c.j=_?Fr(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function js(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function ja(c,y,_){y instanceof vi?(c.i=y,wl(c.i,c.h)):(_||(y=Hn(y,rd)),c.i=new vi(y,c.h))}function Ge(c,y,_){c.i.set(y,_)}function Hs(c){return Ge(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Fr(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Hn(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,id),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function id(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var vl=/[#\/\?@]/g,pc=/[#\?:]/g,_l=/[#\?]/g,rd=/[#\?@]/g,sd=/#/g;function vi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function qn(c){c.g||(c.g=new Map,c.h=0,c.i&&za(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}n=vi.prototype,n.add=function(c,y){qn(this),this.i=null,c=Qi(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Ha(c,y){qn(c),y=Qi(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function $i(c,y){return qn(c),y=Qi(c,y),c.g.has(y)}n.forEach=function(c,y){qn(this),this.g.forEach(function(_,A){_.forEach(function(j){c.call(y,j,A,this)},this)},this)},n.na=function(){qn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let A=0;A<y.length;A++){const j=c[A];for(let $=0;$<j.length;$++)_.push(y[A])}return _},n.V=function(c){qn(this);let y=[];if(typeof c=="string")$i(this,c)&&(y=y.concat(this.g.get(Qi(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},n.set=function(c,y){return qn(this),this.i=null,c=Qi(this,c),$i(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},n.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Ki(c,y,_){Ha(c,y),0<_.length&&(c.i=null,c.g.set(Qi(c,y),U(_)),c.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var A=y[_];const $=encodeURIComponent(String(A)),se=this.V(A);for(A=0;A<se.length;A++){var j=$;se[A]!==""&&(j+="="+encodeURIComponent(String(se[A]))),c.push(j)}}return this.i=c.join("&")};function Qi(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function wl(c,y){y&&!c.j&&(qn(c),c.i=null,c.g.forEach(function(_,A){var j=A.toLowerCase();A!=j&&(Ha(this,A),Ki(this,j,_))},c)),c.j=y}function gc(c,y){const _=new Vr;if(p.Image){const A=new Image;A.onload=C(Fn,_,"TestLoadImage: loaded",!0,y,A),A.onerror=C(Fn,_,"TestLoadImage: error",!1,y,A),A.onabort=C(Fn,_,"TestLoadImage: abort",!1,y,A),A.ontimeout=C(Fn,_,"TestLoadImage: timeout",!1,y,A),p.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function qs(c,y){const _=new Vr,A=new AbortController,j=setTimeout(()=>{A.abort(),Fn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then($=>{clearTimeout(j),$.ok?Fn(_,"TestPingServer: ok",!0,y):Fn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),Fn(_,"TestPingServer: error",!1,y)})}function Fn(c,y,_,A,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),A(_)}catch{}}function Fs(){this.g=new hn}function _i(c,y,_){const A=_||"";try{zs(c,function(j,$){let se=j;g(j)&&(se=cl(j)),y.push(A+$+"="+encodeURIComponent(se))})}catch(j){throw y.push(A+"type="+encodeURIComponent("_badmap")),j}}function Gr(c){this.l=c.Ub||null,this.j=c.eb||!1}D(Gr,hl),Gr.prototype.g=function(){return new Yi(this.l,this.j)},Gr.prototype.i=function(c){return function(){return c}}({});function Yi(c,y){Dt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(Yi,Dt),n=Yi.prototype,n.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Ei(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||p).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wi(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ei(this)),this.g&&(this.readyState=3,Ei(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;El(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function El(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?wi(this):Ei(this),this.readyState==3&&El(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,wi(this))},n.Qa=function(c){this.g&&(this.response=c,wi(this))},n.ga=function(){this.g&&wi(this)};function wi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ei(c)}n.setRequestHeader=function(c,y){this.u.append(c,y)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function Ei(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Yi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function bl(c){let y="";return fe(c,function(_,A){y+=A,y+=":",y+=_,y+=`\r
`}),y}function zt(c,y,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=bl(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Ge(c,y,_))}function Xe(c){Dt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(Xe,Dt);var qa=/^https?$/i,Gs=["POST","PUT"];n=Xe.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,y,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Us.g(),this.v=this.o?lc(this.o):lc(Us),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch($){yc(this,$);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var j in A)_.set(j,A[j]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const $ of A.keys())_.set($,A.get($));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find($=>$.toLowerCase()=="content-type"),j=p.FormData&&c instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Gs,y,void 0))||A||j||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,se]of _)this.g.setRequestHeader($,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$s(this),this.u=!0,this.g.send(c),this.u=!1}catch($){yc(this,$)}};function yc(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Fa(c),bi(c)}function Fa(c){c.A||(c.A=!0,Ut(c,"complete"),Ut(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ut(this,"complete"),Ut(this,"abort"),bi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bi(this,!0)),Xe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ga(this):this.bb())},n.bb=function(){Ga(this)};function Ga(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Gn(c)!=4||c.Z()!=2)){if(c.u&&Gn(c)==4)oc(c.Ea,0,c);else if(Ut(c,"readystatechange"),Gn(c)==4){c.h=!1;try{const se=c.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var A;if(A=se===0){var j=String(c.D).match(yl)[1]||null;!j&&p.self&&p.self.location&&(j=p.self.location.protocol.slice(0,-1)),A=!qa.test(j?j.toLowerCase():"")}_=A}if(_)Ut(c,"complete"),Ut(c,"success");else{c.m=6;try{var $=2<Gn(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",Fa(c)}}finally{bi(c)}}}}function bi(c,y){if(c.g){$s(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ut(c,"ready");try{_.onreadystatechange=A}catch{}}}function $s(c){c.I&&(p.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Gn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Gn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),mi(y)}};function vc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ad(c){const y={};c=(c.g&&2<=Gn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(ne(c[A]))continue;var _=k(c[A]);const j=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const $=y[j]||[];y[j]=$,$.push(_)}x(y,function(A){return A.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ks(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function $a(c){this.Aa=0,this.i=[],this.j=new Vr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ks("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ks("baseRetryDelayMs",5e3,c),this.cb=Ks("retryDelaySeedMs",1e4,c),this.Wa=Ks("forwardChannelMaxRetries",2,c),this.wa=Ks("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new pl(c&&c.concurrentRequestLimit),this.Da=new Fs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=$a.prototype,n.la=8,n.G=1,n.connect=function(c,y,_,A){vt(0),this.W=c,this.H=y||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=Sc(this,null,this.W),Qa(this)};function Tl(c){if(_c(c),c.G==3){var y=c.U++,_=dt(c.I);if(Ge(_,"SID",c.K),Ge(_,"RID",y),Ge(_,"TYPE","terminate"),Qs(c,_),y=new yi(c,c.j,y),y.L=2,y.v=Hs(dt(_)),_=!1,p.navigator&&p.navigator.sendBeacon)try{_=p.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&p.Image&&(new Image().src=y.v,_=!0),_||(y.g=Rc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ot(y)}Ac(c)}function Ka(c){c.g&&(Ys(c),c.g.cancel(),c.g=null)}function _c(c){Ka(c),c.u&&(p.clearTimeout(c.u),c.u=null),Ya(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&p.clearTimeout(c.s),c.s=null)}function Qa(c){if(!gl(c.h)&&!c.s){c.s=!0;var y=c.Ga;ve||M(),ge||(ve(),ge=!0),qe.add(y,c),c.B=0}}function od(c,y){return dc(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Pr(b(c.Ga,c,y),Rl(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new yi(this,this.j,c);let $=this.o;if(this.S&&($?($=R($),O($,this.S)):$=this.S),this.m!==null||this.O||(j.H=$,$=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=wc(this,j,y),_=dt(this.I),Ge(_,"RID",c),Ge(_,"CVER",22),this.D&&Ge(_,"X-HTTP-Session-Id",this.D),Qs(this,_),$&&(this.O?y="headers="+encodeURIComponent(String(bl($)))+"&"+y:this.m&&zt(_,this.m,$)),Hr(this.h,j),this.Ua&&Ge(_,"TYPE","init"),this.P?(Ge(_,"$req",y),Ge(_,"SID","null"),j.T=!0,si(j,_,null)):si(j,_,y),this.G=2}}else this.G==3&&(c?Al(this,c):this.i.length==0||gl(this.h)||Al(this))};function Al(c,y){var _;y?_=y.l:_=c.U++;const A=dt(c.I);Ge(A,"SID",c.K),Ge(A,"RID",_),Ge(A,"AID",c.T),Qs(c,A),c.m&&c.o&&zt(A,c.m,c.o),_=new yi(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=wc(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Hr(c.h,_),si(_,A,y)}function Qs(c,y){c.H&&fe(c.H,function(_,A){Ge(y,A,_)}),c.l&&zs({},function(_,A){Ge(y,A,_)})}function wc(c,y,_){_=Math.min(c.i.length,_);var A=c.l?b(c.l.Na,c.l,c):null;e:{var j=c.i;let $=-1;for(;;){const se=["count="+_];$==-1?0<_?($=j[0].g,se.push("ofs="+$)):$=0:se.push("ofs="+$);let Ue=!0;for(let Nt=0;Nt<_;Nt++){let Be=j[Nt].g;const jt=j[Nt].map;if(Be-=$,0>Be)$=Math.max(0,j[Nt].g-100),Ue=!1;else try{_i(jt,se,"req"+Be+"_")}catch{A&&A(jt)}}if(Ue){A=se.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,A}function Ec(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ve||M(),ge||(ve(),ge=!0),qe.add(y,c),c.v=0}}function Sl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Pr(b(c.Fa,c),Rl(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,bc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Pr(b(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vt(10),Ka(this),bc(this))};function Ys(c){c.A!=null&&(p.clearTimeout(c.A),c.A=null)}function bc(c){c.g=new yi(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=dt(c.qa);Ge(y,"RID","rpc"),Ge(y,"SID",c.K),Ge(y,"AID",c.T),Ge(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ge(y,"TO",c.ja),Ge(y,"TYPE","xmlhttp"),Qs(c,y),c.m&&c.o&&zt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Hs(dt(y)),_.m=null,_.P=!0,Fi(_,c)}n.Za=function(){this.C!=null&&(this.C=null,Ka(this),Sl(this),vt(19))};function Ya(c){c.C!=null&&(p.clearTimeout(c.C),c.C=null)}function Tc(c,y){var _=null;if(c.g==y){Ya(c),Ys(c),c.g=null;var A=2}else if(jr(c.h,y))_=y.D,jn(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var j=c.B;A=Va(),Ut(A,new cc(A,_)),Qa(c)}else Ec(c);else if(j=y.s,j==3||j==0&&0<y.X||!(A==1&&od(c,y)||A==2&&Sl(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),j){case 1:Xi(c,5);break;case 4:Xi(c,10);break;case 3:Xi(c,6);break;default:Xi(c,2)}}}function Rl(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Xi(c,y){if(c.j.info("Error code "+y),y==2){var _=b(c.fb,c),A=c.Xa;const j=!A;A=new Gi(A||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||qr(A,"https"),Hs(A),j?gc(A.toString(),_):qs(A.toString(),_)}else vt(2);c.G=0,c.l&&c.l.sa(y),Ac(c),_c(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function Ac(c){if(c.G=0,c.ka=[],c.l){const y=fn(c.h);(y.length!=0||c.i.length!=0)&&(P(c.ka,y),P(c.ka,c.i),c.h.i.length=0,U(c.i),c.i.length=0),c.l.ra()}}function Sc(c,y,_){var A=_ instanceof Gi?dt(_):new Gi(_);if(A.g!="")y&&(A.g=y+"."+A.g),js(A,A.s);else{var j=p.location;A=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;var $=new Gi(null);A&&qr($,A),y&&($.g=y),j&&js($,j),_&&($.l=_),A=$}return _=c.D,y=c.ya,_&&y&&Ge(A,_,y),Ge(A,"VER",c.la),Qs(c,A),A}function Rc(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Xe(new Gr({eb:_})):new Xe(c.pa),y.Ha(c.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cc(){}n=Cc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Xa(){}Xa.prototype.g=function(c,y){return new dn(c,y)};function dn(c,y){Dt.call(this),this.g=new $a(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!ne(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ne(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Ti(this)}D(dn,Dt),dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){Tl(this.g)},dn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=cl(c),c=_);y.i.push(new td(y.Ya++,c)),y.G==3&&Qa(y)},dn.prototype.N=function(){this.g.l=null,delete this.j,Tl(this.g),delete this.g,dn.aa.N.call(this)};function Ic(c){xr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}D(Ic,xr);function Dc(){ri.call(this),this.status=1}D(Dc,ri);function Ti(c){this.g=c}D(Ti,Cc),Ti.prototype.ua=function(){Ut(this.g,"a")},Ti.prototype.ta=function(c){Ut(this.g,new Ic(c))},Ti.prototype.sa=function(c){Ut(this.g,new Dc)},Ti.prototype.ra=function(){Ut(this.g,"b")},Xa.prototype.createWebChannel=Xa.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,Nb=function(){return new Xa},Ob=function(){return Va()},Db=zn,Op={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ot.NO_ERROR=0,Ot.TIMEOUT=8,Ot.HTTP_ERROR=6,jh=Ot,qi.COMPLETE="complete",Ib=qi,uc.EventType=pi,pi.OPEN="a",pi.CLOSE="b",pi.ERROR="c",pi.MESSAGE="d",Dt.prototype.listen=Dt.prototype.K,vu=uc,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,Cb=Xe}).apply(typeof Dh<"u"?Dh:typeof self<"u"?self:typeof window<"u"?window:{});const l0="@firebase/firestore",u0="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wo="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta=new rg("@firebase/firestore");function Ao(){return Ta.logLevel}function ce(n,...e){if(Ta.logLevel<=Me.DEBUG){const t=e.map(_g);Ta.debug(`Firestore (${Wo}): ${n}`,...t)}}function Ar(n,...e){if(Ta.logLevel<=Me.ERROR){const t=e.map(_g);Ta.error(`Firestore (${Wo}): ${n}`,...t)}}function Uo(n,...e){if(Ta.logLevel<=Me.WARN){const t=e.map(_g);Ta.warn(`Firestore (${Wo}): ${n}`,...t)}}function _g(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(n="Unexpected state"){const e=`FIRESTORE (${Wo}) INTERNAL ASSERTION FAILED: `+n;throw Ar(e),new Error(e)}function We(n,e){n||Te()}function Re(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Cr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _O{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(an.UNAUTHENTICATED))}shutdown(){}}class wO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class EO{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){We(this.o===void 0);let s=this.i;const o=d=>this.i!==s?(s=this.i,t(d)):Promise.resolve();let u=new wr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new wr,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const d=u;e.enqueueRetryable(async()=>{await d.promise,await o(this.currentUser)})},p=d=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(d=>p(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?p(d):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new wr)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(We(typeof s.accessToken=="string"),new xb(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string"),new an(e)}}class bO{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=an.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class TO{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new bO(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(an.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class c0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AO{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Mn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){We(this.o===void 0);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new c0(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(We(typeof t.token=="string"),this.R=t.token,new c0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=SO(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function Le(n,e){return n<e?-1:n>e?1:0}function Bo(n,e,t){return n.length===e.length&&n.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0=-62135596800,f0=1e6;class Vt{static now(){return Vt.fromMillis(Date.now())}static fromDate(e){return Vt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*f0);return new Vt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<h0)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/f0}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-h0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new Vt(0,0))}static max(){return new Ae(new Vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="__name__";class Oi{constructor(e,t,s){t===void 0?t=0:t>e.length&&Te(),s===void 0?s=e.length-t:s>e.length-t&&Te(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Oi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Oi?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=Oi.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Math.sign(e.length-t.length)}static compareSegments(e,t){const s=Oi.isNumericId(e),o=Oi.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Oi.extractNumericId(e).compare(Oi.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return bs.fromString(e.substring(4,e.length-2))}}class at extends Oi{construct(e,t,s){return new at(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new at(t)}static emptyPath(){return new at([])}}const RO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends Oi{construct(e,t,s){return new Jt(e,t,s)}static isValidIdentifier(e){return RO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===d0}static keyField(){return new Jt([d0])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let f=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new he(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[o+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new he(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=d,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(s+=p,o++):(u(),o++)}if(u(),f)throw new he(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(t)}static emptyPath(){return new Jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(at.fromString(e))}static fromName(e){return new _e(at.fromString(e).popFirst(5))}static empty(){return new _e(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return at.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new at(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xu=-1;function CO(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new Vt(t+1,0):new Vt(t,s));return new Ss(o,_e.empty(),e)}function IO(n){return new Ss(n.readTime,n.key,xu)}class Ss{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Ss(Ae.min(),_e.empty(),xu)}static max(){return new Ss(Ae.max(),_e.empty(),xu)}}function DO(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(n.documentKey,e.documentKey),t!==0?t:Le(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class NO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zo(n){if(n.code!==ee.FAILED_PRECONDITION||n.message!==OO)throw n;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):te.reject(t)}static resolve(e){return new te((t,s)=>{t(e)})}static reject(e){return new te((t,s)=>{s(e)})}static waitFor(e){return new te((t,s)=>{let o=0,u=0,f=!1;e.forEach(p=>{++o,p.next(()=>{++u,f&&u===o&&t()},d=>s(d))}),f=!0,u===o&&t()})}static or(e){let t=te.resolve(!1);for(const s of e)t=t.next(o=>o?te.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new te((s,o)=>{const u=e.length,f=new Array(u);let p=0;for(let d=0;d<u;d++){const g=d;t(e[g]).next(v=>{f[g]=v,++p,p===u&&s(f)},v=>o(v))}})}static doWhile(e,t){return new te((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function xO(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Jo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.oe(s),this._e=s=>t.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Df.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg=-1;function Of(n){return n==null}function nf(n){return n===0&&1/n==-1/0}function kO(n){return typeof n=="number"&&Number.isInteger(n)&&!nf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb="";function MO(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=m0(e)),e=PO(n.get(t),e);return m0(e)}function PO(n,e){let t=e;const s=n.length;for(let o=0;o<s;o++){const u=n.charAt(o);switch(u){case"\0":t+="";break;case Mb:t+="";break;default:t+=u}}return t}function m0(n){return n+Mb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ms(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Pb(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,t){this.comparator=e,this.root=t||Zt.EMPTY}insert(e,t){return new ht(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Oh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Oh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Oh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Oh(this.root,e,this.comparator,!0)}}class Oh{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Zt.RED,this.left=o??Zt.EMPTY,this.right=u??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Zt(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Zt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,t,s,o,u){return this}insert(e,t,s){return new Zt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new g0(this.data.getIterator())}getIteratorFrom(e){return new g0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Lt(this.comparator);return t.data=e,t}}class g0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new Pn([])}unionWith(e){let t=new Lt(Jt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Pn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Bo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Vb("Invalid base64 string: "+u):u}}(e);return new en(t)}static fromUint8Array(e){const t=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new en(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const VO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rs(n){if(We(!!n),typeof n=="string"){let e=0;const t=VO.exec(n);if(We(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Et(n.seconds),nanos:Et(n.nanos)}}function Et(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Cs(n){return typeof n=="string"?en.fromBase64String(n):en.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb="server_timestamp",Ub="__type__",Bb="__previous_value__",zb="__local_write_time__";function Eg(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Ub])===null||t===void 0?void 0:t.stringValue)===Lb}function Nf(n){const e=n.mapValue.fields[Bb];return Eg(e)?Nf(e):e}function ku(n){const e=Rs(n.mapValue.fields[zb].timestampValue);return new Vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e,t,s,o,u,f,p,d,g){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=d,this.useFetchStreams=g}}const rf="(default)";class Mu{constructor(e,t){this.projectId=e,this.database=t||rf}static empty(){return new Mu("","")}get isDefaultDatabase(){return this.database===rf}isEqual(e){return e instanceof Mu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb="__type__",UO="__max__",Nh={mapValue:{}},Hb="__vector__",sf="value";function Is(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Eg(n)?4:zO(n)?9007199254740991:BO(n)?10:11:Te()}function Pi(n,e){if(n===e)return!0;const t=Is(n);if(t!==Is(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ku(n).isEqual(ku(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Rs(o.timestampValue),p=Rs(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,u){return Cs(o.bytesValue).isEqual(Cs(u.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,u){return Et(o.geoPointValue.latitude)===Et(u.geoPointValue.latitude)&&Et(o.geoPointValue.longitude)===Et(u.geoPointValue.longitude)}(n,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Et(o.integerValue)===Et(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Et(o.doubleValue),p=Et(u.doubleValue);return f===p?nf(f)===nf(p):isNaN(f)&&isNaN(p)}return!1}(n,e);case 9:return Bo(n.arrayValue.values||[],e.arrayValue.values||[],Pi);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},p=u.mapValue.fields||{};if(p0(f)!==p0(p))return!1;for(const d in f)if(f.hasOwnProperty(d)&&(p[d]===void 0||!Pi(f[d],p[d])))return!1;return!0}(n,e);default:return Te()}}function Pu(n,e){return(n.values||[]).find(t=>Pi(t,e))!==void 0}function zo(n,e){if(n===e)return 0;const t=Is(n),s=Is(e);if(t!==s)return Le(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Le(n.booleanValue,e.booleanValue);case 2:return function(u,f){const p=Et(u.integerValue||u.doubleValue),d=Et(f.integerValue||f.doubleValue);return p<d?-1:p>d?1:p===d?0:isNaN(p)?isNaN(d)?0:-1:1}(n,e);case 3:return y0(n.timestampValue,e.timestampValue);case 4:return y0(ku(n),ku(e));case 5:return Le(n.stringValue,e.stringValue);case 6:return function(u,f){const p=Cs(u),d=Cs(f);return p.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(u,f){const p=u.split("/"),d=f.split("/");for(let g=0;g<p.length&&g<d.length;g++){const v=Le(p[g],d[g]);if(v!==0)return v}return Le(p.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(u,f){const p=Le(Et(u.latitude),Et(f.latitude));return p!==0?p:Le(Et(u.longitude),Et(f.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return v0(n.arrayValue,e.arrayValue);case 10:return function(u,f){var p,d,g,v;const E=u.fields||{},b=f.fields||{},C=(p=E[sf])===null||p===void 0?void 0:p.arrayValue,D=(d=b[sf])===null||d===void 0?void 0:d.arrayValue,U=Le(((g=C==null?void 0:C.values)===null||g===void 0?void 0:g.length)||0,((v=D==null?void 0:D.values)===null||v===void 0?void 0:v.length)||0);return U!==0?U:v0(C,D)}(n.mapValue,e.mapValue);case 11:return function(u,f){if(u===Nh.mapValue&&f===Nh.mapValue)return 0;if(u===Nh.mapValue)return 1;if(f===Nh.mapValue)return-1;const p=u.fields||{},d=Object.keys(p),g=f.fields||{},v=Object.keys(g);d.sort(),v.sort();for(let E=0;E<d.length&&E<v.length;++E){const b=Le(d[E],v[E]);if(b!==0)return b;const C=zo(p[d[E]],g[v[E]]);if(C!==0)return C}return Le(d.length,v.length)}(n.mapValue,e.mapValue);default:throw Te()}}function y0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Le(n,e);const t=Rs(n),s=Rs(e),o=Le(t.seconds,s.seconds);return o!==0?o:Le(t.nanos,s.nanos)}function v0(n,e){const t=n.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=zo(t[o],s[o]);if(u)return u}return Le(t.length,s.length)}function jo(n){return Np(n)}function Np(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const s=Rs(t);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Cs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return _e.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=Np(u);return s+"]"}(n.arrayValue):"mapValue"in n?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Np(t.fields[f])}`;return o+"}"}(n.mapValue):Te()}function Hh(n){switch(Is(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Nf(n);return e?16+Hh(e):16;case 5:return 2*n.stringValue.length;case 6:return Cs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Hh(u),0)}(n.arrayValue);case 10:case 11:return function(s){let o=0;return Ms(s.fields,(u,f)=>{o+=u.length+Hh(f)}),o}(n.mapValue);default:throw Te()}}function _0(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function xp(n){return!!n&&"integerValue"in n}function bg(n){return!!n&&"arrayValue"in n}function w0(n){return!!n&&"nullValue"in n}function E0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function qh(n){return!!n&&"mapValue"in n}function BO(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[jb])===null||t===void 0?void 0:t.stringValue)===Hb}function Au(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ms(n.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Au(s)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Au(n.arrayValue.values[t]);return e}return Object.assign({},n)}function zO(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===UO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.value=e}static empty(){return new An({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!qh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Au(t)}setAll(e){let t=Jt.emptyPath(),s={},o=[];e.forEach((f,p)=>{if(!t.isImmediateParentOf(p)){const d=this.getFieldsMap(t);this.applyChanges(d,s,o),s={},o=[],t=p.popLast()}f?s[p.lastSegment()]=Au(f):o.push(p.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());qh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Pi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];qh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Ms(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new An(Au(this.value))}}function qb(n){const e=[];return Ms(n.fields,(t,s)=>{const o=new Jt([t]);if(qh(s)){const u=qb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e,t,s,o,u,f,p){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(e){return new on(e,0,Ae.min(),Ae.min(),Ae.min(),An.empty(),0)}static newFoundDocument(e,t,s,o){return new on(e,1,t,Ae.min(),s,o,0)}static newNoDocument(e,t){return new on(e,2,t,Ae.min(),Ae.min(),An.empty(),0)}static newUnknownDocument(e,t){return new on(e,3,t,Ae.min(),Ae.min(),An.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,t){this.position=e,this.inclusive=t}}function b0(n,e,t){let s=0;for(let o=0;o<n.position.length;o++){const u=e[o],f=n.position[o];if(u.field.isKeyField()?s=_e.comparator(_e.fromName(f.referenceValue),t.key):s=zo(f,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function T0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Pi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,t="asc"){this.field=e,this.dir=t}}function jO(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{}class It extends Fb{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new qO(e,t,s):t==="array-contains"?new $O(e,s):t==="in"?new KO(e,s):t==="not-in"?new QO(e,s):t==="array-contains-any"?new YO(e,s):new It(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new FO(e,s):new GO(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(zo(t,this.value)):t!==null&&Is(this.value)===Is(t)&&this.matchesComparison(zo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class di extends Fb{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new di(e,t)}matches(e){return Gb(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Gb(n){return n.op==="and"}function $b(n){return HO(n)&&Gb(n)}function HO(n){for(const e of n.filters)if(e instanceof di)return!1;return!0}function kp(n){if(n instanceof It)return n.field.canonicalString()+n.op.toString()+jo(n.value);if($b(n))return n.filters.map(e=>kp(e)).join(",");{const e=n.filters.map(t=>kp(t)).join(",");return`${n.op}(${e})`}}function Kb(n,e){return n instanceof It?function(s,o){return o instanceof It&&s.op===o.op&&s.field.isEqual(o.field)&&Pi(s.value,o.value)}(n,e):n instanceof di?function(s,o){return o instanceof di&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,p)=>u&&Kb(f,o.filters[p]),!0):!1}(n,e):void Te()}function Qb(n){return n instanceof It?function(t){return`${t.field.canonicalString()} ${t.op} ${jo(t.value)}`}(n):n instanceof di?function(t){return t.op.toString()+" {"+t.getFilters().map(Qb).join(" ,")+"}"}(n):"Filter"}class qO extends It{constructor(e,t,s){super(e,t,s),this.key=_e.fromName(s.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class FO extends It{constructor(e,t){super(e,"in",t),this.keys=Yb("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class GO extends It{constructor(e,t){super(e,"not-in",t),this.keys=Yb("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Yb(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>_e.fromName(s.referenceValue))}class $O extends It{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return bg(t)&&Pu(t.arrayValue,this.value)}}class KO extends It{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Pu(this.value.arrayValue,t)}}class QO extends It{constructor(e,t){super(e,"not-in",t)}matches(e){if(Pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Pu(this.value.arrayValue,t)}}class YO extends It{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!bg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Pu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e,t=null,s=[],o=[],u=null,f=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=p,this.le=null}}function A0(n,e=null,t=[],s=[],o=null,u=null,f=null){return new XO(n,e,t,s,o,u,f)}function Tg(n){const e=Re(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>kp(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Of(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>jo(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>jo(s)).join(",")),e.le=t}return e.le}function Ag(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!jO(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Kb(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!T0(n.startAt,e.startAt)&&T0(n.endAt,e.endAt)}function Mp(n){return _e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,t=null,s=[],o=[],u=null,f="F",p=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=d,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function WO(n,e,t,s,o,u,f,p){return new el(n,e,t,s,o,u,f,p)}function Sg(n){return new el(n)}function S0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Xb(n){return n.collectionGroup!==null}function Su(n){const e=Re(n);if(e.he===null){e.he=[];const t=new Set;for(const u of e.explicitOrderBy)e.he.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new Lt(Jt.comparator);return f.filters.forEach(d=>{d.getFlattenedFilters().forEach(g=>{g.isInequality()&&(p=p.add(g.field))})}),p})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.he.push(new Vu(u,s))}),t.has(Jt.keyField().canonicalString())||e.he.push(new Vu(Jt.keyField(),s))}return e.he}function ki(n){const e=Re(n);return e.Pe||(e.Pe=ZO(e,Su(n))),e.Pe}function ZO(n,e){if(n.limitType==="F")return A0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Vu(o.field,u)});const t=n.endAt?new af(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new af(n.startAt.position,n.startAt.inclusive):null;return A0(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function Pp(n,e){const t=n.filters.concat([e]);return new el(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Vp(n,e,t){return new el(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function xf(n,e){return Ag(ki(n),ki(e))&&n.limitType===e.limitType}function Wb(n){return`${Tg(ki(n))}|lt:${n.limitType}`}function So(n){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>Qb(o)).join(", ")}]`),Of(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>jo(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>jo(o)).join(",")),`Target(${s})`}(ki(n))}; limitType=${n.limitType})`}function kf(n,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):_e.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(n,e)&&function(s,o){for(const u of Su(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(n,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(n,e)&&function(s,o){return!(s.startAt&&!function(f,p,d){const g=b0(f,p,d);return f.inclusive?g<=0:g<0}(s.startAt,Su(s),o)||s.endAt&&!function(f,p,d){const g=b0(f,p,d);return f.inclusive?g>=0:g>0}(s.endAt,Su(s),o))}(n,e)}function JO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Zb(n){return(e,t)=>{let s=!1;for(const o of Su(n)){const u=eN(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function eN(n,e,t){const s=n.field.isKeyField()?_e.comparator(e.key,t.key):function(u,f,p){const d=f.data.field(u),g=p.data.field(u);return d!==null&&g!==null?zo(d,g):Te()}(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ms(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return Pb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN=new ht(_e.comparator);function Sr(){return tN}const Jb=new ht(_e.comparator);function _u(...n){let e=Jb;for(const t of n)e=e.insert(t.key,t);return e}function eT(n){let e=Jb;return n.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function va(){return Ru()}function tT(){return Ru()}function Ru(){return new Ia(n=>n.toString(),(n,e)=>n.isEqual(e))}const nN=new ht(_e.comparator),iN=new Lt(_e.comparator);function Pe(...n){let e=iN;for(const t of n)e=e.add(t);return e}const rN=new Lt(Le);function sN(){return rN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nf(e)?"-0":e}}function nT(n){return{integerValue:""+n}}function aN(n,e){return kO(e)?nT(e):Rg(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(){this._=void 0}}function oN(n,e,t){return n instanceof Lu?function(o,u){const f={fields:{[Ub]:{stringValue:Lb},[zb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Eg(u)&&(u=Nf(u)),u&&(f.fields[Bb]=u),{mapValue:f}}(t,e):n instanceof Uu?rT(n,e):n instanceof Bu?sT(n,e):function(o,u){const f=iT(o,u),p=R0(f)+R0(o.Ie);return xp(f)&&xp(o.Ie)?nT(p):Rg(o.serializer,p)}(n,e)}function lN(n,e,t){return n instanceof Uu?rT(n,e):n instanceof Bu?sT(n,e):t}function iT(n,e){return n instanceof of?function(s){return xp(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Lu extends Mf{}class Uu extends Mf{constructor(e){super(),this.elements=e}}function rT(n,e){const t=aT(e);for(const s of n.elements)t.some(o=>Pi(o,s))||t.push(s);return{arrayValue:{values:t}}}class Bu extends Mf{constructor(e){super(),this.elements=e}}function sT(n,e){let t=aT(e);for(const s of n.elements)t=t.filter(o=>!Pi(o,s));return{arrayValue:{values:t}}}class of extends Mf{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function R0(n){return Et(n.integerValue||n.doubleValue)}function aT(n){return bg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,t){this.field=e,this.transform=t}}function cN(n,e){return n.field.isEqual(e.field)&&function(s,o){return s instanceof Uu&&o instanceof Uu||s instanceof Bu&&o instanceof Bu?Bo(s.elements,o.elements,Pi):s instanceof of&&o instanceof of?Pi(s.Ie,o.Ie):s instanceof Lu&&o instanceof Lu}(n.transform,e.transform)}class hN{constructor(e,t){this.version=e,this.transformResults=t}}class hi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new hi}static exists(e){return new hi(void 0,e)}static updateTime(e){return new hi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Pf{}function oT(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new uT(n.key,hi.none()):new Yu(n.key,n.data,hi.none());{const t=n.data,s=An.empty();let o=new Lt(Jt.comparator);for(let u of e.fields)if(!o.has(u)){let f=t.field(u);f===null&&u.length>1&&(u=u.popLast(),f=t.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Ps(n.key,s,new Pn(o.toArray()),hi.none())}}function fN(n,e,t){n instanceof Yu?function(o,u,f){const p=o.value.clone(),d=I0(o.fieldTransforms,u,f.transformResults);p.setAll(d),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(n,e,t):n instanceof Ps?function(o,u,f){if(!Fh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const p=I0(o.fieldTransforms,u,f.transformResults),d=u.data;d.setAll(lT(o)),d.setAll(p),u.convertToFoundDocument(f.version,d).setHasCommittedMutations()}(n,e,t):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,t)}function Cu(n,e,t,s){return n instanceof Yu?function(u,f,p,d){if(!Fh(u.precondition,f))return p;const g=u.value.clone(),v=D0(u.fieldTransforms,d,f);return g.setAll(v),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(n,e,t,s):n instanceof Ps?function(u,f,p,d){if(!Fh(u.precondition,f))return p;const g=D0(u.fieldTransforms,d,f),v=f.data;return v.setAll(lT(u)),v.setAll(g),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(E=>E.field))}(n,e,t,s):function(u,f,p){return Fh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p}(n,e,t)}function dN(n,e){let t=null;for(const s of n.fieldTransforms){const o=e.data.field(s.field),u=iT(s.transform,o||null);u!=null&&(t===null&&(t=An.empty()),t.set(s.field,u))}return t||null}function C0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Bo(s,o,(u,f)=>cN(u,f))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Yu extends Pf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ps extends Pf{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function lT(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}}),e}function I0(n,e,t){const s=new Map;We(n.length===t.length);for(let o=0;o<t.length;o++){const u=n[o],f=u.transform,p=e.data.field(u.field);s.set(u.field,lN(f,p,t[o]))}return s}function D0(n,e,t){const s=new Map;for(const o of n){const u=o.transform,f=t.data.field(o.field);s.set(o.field,oN(u,f,e))}return s}class uT extends Pf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mN extends Pf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&fN(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Cu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Cu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=tT();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=t.has(o.key)?null:p;const d=oT(f,p);d!==null&&s.set(o.key,d),f.isValidDocument()||f.convertToNoDocument(Ae.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Pe())}isEqual(e){return this.batchId===e.batchId&&Bo(this.mutations,e.mutations,(t,s)=>C0(t,s))&&Bo(this.baseMutations,e.baseMutations,(t,s)=>C0(t,s))}}class Cg{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){We(e.mutations.length===s.length);let o=function(){return nN}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Cg(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct,je;function vN(n){switch(n){case ee.OK:return Te();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Te()}}function cT(n){if(n===void 0)return Ar("GRPC error has no .code"),ee.UNKNOWN;switch(n){case Ct.OK:return ee.OK;case Ct.CANCELLED:return ee.CANCELLED;case Ct.UNKNOWN:return ee.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return ee.INTERNAL;case Ct.UNAVAILABLE:return ee.UNAVAILABLE;case Ct.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Ct.NOT_FOUND:return ee.NOT_FOUND;case Ct.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Ct.ABORTED:return ee.ABORTED;case Ct.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Ct.DATA_LOSS:return ee.DATA_LOSS;default:return Te()}}(je=Ct||(Ct={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=new bs([4294967295,4294967295],0);function O0(n){const e=_N().encode(n),t=new Rb;return t.update(e),new Uint8Array(t.digest())}function N0(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new bs([t,s],0),new bs([o,u],0)]}class Ig{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new wu(`Invalid padding: ${t}`);if(s<0)throw new wu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new wu(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new wu(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=bs.fromNumber(this.Ee)}Ae(e,t,s){let o=e.add(t.multiply(bs.fromNumber(s)));return o.compare(wN)===1&&(o=new bs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=O0(e),[s,o]=N0(t);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Ig(u,o,t);return s.forEach(p=>f.insert(p)),f}insert(e){if(this.Ee===0)return;const t=O0(e),[s,o]=N0(t);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class wu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Xu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Vf(Ae.min(),o,new ht(Le),Sr(),Pe())}}class Xu{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Xu(s,t,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,t,s,o){this.me=e,this.removedTargetIds=t,this.key=s,this.fe=o}}class hT{constructor(e,t){this.targetId=e,this.ge=t}}class fT{constructor(e,t,s=en.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class x0{constructor(){this.pe=0,this.ye=k0(),this.we=en.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Pe(),t=Pe(),s=Pe();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Te()}}),new Xu(this.we,this.Se,e,t,s)}Me(){this.be=!1,this.ye=k0()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,We(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class EN{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Sr(),this.$e=xh(),this.Ke=xh(),this.Ue=new ht(Le)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const s=this.He(t);switch(e.state){case 0:this.Je(t)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(t);break;case 3:this.Je(t)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),s.Ce(e.resumeToken));break;default:Te()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((s,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,s=e.ge.count,o=this.Xe(t);if(o){const u=o.target;if(Mp(u))if(s===0){const f=new _e(u.path);this.ze(t,f,on.newNoDocument(f,Ae.min()))}else We(s===1);else{const f=this.et(t);if(f!==s){const p=this.tt(e),d=p?this.nt(p,e,f):1;if(d!==0){this.Ye(t);const g=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,g)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let f,p;try{f=Cs(s).toUint8Array()}catch(d){if(d instanceof Vb)return Uo("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{p=new Ig(f,o,u)}catch(d){return Uo(d instanceof wu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return p.Ee===0?null:p}nt(e,t,s){return t.ge.count===s-this.st(e,t.targetId)?0:2}st(e,t){const s=this.ke.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const f=this.ke.it(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.ze(t,u,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((u,f)=>{const p=this.Xe(f);if(p){if(u.current&&Mp(p.target)){const d=new _e(p.target.path);this._t(d).has(f)||this.ut(f,d)||this.ze(f,d,on.newNoDocument(d,e))}u.ve&&(t.set(f,u.Fe()),u.Me())}});let s=Pe();this.Ke.forEach((u,f)=>{let p=!0;f.forEachWhile(d=>{const g=this.Xe(d);return!g||g.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new Vf(e,t,this.Ue,this.Qe,s);return this.Qe=Sr(),this.$e=xh(),this.Ke=xh(),this.Ue=new ht(Le),o}Ge(e,t){if(!this.Je(e))return;const s=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,s),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),s&&(this.Qe=this.Qe.insert(t,s))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new x0,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Lt(Le),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Lt(Le),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||ce("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new x0),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function xh(){return new ht(_e.comparator)}function k0(){return new ht(_e.comparator)}const bN={asc:"ASCENDING",desc:"DESCENDING"},TN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AN={and:"AND",or:"OR"};class SN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Lp(n,e){return n.useProto3Json||Of(e)?e:{value:e}}function lf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dT(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function RN(n,e){return lf(n,e.toTimestamp())}function Mi(n){return We(!!n),Ae.fromTimestamp(function(t){const s=Rs(t);return new Vt(s.seconds,s.nanos)}(n))}function Dg(n,e){return Up(n,e).canonicalString()}function Up(n,e){const t=function(o){return new at(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function mT(n){const e=at.fromString(n);return We(_T(e)),e}function Bp(n,e){return Dg(n.databaseId,e.path)}function fp(n,e){const t=mT(e);if(t.get(1)!==n.databaseId.projectId)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new _e(gT(t))}function pT(n,e){return Dg(n.databaseId,e)}function CN(n){const e=mT(n);return e.length===4?at.emptyPath():gT(e)}function zp(n){return new at(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function gT(n){return We(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function M0(n,e,t){return{name:Bp(n,e),fields:t.value.mapValue.fields}}function IN(n,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,v){return g.useProto3Json?(We(v===void 0||typeof v=="string"),en.fromBase64String(v||"")):(We(v===void 0||v instanceof Buffer||v instanceof Uint8Array),en.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),f=e.targetChange.cause,p=f&&function(g){const v=g.code===void 0?ee.UNKNOWN:cT(g.code);return new he(v,g.message||"")}(f);t=new fT(s,o,u,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=fp(n,s.document.name),u=Mi(s.document.updateTime),f=s.document.createTime?Mi(s.document.createTime):Ae.min(),p=new An({mapValue:{fields:s.document.fields}}),d=on.newFoundDocument(o,u,f,p),g=s.targetIds||[],v=s.removedTargetIds||[];t=new Gh(g,v,d.key,d)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=fp(n,s.document),u=s.readTime?Mi(s.readTime):Ae.min(),f=on.newNoDocument(o,u),p=s.removedTargetIds||[];t=new Gh([],p,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=fp(n,s.document),u=s.removedTargetIds||[];t=new Gh([],u,o,null)}else{if(!("filter"in e))return Te();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new yN(o,u),p=s.targetId;t=new hT(p,f)}}return t}function DN(n,e){let t;if(e instanceof Yu)t={update:M0(n,e.key,e.value)};else if(e instanceof uT)t={delete:Bp(n,e.key)};else if(e instanceof Ps)t={update:M0(n,e.key,e.data),updateMask:UN(e.fieldMask)};else{if(!(e instanceof mN))return Te();t={verify:Bp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const p=f.transform;if(p instanceof Lu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Uu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Bu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof of)return{fieldPath:f.field.canonicalString(),increment:p.Ie};throw Te()}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:RN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te()}(n,e.precondition)),t}function ON(n,e){return n&&n.length>0?(We(e!==void 0),n.map(t=>function(o,u){let f=o.updateTime?Mi(o.updateTime):Mi(u);return f.isEqual(Ae.min())&&(f=Mi(u)),new hN(f,o.transformResults||[])}(t,e))):[]}function NN(n,e){return{documents:[pT(n,e.path)]}}function xN(n,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=pT(n,o);const u=function(g){if(g.length!==0)return vT(di.create(g,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(v=>function(b){return{field:Ro(b.field),direction:PN(b.dir)}}(v))}(e.orderBy);f&&(t.structuredQuery.orderBy=f);const p=Lp(n,e.limit);return p!==null&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:t,parent:o}}function kN(n){let e=CN(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){We(s===1);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];t.where&&(u=function(E){const b=yT(E);return b instanceof di&&$b(b)?b.getFilters():[b]}(t.where));let f=[];t.orderBy&&(f=function(E){return E.map(b=>function(D){return new Vu(Co(D.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(b))}(t.orderBy));let p=null;t.limit&&(p=function(E){let b;return b=typeof E=="object"?E.value:E,Of(b)?null:b}(t.limit));let d=null;t.startAt&&(d=function(E){const b=!!E.before,C=E.values||[];return new af(C,b)}(t.startAt));let g=null;return t.endAt&&(g=function(E){const b=!E.before,C=E.values||[];return new af(C,b)}(t.endAt)),WO(e,o,f,u,p,"F",d,g)}function MN(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function yT(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Co(t.unaryFilter.field);return It.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Co(t.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Co(t.unaryFilter.field);return It.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Co(t.unaryFilter.field);return It.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(n):n.fieldFilter!==void 0?function(t){return It.create(Co(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return di.create(t.compositeFilter.filters.map(s=>yT(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te()}}(t.compositeFilter.op))}(n):Te()}function PN(n){return bN[n]}function VN(n){return TN[n]}function LN(n){return AN[n]}function Ro(n){return{fieldPath:n.canonicalString()}}function Co(n){return Jt.fromServerFormat(n.fieldPath)}function vT(n){return n instanceof It?function(t){if(t.op==="=="){if(E0(t.value))return{unaryFilter:{field:Ro(t.field),op:"IS_NAN"}};if(w0(t.value))return{unaryFilter:{field:Ro(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(E0(t.value))return{unaryFilter:{field:Ro(t.field),op:"IS_NOT_NAN"}};if(w0(t.value))return{unaryFilter:{field:Ro(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ro(t.field),op:VN(t.op),value:t.value}}}(n):n instanceof di?function(t){const s=t.getFilters().map(o=>vT(o));return s.length===1?s[0]:{compositeFilter:{op:LN(t.op),filters:s}}}(n):Te()}function UN(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function _T(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,t,s,o,u=Ae.min(),f=Ae.min(),p=en.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=d}withSequenceNumber(e){return new gs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e){this.Tt=e}}function zN(n){const e=kN({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Vp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(){this.Tn=new HN}addToCollectionParentIndex(e,t){return this.Tn.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(Ss.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(Ss.min())}updateCollectionGroup(e,t,s){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class HN{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Lt(at.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Lt(at.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wT=41943040;class Tn{static withCacheSize(e){return new Tn(e,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(wT,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Ho(0)}static Un(){return new Ho(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="LruGarbageCollector",qN=1048576;function L0([n,e],[t,s]){const o=Le(n,t);return o===0?Le(e,s):o}class FN{constructor(e){this.Hn=e,this.buffer=new Lt(L0),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();L0(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class GN{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ce(V0,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Jo(t)?ce(V0,"Ignoring IndexedDB error during garbage collection: ",t):await Zo(t)}await this.er(3e5)})}}class $N{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return te.resolve(Df.ae);const s=new FN(t);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.tr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(P0)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),P0):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let s,o,u,f,p,d,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,f=Date.now(),this.nthSequenceNumber(e,o))).next(E=>(s=E,p=Date.now(),this.removeTargets(e,s,t))).next(E=>(u=E,d=Date.now(),this.removeOrphanedDocuments(e,s))).next(E=>(g=Date.now(),Ao()<=Me.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-v}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${u} targets in `+(d-p)+`ms
	Removed ${E} documents in `+(g-d)+`ms
Total Duration: ${g-v}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:E})))}}function KN(n,e){return new $N(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(){this.changes=new Ia(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?te.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&Cu(s.mutation,o,Pn.empty(),Vt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Pe()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Pe()){const o=va();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let f=_u();return u.forEach((p,d)=>{f=f.insert(p,d.overlayedDocument)}),f}))}getOverlayedDocuments(e,t){const s=va();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Pe()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,p)=>{t.set(f,p)})})}computeViews(e,t,s,o){let u=Sr();const f=Ru(),p=function(){return Ru()}();return t.forEach((d,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof Ps)?u=u.insert(g.key,g):v!==void 0?(f.set(g.key,v.mutation.getFieldMask()),Cu(v.mutation,g,v.mutation.getFieldMask(),Vt.now())):f.set(g.key,Pn.empty())}),this.recalculateAndSaveOverlays(e,u).next(d=>(d.forEach((g,v)=>f.set(g,v)),t.forEach((g,v)=>{var E;return p.set(g,new YN(v,(E=f.get(g))!==null&&E!==void 0?E:null))}),p))}recalculateAndSaveOverlays(e,t){const s=Ru();let o=new ht((f,p)=>f-p),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(f=>{for(const p of f)p.keys().forEach(d=>{const g=t.get(d);if(g===null)return;let v=s.get(d)||Pn.empty();v=p.applyToLocalView(g,v),s.set(d,v);const E=(o.get(p.batchId)||Pe()).add(d);o=o.insert(p.batchId,E)})}).next(()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const d=p.getNext(),g=d.key,v=d.value,E=tT();v.forEach(b=>{if(!u.has(b)){const C=oT(t.get(b),s.get(b));C!==null&&E.set(b,C),u=u.add(b)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,E))}return te.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(f){return _e.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Xb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):te.resolve(va());let p=xu,d=u;return f.next(g=>te.forEach(g,(v,E)=>(p<E.largestBatchId&&(p=E.largestBatchId),u.get(v)?te.resolve():this.remoteDocumentCache.getEntry(e,v).next(b=>{d=d.insert(v,b)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,d,g,Pe())).next(v=>({batchId:p,changes:eT(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(s=>{let o=_u();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let f=_u();return this.indexManager.getCollectionParents(e,u).next(p=>te.forEach(p,d=>{const g=function(E,b){return new el(b,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(t,d.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(v=>{v.forEach((E,b)=>{f=f.insert(E,b)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(f=>{u.forEach((d,g)=>{const v=g.getKey();f.get(v)===null&&(f=f.insert(v,on.newInvalidDocument(v)))});let p=_u();return f.forEach((d,g)=>{const v=u.get(d);v!==void 0&&Cu(v.mutation,g,Pn.empty(),Vt.now()),kf(t,g)&&(p=p.insert(d,g))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return te.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Mi(o.createTime)}}(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:zN(o.bundledQuery),readTime:Mi(o.readTime)}}(t)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(){this.overlays=new ht(_e.comparator),this.Rr=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const s=va();return te.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.Et(e,t,u)}),te.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),te.resolve()}getOverlaysForCollection(e,t,s){const o=va(),u=t.length+1,f=new _e(t.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const d=p.getNext().value,g=d.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&d.largestBatchId>s&&o.set(d.getKey(),d)}return te.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new ht((g,v)=>g-v);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let v=u.get(g.largestBatchId);v===null&&(v=va(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const p=va(),d=u.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((g,v)=>p.set(g,v)),!(p.size()>=o)););return te.resolve(p)}Et(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new gN(t,s));let u=this.Rr.get(t);u===void 0&&(u=Pe(),this.Rr.set(t,u)),this.Rr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(){this.Vr=new Lt(Gt.mr),this.gr=new Lt(Gt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const s=new Gt(e,t);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.wr(new Gt(e,t))}Sr(e,t){e.forEach(s=>this.removeReference(s,t))}br(e){const t=new _e(new at([])),s=new Gt(t,e),o=new Gt(t,e+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new _e(new at([])),s=new Gt(t,e),o=new Gt(t,e+1);let u=Pe();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const t=new Gt(e,0),s=this.Vr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Gt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return _e.comparator(e.key,t.key)||Le(e.Cr,t.Cr)}static pr(e,t){return Le(e.Cr,t.Cr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Lt(Gt.mr)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new pN(u,t,s,o);this.mutationQueue.push(f);for(const p of o)this.Mr=this.Mr.add(new Gt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,t){return te.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Nr(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?wg:this.Fr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Gt(t,0),o=new Gt(t,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const p=this.Or(f.Cr);u.push(p)}),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Lt(Le);return t.forEach(o=>{const u=new Gt(o,0),f=new Gt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],p=>{s=s.add(p.Cr)})}),te.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;_e.isDocumentKey(u)||(u=u.child(""));const f=new Gt(new _e(u),0);let p=new Lt(Le);return this.Mr.forEachWhile(d=>{const g=d.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(p=p.add(d.Cr)),!0)},f),te.resolve(this.Br(p))}Br(e){const t=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){We(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return te.forEach(t.mutations,o=>{const u=new Gt(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,t){const s=new Gt(t,0),o=this.Mr.firstAfterOrEqual(s);return te.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e){this.kr=e,this.docs=function(){return new ht(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return te.resolve(s?s.document.mutableCopy():on.newInvalidDocument(t))}getEntries(e,t){let s=Sr();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():on.newInvalidDocument(o))}),te.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=Sr();const f=t.path,p=new _e(f.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(p);for(;d.hasNext();){const{key:g,value:{document:v}}=d.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||DO(IO(v),s)<=0||(o.has(v.key)||kf(t,v))&&(u=u.insert(v.key,v.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,t,s,o){Te()}qr(e,t){return te.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new nx(this)}getSize(e){return te.resolve(this.size)}}class nx extends QN{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),te.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e){this.persistence=e,this.Qr=new Ia(t=>Tg(t),Ag),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Og,this.targetCount=0,this.Ur=Ho.Kn()}forEachTarget(e,t){return this.Qr.forEach((s,o)=>t(o)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.$r&&(this.$r=t),te.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Ho(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.zn(t),te.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.Qr.forEach((f,p)=>{p.sequenceNumber<=t&&s.get(p.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)}),te.waitFor(u).next(()=>o)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const s=this.Qr.get(t)||null;return te.resolve(s)}addMatchingKeys(e,t,s){return this.Kr.yr(t,s),te.resolve()}removeMatchingKeys(e,t,s){this.Kr.Sr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),te.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),te.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Kr.vr(t);return te.resolve(s)}containsKey(e,t){return te.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Df(0),this.zr=!1,this.zr=!0,this.jr=new JN,this.referenceDelegate=e(this),this.Hr=new ix(this),this.indexManager=new jN,this.remoteDocumentCache=function(o){return new tx(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new BN(t),this.Yr=new WN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ZN,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Wr[e.toKey()];return s||(s=new ex(t,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,s){ce("MemoryPersistence","Starting transaction:",e);const o=new rx(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,t){return te.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,t)))}}class rx extends NO{constructor(e){super(),this.currentSequenceNumber=e}}class Ng{constructor(e){this.persistence=e,this.ti=new Og,this.ni=null}static ri(e){return new Ng(e)}get ii(){if(this.ni)return this.ni;throw Te()}addReference(e,t,s){return this.ti.addReference(s,t),this.ii.delete(s.toString()),te.resolve()}removeReference(e,t,s){return this.ti.removeReference(s,t),this.ii.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),te.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.ii,s=>{const o=_e.fromPath(s);return this.si(e,o).next(u=>{u||t.removeEntry(o,Ae.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(s=>{s?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return te.or([()=>te.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class uf{constructor(e,t){this.persistence=e,this.oi=new Ia(s=>MO(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=KN(this,t)}static ri(e,t){return new uf(e,t)}Zr(){}Xr(e){return te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}sr(e){let t=0;return this.rr(e,s=>{t++}).next(()=>t)}rr(e,t){return te.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?te.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,t).next(p=>{p||(s++,u.removeEntry(f,Ae.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),te.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),te.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Hh(e.data.value)),t}ar(e,t,s){return te.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Hi=s,this.Ji=o}static Yi(e,t){let s=Pe(),o=Pe();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new xg(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return UR()?8:xO(ln())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.rs(e,t).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,t,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new sx;return this._s(e,t,f).next(p=>{if(u.result=p,this.Xi)return this.us(e,t,f,p.size)})}).next(()=>u.result)}us(e,t,s,o){return s.documentReadCount<this.es?(Ao()<=Me.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",So(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),te.resolve()):(Ao()<=Me.DEBUG&&ce("QueryEngine","Query:",So(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(Ao()<=Me.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",So(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ki(t))):te.resolve())}rs(e,t){if(S0(t))return te.resolve(null);let s=ki(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Vp(t,null,"F"),s=ki(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Pe(...u);return this.ns.getDocuments(e,f).next(p=>this.indexManager.getMinOffset(e,s).next(d=>{const g=this.cs(t,p);return this.ls(t,g,f,d.readTime)?this.rs(e,Vp(t,null,"F")):this.hs(e,g,t,d)}))})))}ss(e,t,s,o){return S0(t)||o.isEqual(Ae.min())?te.resolve(null):this.ns.getDocuments(e,s).next(u=>{const f=this.cs(t,u);return this.ls(t,f,s,o)?te.resolve(null):(Ao()<=Me.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),So(t)),this.hs(e,f,t,CO(o,xu)).next(p=>p))})}cs(e,t){let s=new Lt(Zb(e));return t.forEach((o,u)=>{kf(e,u)&&(s=s.add(u))}),s}ls(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,t,s){return Ao()<=Me.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",So(t)),this.ns.getDocumentsMatchingQuery(e,t,Ss.min(),s)}hs(e,t,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kg="LocalStore",ox=3e8;class lx{constructor(e,t,s,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new ht(Le),this.Is=new Ia(u=>Tg(u),Ag),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new XN(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function ux(n,e,t,s){return new lx(n,e,t,s)}async function bT(n,e){const t=Re(n);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.As(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],p=[];let d=Pe();for(const g of o){f.push(g.batchId);for(const v of g.mutations)d=d.add(v.key)}for(const g of u){p.push(g.batchId);for(const v of g.mutations)d=d.add(v.key)}return t.localDocuments.getDocuments(s,d).next(g=>({Rs:g,removedBatchIds:f,addedBatchIds:p}))})})}function cx(n,e){const t=Re(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.ds.newChangeBuffer({trackRemovals:!0});return function(p,d,g,v){const E=g.batch,b=E.keys();let C=te.resolve();return b.forEach(D=>{C=C.next(()=>v.getEntry(d,D)).next(U=>{const P=g.docVersions.get(D);We(P!==null),U.version.compareTo(P)<0&&(E.applyToRemoteDocument(U,g),U.isValidDocument()&&(U.setReadTime(g.commitVersion),v.addEntry(U)))})}),C.next(()=>p.mutationQueue.removeMutationBatch(d,E))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(p){let d=Pe();for(let g=0;g<p.mutationResults.length;++g)p.mutationResults[g].transformResults.length>0&&(d=d.add(p.batch.mutations[g].key));return d}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function TT(n){const e=Re(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function hx(n,e){const t=Re(n),s=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const p=[];e.targetChanges.forEach((v,E)=>{const b=o.get(E);if(!b)return;p.push(t.Hr.removeMatchingKeys(u,v.removedDocuments,E).next(()=>t.Hr.addMatchingKeys(u,v.addedDocuments,E)));let C=b.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(E)!==null?C=C.withResumeToken(en.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):v.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(v.resumeToken,s)),o=o.insert(E,C),function(U,P,Y){return U.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=ox?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(b,C,v)&&p.push(t.Hr.updateTargetData(u,C))});let d=Sr(),g=Pe();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(u,v))}),p.push(fx(u,f,e.documentUpdates).next(v=>{d=v.Vs,g=v.fs})),!s.isEqual(Ae.min())){const v=t.Hr.getLastRemoteSnapshotVersion(u).next(E=>t.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));p.push(v)}return te.waitFor(p).next(()=>f.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,d,g)).next(()=>d)}).then(u=>(t.Ts=o,u))}function fx(n,e,t){let s=Pe(),o=Pe();return t.forEach(u=>s=s.add(u)),e.getEntries(n,s).next(u=>{let f=Sr();return t.forEach((p,d)=>{const g=u.get(p);d.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(p)),d.isNoDocument()&&d.version.isEqual(Ae.min())?(e.removeEntry(p,d.readTime),f=f.insert(p,d)):!g.isValidDocument()||d.version.compareTo(g.version)>0||d.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(d),f=f.insert(p,d)):ce(kg,"Ignoring outdated watch update for ",p,". Current version:",g.version," Watch version:",d.version)}),{Vs:f,fs:o}})}function dx(n,e){const t=Re(n);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=wg),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function mx(n,e){const t=Re(n);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Hr.getTargetData(s,e).next(u=>u?(o=u,te.resolve(o)):t.Hr.allocateTargetId(s).next(f=>(o=new gs(e,f,"TargetPurposeListen",s.currentSequenceNumber),t.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(s.targetId,s),t.Is.set(e,s.targetId)),s})}async function jp(n,e,t){const s=Re(n),o=s.Ts.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Jo(f))throw f;ce(kg,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function U0(n,e,t){const s=Re(n);let o=Ae.min(),u=Pe();return s.persistence.runTransaction("Execute query","readwrite",f=>function(d,g,v){const E=Re(d),b=E.Is.get(v);return b!==void 0?te.resolve(E.Ts.get(b)):E.Hr.getTargetData(g,v)}(s,f,ki(e)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,p.targetId).next(d=>{u=d})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,t?o:Ae.min(),t?u:Pe())).next(p=>(px(s,JO(e),p),{documents:p,gs:u})))}function px(n,e,t){let s=n.Es.get(e)||Ae.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),n.Es.set(e,s)}class B0{constructor(){this.activeTargetIds=sN()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gx{constructor(){this.ho=new B0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,s){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new B0,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0="ConnectivityMonitor";class j0{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ce(z0,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ce(z0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kh=null;function Hp(){return kh===null?kh=function(){return 268435456+Math.round(2147483648*Math.random())}():kh++,"0x"+kh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dp="RestConnection",vx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _x{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===rf?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,t,s,o,u){const f=Hp(),p=this.bo(e,t.toUriEncodedString());ce(dp,`Sending RPC '${e}' ${f}:`,p,s);const d={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(d,o,u),this.vo(e,p,d,s).then(g=>(ce(dp,`Received RPC '${e}' ${f}: `,g),g),g=>{throw Uo(dp,`RPC '${e}' ${f} failed with error: `,g,"url: ",p,"request:",s),g})}Co(e,t,s,o,u,f){return this.So(e,t,s,o,u)}Do(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Wo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}bo(e,t){const s=vx[e];return`${this.po}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn="WebChannelConnection";class Ex extends _x{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,s,o){const u=Hp();return new Promise((f,p)=>{const d=new Cb;d.setWithCredentials(!0),d.listenOnce(Ib.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case jh.NO_ERROR:const v=d.getResponseJson();ce(sn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),f(v);break;case jh.TIMEOUT:ce(sn,`RPC '${e}' ${u} timed out`),p(new he(ee.DEADLINE_EXCEEDED,"Request time out"));break;case jh.HTTP_ERROR:const E=d.getStatus();if(ce(sn,`RPC '${e}' ${u} failed with status:`,E,"response text:",d.getResponseText()),E>0){let b=d.getResponseJson();Array.isArray(b)&&(b=b[0]);const C=b==null?void 0:b.error;if(C&&C.status&&C.message){const D=function(P){const Y=P.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(Y)>=0?Y:ee.UNKNOWN}(C.status);p(new he(D,C.message))}else p(new he(ee.UNKNOWN,"Server responded with status "+d.getStatus()))}else p(new he(ee.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{ce(sn,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);ce(sn,`RPC '${e}' ${u} sending request:`,o),d.send(t,"POST",g,s,15)})}Wo(e,t,s){const o=Hp(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Nb(),p=Ob(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(d.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,t,s),d.encodeInitMessageHeaders=!0;const v=u.join("");ce(sn,`Creating RPC '${e}' stream ${o}: ${v}`,d);const E=f.createWebChannel(v,d);let b=!1,C=!1;const D=new wx({Fo:P=>{C?ce(sn,`Not sending because RPC '${e}' stream ${o} is closed:`,P):(b||(ce(sn,`Opening RPC '${e}' stream ${o} transport.`),E.open(),b=!0),ce(sn,`RPC '${e}' stream ${o} sending:`,P),E.send(P))},Mo:()=>E.close()}),U=(P,Y,ne)=>{P.listen(Y,K=>{try{ne(K)}catch(oe){setTimeout(()=>{throw oe},0)}})};return U(E,vu.EventType.OPEN,()=>{C||(ce(sn,`RPC '${e}' stream ${o} transport opened.`),D.Qo())}),U(E,vu.EventType.CLOSE,()=>{C||(C=!0,ce(sn,`RPC '${e}' stream ${o} transport closed`),D.Ko())}),U(E,vu.EventType.ERROR,P=>{C||(C=!0,Uo(sn,`RPC '${e}' stream ${o} transport errored:`,P),D.Ko(new he(ee.UNAVAILABLE,"The operation could not be completed")))}),U(E,vu.EventType.MESSAGE,P=>{var Y;if(!C){const ne=P.data[0];We(!!ne);const K=ne,oe=(K==null?void 0:K.error)||((Y=K[0])===null||Y===void 0?void 0:Y.error);if(oe){ce(sn,`RPC '${e}' stream ${o} received error:`,oe);const Z=oe.status;let fe=function(S){const O=Ct[S];if(O!==void 0)return cT(O)}(Z),x=oe.message;fe===void 0&&(fe=ee.INTERNAL,x="Unknown error status: "+Z+" with message "+oe.message),C=!0,D.Ko(new he(fe,x)),E.close()}else ce(sn,`RPC '${e}' stream ${o} received:`,ne),D.Uo(ne)}}),U(p,Db.STAT_EVENT,P=>{P.stat===Op.PROXY?ce(sn,`RPC '${e}' stream ${o} detected buffering proxy`):P.stat===Op.NOPROXY&&ce(sn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{D.$o()},0),D}}function mp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lf(n){return new SN(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=t,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0="PersistentStream";class ST{constructor(e,t,s,o,u,f,p,d){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=d,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new AT(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(Ar(t.toString()),Ar("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===t&&this.V_(s,o)},s=>{e(()=>{const o=new he(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,t){const s=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ce(H0,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(ce(H0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bx extends ST{constructor(e,t,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,f),this.serializer=u}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=IN(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ae.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ae.min():f.readTime?Mi(f.readTime):Ae.min()}(e);return this.listener.p_(t,s)}y_(e){const t={};t.database=zp(this.serializer),t.addTarget=function(u,f){let p;const d=f.target;if(p=Mp(d)?{documents:NN(u,d)}:{query:xN(u,d).ht},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=dT(u,f.resumeToken);const g=Lp(u,f.expectedCount);g!==null&&(p.expectedCount=g)}else if(f.snapshotVersion.compareTo(Ae.min())>0){p.readTime=lf(u,f.snapshotVersion.toTimestamp());const g=Lp(u,f.expectedCount);g!==null&&(p.expectedCount=g)}return p}(this.serializer,e);const s=MN(this.serializer,e);s&&(t.labels=s),this.I_(t)}w_(e){const t={};t.database=zp(this.serializer),t.removeTarget=e,this.I_(t)}}class Tx extends ST{constructor(e,t,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,f),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return We(!!e.streamToken),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){We(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=ON(e.writeResults,e.commitTime),s=Mi(e.commitTime);return this.listener.v_(s,t)}C_(){const e={};e.database=zp(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>DN(this.serializer,s))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{}class Sx extends Ax{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.So(e,Up(t,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(ee.UNKNOWN,u.toString())})}Co(e,t,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,p])=>this.connection.Co(e,Up(t,s),o,f,p,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new he(ee.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class Rx{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ar(t),this.N_=!1):ce("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa="RemoteStore";class Cx{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{Da(this)&&(ce(Aa,"Restarting streams for network reachability change."),await async function(d){const g=Re(d);g.W_.add(4),await Wu(g),g.j_.set("Unknown"),g.W_.delete(4),await Uf(g)}(this))})}),this.j_=new Rx(s,o)}}async function Uf(n){if(Da(n))for(const e of n.G_)await e(!0)}async function Wu(n){for(const e of n.G_)await e(!1)}function RT(n,e){const t=Re(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),Lg(t)?Vg(t):tl(t).c_()&&Pg(t,e))}function Mg(n,e){const t=Re(n),s=tl(t);t.U_.delete(e),s.c_()&&CT(t,e),t.U_.size===0&&(s.c_()?s.P_():Da(t)&&t.j_.set("Unknown"))}function Pg(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}tl(n).y_(e)}function CT(n,e){n.H_.Ne(e),tl(n).w_(e)}function Vg(n){n.H_=new EN({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),tl(n).start(),n.j_.B_()}function Lg(n){return Da(n)&&!tl(n).u_()&&n.U_.size>0}function Da(n){return Re(n).W_.size===0}function IT(n){n.H_=void 0}async function Ix(n){n.j_.set("Online")}async function Dx(n){n.U_.forEach((e,t)=>{Pg(n,e)})}async function Ox(n,e){IT(n),Lg(n)?(n.j_.q_(e),Vg(n)):n.j_.set("Unknown")}async function Nx(n,e,t){if(n.j_.set("Online"),e instanceof fT&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const p of u.targetIds)o.U_.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.U_.delete(p),o.H_.removeTarget(p))}(n,e)}catch(s){ce(Aa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await cf(n,s)}else if(e instanceof Gh?n.H_.We(e):e instanceof hT?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Ae.min()))try{const s=await TT(n.localStore);t.compareTo(s)>=0&&await function(u,f){const p=u.H_.ot(f);return p.targetChanges.forEach((d,g)=>{if(d.resumeToken.approximateByteSize()>0){const v=u.U_.get(g);v&&u.U_.set(g,v.withResumeToken(d.resumeToken,f))}}),p.targetMismatches.forEach((d,g)=>{const v=u.U_.get(d);if(!v)return;u.U_.set(d,v.withResumeToken(en.EMPTY_BYTE_STRING,v.snapshotVersion)),CT(u,d);const E=new gs(v.target,d,g,v.sequenceNumber);Pg(u,E)}),u.remoteSyncer.applyRemoteEvent(p)}(n,t)}catch(s){ce(Aa,"Failed to raise snapshot:",s),await cf(n,s)}}async function cf(n,e,t){if(!Jo(e))throw e;n.W_.add(1),await Wu(n),n.j_.set("Offline"),t||(t=()=>TT(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ce(Aa,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await Uf(n)})}function DT(n,e){return e().catch(t=>cf(n,t,e))}async function Bf(n){const e=Re(n),t=Ds(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:wg;for(;xx(e);)try{const o=await dx(e.localStore,s);if(o===null){e.K_.length===0&&t.P_();break}s=o.batchId,kx(e,o)}catch(o){await cf(e,o)}OT(e)&&NT(e)}function xx(n){return Da(n)&&n.K_.length<10}function kx(n,e){n.K_.push(e);const t=Ds(n);t.c_()&&t.S_&&t.b_(e.mutations)}function OT(n){return Da(n)&&!Ds(n).u_()&&n.K_.length>0}function NT(n){Ds(n).start()}async function Mx(n){Ds(n).C_()}async function Px(n){const e=Ds(n);for(const t of n.K_)e.b_(t.mutations)}async function Vx(n,e,t){const s=n.K_.shift(),o=Cg.from(s,e,t);await DT(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Bf(n)}async function Lx(n,e){e&&Ds(n).S_&&await async function(s,o){if(function(f){return vN(f)&&f!==ee.ABORTED}(o.code)){const u=s.K_.shift();Ds(s).h_(),await DT(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Bf(s)}}(n,e),OT(n)&&NT(n)}async function q0(n,e){const t=Re(n);t.asyncQueue.verifyOperationInProgress(),ce(Aa,"RemoteStore received new credentials");const s=Da(t);t.W_.add(3),await Wu(t),s&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Uf(t)}async function Ux(n,e){const t=Re(n);e?(t.W_.delete(2),await Uf(t)):e||(t.W_.add(2),await Wu(t),t.j_.set("Unknown"))}function tl(n){return n.J_||(n.J_=function(t,s,o){const u=Re(t);return u.M_(),new bx(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(n.datastore,n.asyncQueue,{xo:Ix.bind(null,n),No:Dx.bind(null,n),Lo:Ox.bind(null,n),p_:Nx.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),Lg(n)?Vg(n):n.j_.set("Unknown")):(await n.J_.stop(),IT(n))})),n.J_}function Ds(n){return n.Y_||(n.Y_=function(t,s,o){const u=Re(t);return u.M_(),new Tx(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:Mx.bind(null,n),Lo:Lx.bind(null,n),D_:Px.bind(null,n),v_:Vx.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await Bf(n)):(await n.Y_.stop(),n.K_.length>0&&(ce(Aa,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const f=Date.now()+s,p=new Ug(e,t,f,o,u);return p.start(s),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bg(n,e){if(Ar("AsyncQueue",`${e}: ${n}`),Jo(n))return new he(ee.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{static emptySet(e){return new ko(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||_e.comparator(t.key,s.key):(t,s)=>_e.comparator(t.key,s.key),this.keyedMap=_u(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ko)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new ko;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(){this.Z_=new ht(_e.comparator)}track(e){const t=e.doc.key,s=this.Z_.get(t);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(t):e.type===1&&s.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Te():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class qo{constructor(e,t,s,o,u,f,p,d,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=d,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,u){const f=[];return t.forEach(p=>{f.push({type:0,doc:p})}),new qo(e,t,ko.emptySet(t),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class zx{constructor(){this.queries=G0(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,s){const o=Re(t),u=o.queries;o.queries=G0(),u.forEach((f,p)=>{for(const d of p.ta)d.onError(s)})})(this,new he(ee.ABORTED,"Firestore shutting down"))}}function G0(){return new Ia(n=>Wb(n),xf)}async function xT(n,e){const t=Re(n);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new Bx,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await t.onListen(o,!0);break;case 1:u.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(f){const p=Bg(f,`Initialization of query '${So(e.query)}' failed`);return void e.onError(p)}t.queries.set(o,u),u.ta.push(e),e.sa(t.onlineState),u.ea&&e.oa(u.ea)&&zg(t)}async function kT(n,e){const t=Re(n),s=e.query;let o=3;const u=t.queries.get(s);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function jx(n,e){const t=Re(n);let s=!1;for(const o of e){const u=o.query,f=t.queries.get(u);if(f){for(const p of f.ta)p.oa(o)&&(s=!0);f.ea=o}}s&&zg(t)}function Hx(n,e,t){const s=Re(n),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(t);s.queries.delete(e)}function zg(n){n.ia.forEach(e=>{e.next()})}var qp,$0;($0=qp||(qp={}))._a="default",$0.Cache="cache";class MT{constructor(e,t,s){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new qo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const s=t!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=qo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==qp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e){this.key=e}}class VT{constructor(e){this.key=e}}class qx{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Pe(),this.mutatedKeys=Pe(),this.ya=Zb(e),this.wa=new ko(this.ya)}get Sa(){return this.fa}ba(e,t){const s=t?t.Da:new F0,o=t?t.wa:this.wa;let u=t?t.mutatedKeys:this.mutatedKeys,f=o,p=!1;const d=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,E)=>{const b=o.get(v),C=kf(this.query,E)?E:null,D=!!b&&this.mutatedKeys.has(b.key),U=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let P=!1;b&&C?b.data.isEqual(C.data)?D!==U&&(s.track({type:3,doc:C}),P=!0):this.va(b,C)||(s.track({type:2,doc:C}),P=!0,(d&&this.ya(C,d)>0||g&&this.ya(C,g)<0)&&(p=!0)):!b&&C?(s.track({type:0,doc:C}),P=!0):b&&!C&&(s.track({type:1,doc:b}),P=!0,(d||g)&&(p=!0)),P&&(C?(f=f.add(C),u=U?u.add(v):u.delete(v)):(f=f.delete(v),u=u.delete(v)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const v=this.query.limitType==="F"?f.last():f.first();f=f.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{wa:f,Da:s,ls:p,mutatedKeys:u}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((v,E)=>function(C,D){const U=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return U(C)-U(D)}(v.type,E.type)||this.ya(v.doc,E.doc)),this.Ca(s),o=o!=null&&o;const p=t&&!o?this.Fa():[],d=this.pa.size===0&&this.current&&!o?1:0,g=d!==this.ga;return this.ga=d,f.length!==0||g?{snapshot:new qo(this.query,e.wa,u,f,e.mutatedKeys,d===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:p}:{Ma:p}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new F0,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Pe(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const t=[];return e.forEach(s=>{this.pa.has(s)||t.push(new VT(s))}),this.pa.forEach(s=>{e.has(s)||t.push(new PT(s))}),t}Oa(e){this.fa=e.gs,this.pa=Pe();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return qo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const jg="SyncEngine";class Fx{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class Gx{constructor(e){this.key=e,this.Ba=!1}}class $x{constructor(e,t,s,o,u,f){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new Ia(p=>Wb(p),xf),this.qa=new Map,this.Qa=new Set,this.$a=new ht(_e.comparator),this.Ka=new Map,this.Ua=new Og,this.Wa={},this.Ga=new Map,this.za=Ho.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function Kx(n,e,t=!0){const s=HT(n);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await LT(s,e,t,!0),o}async function Qx(n,e){const t=HT(n);await LT(t,e,!0,!1)}async function LT(n,e,t,s){const o=await mx(n.localStore,ki(e)),u=o.targetId,f=n.sharedClientState.addLocalQueryTarget(u,t);let p;return s&&(p=await Yx(n,e,u,f==="current",o.resumeToken)),n.isPrimaryClient&&t&&RT(n.remoteStore,o),p}async function Yx(n,e,t,s,o){n.Ha=(E,b,C)=>async function(U,P,Y,ne){let K=P.view.ba(Y);K.ls&&(K=await U0(U.localStore,P.query,!1).then(({documents:x})=>P.view.ba(x,K)));const oe=ne&&ne.targetChanges.get(P.targetId),Z=ne&&ne.targetMismatches.get(P.targetId)!=null,fe=P.view.applyChanges(K,U.isPrimaryClient,oe,Z);return Q0(U,P.targetId,fe.Ma),fe.snapshot}(n,E,b,C);const u=await U0(n.localStore,e,!0),f=new qx(e,u.gs),p=f.ba(u.documents),d=Xu.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",o),g=f.applyChanges(p,n.isPrimaryClient,d);Q0(n,t,g.Ma);const v=new Fx(e,t,f);return n.ka.set(e,v),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),g.snapshot}async function Xx(n,e,t){const s=Re(n),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!xf(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await jp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Mg(s.remoteStore,o.targetId),Fp(s,o.targetId)}).catch(Zo)):(Fp(s,o.targetId),await jp(s.localStore,o.targetId,!0))}async function Wx(n,e){const t=Re(n),s=t.ka.get(e),o=t.qa.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Mg(t.remoteStore,s.targetId))}async function Zx(n,e,t){const s=sk(n);try{const o=await function(f,p){const d=Re(f),g=Vt.now(),v=p.reduce((C,D)=>C.add(D.key),Pe());let E,b;return d.persistence.runTransaction("Locally write mutations","readwrite",C=>{let D=Sr(),U=Pe();return d.ds.getEntries(C,v).next(P=>{D=P,D.forEach((Y,ne)=>{ne.isValidDocument()||(U=U.add(Y))})}).next(()=>d.localDocuments.getOverlayedDocuments(C,D)).next(P=>{E=P;const Y=[];for(const ne of p){const K=dN(ne,E.get(ne.key).overlayedDocument);K!=null&&Y.push(new Ps(ne.key,K,qb(K.value.mapValue),hi.exists(!0)))}return d.mutationQueue.addMutationBatch(C,g,Y,p)}).next(P=>{b=P;const Y=P.applyToLocalDocumentSet(E,U);return d.documentOverlayCache.saveOverlays(C,P.batchId,Y)})}).then(()=>({batchId:b.batchId,changes:eT(E)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,p,d){let g=f.Wa[f.currentUser.toKey()];g||(g=new ht(Le)),g=g.insert(p,d),f.Wa[f.currentUser.toKey()]=g}(s,o.batchId,t),await Zu(s,o.changes),await Bf(s.remoteStore)}catch(o){const u=Bg(o,"Failed to persist write");t.reject(u)}}async function UT(n,e){const t=Re(n);try{const s=await hx(t.localStore,e);e.targetChanges.forEach((o,u)=>{const f=t.Ka.get(u);f&&(We(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?We(f.Ba):o.removedDocuments.size>0&&(We(f.Ba),f.Ba=!1))}),await Zu(t,s,e)}catch(s){await Zo(s)}}function K0(n,e,t){const s=Re(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.ka.forEach((u,f)=>{const p=f.view.sa(e);p.snapshot&&o.push(p.snapshot)}),function(f,p){const d=Re(f);d.onlineState=p;let g=!1;d.queries.forEach((v,E)=>{for(const b of E.ta)b.sa(p)&&(g=!0)}),g&&zg(d)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Jx(n,e,t){const s=Re(n);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Ka.get(e),u=o&&o.key;if(u){let f=new ht(_e.comparator);f=f.insert(u,on.newNoDocument(u,Ae.min()));const p=Pe().add(u),d=new Vf(Ae.min(),new Map,new ht(Le),f,p);await UT(s,d),s.$a=s.$a.remove(u),s.Ka.delete(e),Hg(s)}else await jp(s.localStore,e,!1).then(()=>Fp(s,e,t)).catch(Zo)}async function ek(n,e){const t=Re(n),s=e.batch.batchId;try{const o=await cx(t.localStore,e);zT(t,s,null),BT(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Zu(t,o)}catch(o){await Zo(o)}}async function tk(n,e,t){const s=Re(n);try{const o=await function(f,p){const d=Re(f);return d.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return d.mutationQueue.lookupMutationBatch(g,p).next(E=>(We(E!==null),v=E.keys(),d.mutationQueue.removeMutationBatch(g,E))).next(()=>d.mutationQueue.performConsistencyCheck(g)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(g,v,p)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>d.localDocuments.getDocuments(g,v))})}(s.localStore,e);zT(s,e,t),BT(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Zu(s,o)}catch(o){await Zo(o)}}function BT(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function zT(n,e,t){const s=Re(n);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function Fp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.qa.get(e))n.ka.delete(s),t&&n.La.Ja(s,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.br(e).forEach(s=>{n.Ua.containsKey(s)||jT(n,s)})}function jT(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(Mg(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),Hg(n))}function Q0(n,e,t){for(const s of t)s instanceof PT?(n.Ua.addReference(s.key,e),nk(n,s)):s instanceof VT?(ce(jg,"Document no longer in limbo: "+s.key),n.Ua.removeReference(s.key,e),n.Ua.containsKey(s.key)||jT(n,s.key)):Te()}function nk(n,e){const t=e.key,s=t.path.canonicalString();n.$a.get(t)||n.Qa.has(s)||(ce(jg,"New document in limbo: "+t),n.Qa.add(s),Hg(n))}function Hg(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new _e(at.fromString(e)),s=n.za.next();n.Ka.set(s,new Gx(t)),n.$a=n.$a.insert(t,s),RT(n.remoteStore,new gs(ki(Sg(t.path)),s,"TargetPurposeLimboResolution",Df.ae))}}async function Zu(n,e,t){const s=Re(n),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((p,d)=>{f.push(s.Ha(d,e,t).then(g=>{var v;if((g||t)&&s.isPrimaryClient){const E=g?!g.fromCache:(v=t==null?void 0:t.targetChanges.get(d.targetId))===null||v===void 0?void 0:v.current;s.sharedClientState.updateQueryState(d.targetId,E?"current":"not-current")}if(g){o.push(g);const E=xg.Yi(d.targetId,g);u.push(E)}}))}),await Promise.all(f),s.La.p_(o),await async function(d,g){const v=Re(d);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>te.forEach(g,b=>te.forEach(b.Hi,C=>v.persistence.referenceDelegate.addReference(E,b.targetId,C)).next(()=>te.forEach(b.Ji,C=>v.persistence.referenceDelegate.removeReference(E,b.targetId,C)))))}catch(E){if(!Jo(E))throw E;ce(kg,"Failed to update sequence numbers: "+E)}for(const E of g){const b=E.targetId;if(!E.fromCache){const C=v.Ts.get(b),D=C.snapshotVersion,U=C.withLastLimboFreeSnapshotVersion(D);v.Ts=v.Ts.insert(b,U)}}}(s.localStore,u))}async function ik(n,e){const t=Re(n);if(!t.currentUser.isEqual(e)){ce(jg,"User change. New user:",e.toKey());const s=await bT(t.localStore,e);t.currentUser=e,function(u,f){u.Ga.forEach(p=>{p.forEach(d=>{d.reject(new he(ee.CANCELLED,f))})}),u.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Zu(t,s.Rs)}}function rk(n,e){const t=Re(n),s=t.Ka.get(e);if(s&&s.Ba)return Pe().add(s.key);{let o=Pe();const u=t.qa.get(e);if(!u)return o;for(const f of u){const p=t.ka.get(f);o=o.unionWith(p.view.Sa)}return o}}function HT(n){const e=Re(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=UT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Jx.bind(null,e),e.La.p_=jx.bind(null,e.eventManager),e.La.Ja=Hx.bind(null,e.eventManager),e}function sk(n){const e=Re(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ek.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tk.bind(null,e),e}class hf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return ux(this.persistence,new ax,e.initialUser,this.serializer)}Xa(e){return new ET(Ng.ri,this.serializer)}Za(e){return new gx}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hf.provider={build:()=>new hf};class ak extends hf{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){We(this.persistence.referenceDelegate instanceof uf);const s=this.persistence.referenceDelegate.garbageCollector;return new GN(s,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new ET(s=>uf.ri(s,t),this.serializer)}}class Gp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>K0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=ik.bind(null,this.syncEngine),await Ux(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new zx}()}createDatastore(e){const t=Lf(e.databaseInfo.databaseId),s=function(u){return new Ex(u)}(e.databaseInfo);return function(u,f,p,d){return new Sx(u,f,p,d)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,f,p){return new Cx(s,o,u,f,p)}(this.localStore,this.datastore,e.asyncQueue,t=>K0(this.syncEngine,t,0),function(){return j0.D()?new j0:new yx}())}createSyncEngine(e,t){return function(o,u,f,p,d,g,v){const E=new $x(o,u,f,p,d,g);return v&&(E.ja=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=Re(o);ce(Aa,"RemoteStore shutting down."),u.W_.add(5),await Wu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Gp.provider={build:()=>new Gp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ar("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os="FirestoreClient";class ok{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=an.UNAUTHENTICATED,this.clientId=kb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ce(Os,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ce(Os,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Bg(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function pp(n,e){n.asyncQueue.verifyOperationInProgress(),ce(Os,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener(async o=>{s.isEqual(o)||(await bT(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Y0(n,e){n.asyncQueue.verifyOperationInProgress();const t=await lk(n);ce(Os,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(s=>q0(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,o)=>q0(e.remoteStore,o)),n._onlineComponents=e}async function lk(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ce(Os,"Using user provided OfflineComponentProvider");try{await pp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Uo("Error using user provided cache. Falling back to memory cache: "+t),await pp(n,new hf)}}else ce(Os,"Using default OfflineComponentProvider"),await pp(n,new ak(void 0));return n._offlineComponents}async function FT(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ce(Os,"Using user provided OnlineComponentProvider"),await Y0(n,n._uninitializedComponentsProvider._online)):(ce(Os,"Using default OnlineComponentProvider"),await Y0(n,new Gp))),n._onlineComponents}function uk(n){return FT(n).then(e=>e.syncEngine)}async function GT(n){const e=await FT(n),t=e.eventManager;return t.onListen=Kx.bind(null,e.syncEngine),t.onUnlisten=Xx.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Qx.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Wx.bind(null,e.syncEngine),t}function ck(n,e,t={}){const s=new wr;return n.asyncQueue.enqueueAndForget(async()=>function(u,f,p,d,g){const v=new qT({next:b=>{v.su(),f.enqueueAndForget(()=>kT(u,E));const C=b.docs.has(p);!C&&b.fromCache?g.reject(new he(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&b.fromCache&&d&&d.source==="server"?g.reject(new he(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),E=new MT(Sg(p.path),v,{includeMetadataChanges:!0,Ta:!0});return xT(u,E)}(await GT(n),n.asyncQueue,e,t,s)),s.promise}function hk(n,e,t={}){const s=new wr;return n.asyncQueue.enqueueAndForget(async()=>function(u,f,p,d,g){const v=new qT({next:b=>{v.su(),f.enqueueAndForget(()=>kT(u,E)),b.fromCache&&d.source==="server"?g.reject(new he(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(b)},error:b=>g.reject(b)}),E=new MT(p,v,{includeMetadataChanges:!0,Ta:!0});return xT(u,E)}(await GT(n),n.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(n,e,t){if(!t)throw new he(ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function fk(n,e,t,s){if(e===!0&&s===!0)throw new he(ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function W0(n){if(!_e.isDocumentKey(n))throw new he(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Z0(n){if(_e.isDocumentKey(n))throw new he(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function zf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Te()}function Vi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new he(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=zf(n);throw new he(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="firestore.googleapis.com",J0=!0;class eE{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new he(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=QT,this.ssl=J0}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:J0;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=wT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<qN)throw new he(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$T((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jf{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eE(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new _O;switch(s.type){case"firstParty":return new TO(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=X0.get(t);s&&(ce("ComponentProvider","Removing Datastore"),X0.delete(t),s.terminate())}(this),Promise.resolve()}}function dk(n,e,t,s={}){var o;const u=(n=Vi(n,jf))._getSettings(),f=`${e}:${t}`;if(u.host!==QT&&u.host!==f&&Uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},u),{host:f,ssl:!1})),s.mockUserToken){let p,d;if(typeof s.mockUserToken=="string")p=s.mockUserToken,d=an.MOCK_USER;else{p=NR(s.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const g=s.mockUserToken.sub||s.mockUserToken.user_id;if(!g)throw new he(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new an(g)}n._authCredentials=new wO(new xb(p,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Oa(this.firestore,e,this._query)}}class gn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ts(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gn(this.firestore,e,this._key)}}class Ts extends Oa{constructor(e,t,s){super(e,t,Sg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gn(this.firestore,null,new _e(e))}withConverter(e){return new Ts(this.firestore,e,this._path)}}function Io(n,e,...t){if(n=$t(n),KT("collection","path",e),n instanceof jf){const s=at.fromString(e,...t);return Z0(s),new Ts(n,null,s)}{if(!(n instanceof gn||n instanceof Ts))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(at.fromString(e,...t));return Z0(s),new Ts(n.firestore,null,s)}}function mr(n,e,...t){if(n=$t(n),arguments.length===1&&(e=kb.newId()),KT("doc","path",e),n instanceof jf){const s=at.fromString(e,...t);return W0(s),new gn(n,null,new _e(s))}{if(!(n instanceof gn||n instanceof Ts))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(at.fromString(e,...t));return W0(s),new gn(n.firestore,n instanceof Ts?n.converter:null,new _e(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="AsyncQueue";class nE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new AT(this,"async_queue_retry"),this.Su=()=>{const s=mp();s&&ce(tE,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const t=mp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=mp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new wr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Jo(e))throw e;ce(tE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let p=f.message||"";return f.stack&&(p=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),p}(s);throw Ar("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=t,t}enqueueAfterDelay(e,t,s){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=Ug.createAndSchedule(this,e,t,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Te()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class nl extends jf{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new nE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new nE(e),this._firestoreClient=void 0,await e}}}function mk(n,e){const t=typeof n=="object"?n:qE(),s=typeof n=="string"?n:rf,o=ag(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=DR("firestore");u&&dk(o,...u)}return o}function qg(n){if(n._terminated)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||pk(n),n._firestoreClient}function pk(n){var e,t,s;const o=n._freezeSettings(),u=function(p,d,g,v){return new LO(p,d,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,$T(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new ok(n._authCredentials,n._appCheckCredentials,n._queue,u,n._componentsProvider&&function(p){const d=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(d),_online:d}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fo(en.fromBase64String(e))}catch(t){throw new he(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Fo(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk=/^__.*__$/;class yk{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Ps(e,this.data,this.fieldMask,t,this.fieldTransforms):new Yu(e,this.data,t,this.fieldTransforms)}}class YT{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Ps(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function XT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class $g{constructor(e,t,s,o,u,f){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new $g(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return ff(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(XT(this.Lu)&&gk.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class vk{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Lf(e)}ju(e,t,s,o=!1){return new $g({Lu:e,methodName:t,zu:s,path:Jt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ff(n){const e=n._freezeSettings(),t=Lf(n._databaseId);return new vk(n._databaseId,!!e.ignoreUndefinedProperties,t)}function WT(n,e,t,s,o,u={}){const f=n.ju(u.merge||u.mergeFields?2:0,e,t,o);Qg("Data must be an object, but it was:",f,s);const p=ZT(s,f);let d,g;if(u.merge)d=new Pn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const v=[];for(const E of u.mergeFields){const b=$p(e,E,t);if(!f.contains(b))throw new he(ee.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);eA(v,b)||v.push(b)}d=new Pn(v),g=f.fieldTransforms.filter(E=>d.covers(E.field))}else d=null,g=f.fieldTransforms;return new yk(new An(p),d,g)}class Gf extends qf{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gf}}class Kg extends qf{_toFieldTransform(e){return new uN(e.path,new Lu)}isEqual(e){return e instanceof Kg}}function _k(n,e,t,s){const o=n.ju(1,e,t);Qg("Data must be an object, but it was:",o,s);const u=[],f=An.empty();Ms(s,(d,g)=>{const v=Yg(e,d,t);g=$t(g);const E=o.Ku(v);if(g instanceof Gf)u.push(v);else{const b=Ju(g,E);b!=null&&(u.push(v),f.set(v,b))}});const p=new Pn(u);return new YT(f,p,o.fieldTransforms)}function wk(n,e,t,s,o,u){const f=n.ju(1,e,t),p=[$p(e,s,t)],d=[o];if(u.length%2!=0)throw new he(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)p.push($p(e,u[b])),d.push(u[b+1]);const g=[],v=An.empty();for(let b=p.length-1;b>=0;--b)if(!eA(g,p[b])){const C=p[b];let D=d[b];D=$t(D);const U=f.Ku(C);if(D instanceof Gf)g.push(C);else{const P=Ju(D,U);P!=null&&(g.push(C),v.set(C,P))}}const E=new Pn(g);return new YT(v,E,f.fieldTransforms)}function Ek(n,e,t,s=!1){return Ju(t,n.ju(s?4:3,e))}function Ju(n,e){if(JT(n=$t(n)))return Qg("Unsupported field value:",e,n),ZT(n,e);if(n instanceof qf)return function(s,o){if(!XT(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const p of s){let d=Ju(p,o.Uu(f));d==null&&(d={nullValue:"NULL_VALUE"}),u.push(d),f++}return{arrayValue:{values:u}}}(n,e)}return function(s,o){if((s=$t(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return aN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Vt.fromDate(s);return{timestampValue:lf(o.serializer,u)}}if(s instanceof Vt){const u=new Vt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:lf(o.serializer,u)}}if(s instanceof Fg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Fo)return{bytesValue:dT(o.serializer,s._byteString)};if(s instanceof gn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Dg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Gg)return function(f,p){return{mapValue:{fields:{[jb]:{stringValue:Hb},[sf]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw p.Wu("VectorValues must only contain numeric values.");return Rg(p.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${zf(s)}`)}(n,e)}function ZT(n,e){const t={};return Pb(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ms(n,(s,o)=>{const u=Ju(o,e.qu(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function JT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Vt||n instanceof Fg||n instanceof Fo||n instanceof gn||n instanceof qf||n instanceof Gg)}function Qg(n,e,t){if(!JT(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=zf(t);throw s==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+s)}}function $p(n,e,t){if((e=$t(e))instanceof Hf)return e._internalPath;if(typeof e=="string")return Yg(n,e);throw ff("Field path arguments must be of type string or ",n,!1,void 0,t)}const bk=new RegExp("[~\\*/\\[\\]]");function Yg(n,e,t){if(e.search(bk)>=0)throw ff(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Hf(...e.split("."))._internalPath}catch{throw ff(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ff(n,e,t,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let d="";return(u||f)&&(d+=" (found",u&&(d+=` in field ${s}`),f&&(d+=` in document ${o}`),d+=")"),new he(ee.INVALID_ARGUMENT,p+n+d)}function eA(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Tk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field($f("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Tk extends tA{data(){return super.data()}}function $f(n,e){return typeof e=="string"?Yg(n,e):e instanceof Hf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ak(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new he(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xg{}class nA extends Xg{}function iA(n,e,...t){let s=[];e instanceof Xg&&s.push(e),s=s.concat(t),function(u){const f=u.filter(d=>d instanceof Wg).length,p=u.filter(d=>d instanceof Kf).length;if(f>1||f>0&&p>0)throw new he(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)n=o._apply(n);return n}class Kf extends nA{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Kf(e,t,s)}_apply(e){const t=this._parse(e);return rA(e._query,t),new Oa(e.firestore,e.converter,Pp(e._query,t))}_parse(e){const t=Ff(e.firestore);return function(u,f,p,d,g,v,E){let b;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new he(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){rE(E,v);const D=[];for(const U of E)D.push(iE(d,u,U));b={arrayValue:{values:D}}}else b=iE(d,u,E)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||rE(E,v),b=Ek(p,f,E,v==="in"||v==="not-in");return It.create(g,v,b)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Sk(n,e,t){const s=e,o=$f("where",n);return Kf._create(o,s,t)}class Wg extends Xg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Wg(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:di.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let f=o;const p=u.getFlattenedFilters();for(const d of p)rA(f,d),f=Pp(f,d)}(e._query,t),new Oa(e.firestore,e.converter,Pp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Zg extends nA{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Zg(e,t)}_apply(e){const t=function(o,u,f){if(o.startAt!==null)throw new he(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new he(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Vu(u,f)}(e._query,this._field,this._direction);return new Oa(e.firestore,e.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new el(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function Rk(n,e="asc"){const t=e,s=$f("orderBy",n);return Zg._create(s,t)}function iE(n,e,t){if(typeof(t=$t(t))=="string"){if(t==="")throw new he(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Xb(e)&&t.indexOf("/")!==-1)throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(at.fromString(t));if(!_e.isDocumentKey(s))throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return _0(n,new _e(s))}if(t instanceof gn)return _0(n,t._key);throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zf(t)}.`)}function rE(n,e){if(!Array.isArray(n)||n.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rA(n,e){const t=function(o,u){for(const f of o)for(const p of f.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Ck{convertValue(e,t="none"){switch(Is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Cs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Ms(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[sf].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>Et(f.doubleValue));return new Gg(u)}convertGeoPoint(e){return new Fg(Et(e.latitude),Et(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Nf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(ku(e));default:return null}}convertTimestamp(e){const t=Rs(e);return new Vt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=at.fromString(e);We(_T(s));const o=new Mu(s.get(1),s.get(3)),u=new _e(s.popFirst(5));return o.isEqual(t)||Ar(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(n,e,t){let s;return s=n?n.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class aA extends tA{constructor(e,t,s,o,u,f){super(e,t,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new $h(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field($f("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class $h extends aA{data(e={}){return super.data(e)}}class Ik{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Eu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new $h(this._firestore,this._userDataWriter,s.key,s,new Eu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(p=>{const d=new $h(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Eu(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:d,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>u||p.type!==3).map(p=>{const d=new $h(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Eu(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return p.type!==0&&(g=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),v=f.indexOf(p.doc.key)),{type:Dk(p.type),doc:d,oldIndex:g,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Dk(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(n){n=Vi(n,gn);const e=Vi(n.firestore,nl);return ck(qg(e),n._key).then(t=>xk(e,n,t))}class oA extends Ck{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new gn(this.firestore,null,t)}}function bu(n){n=Vi(n,Oa);const e=Vi(n.firestore,nl),t=qg(e),s=new oA(e);return Ak(n._query),hk(t,n._query).then(o=>new Ik(e,s,n,o))}function Iu(n,e,t){n=Vi(n,gn);const s=Vi(n.firestore,nl),o=sA(n.converter,e);return Jg(s,[WT(Ff(s),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,hi.none())])}function Ok(n,e,t,...s){n=Vi(n,gn);const o=Vi(n.firestore,nl),u=Ff(o);let f;return f=typeof(e=$t(e))=="string"||e instanceof Hf?wk(u,"updateDoc",n._key,e,t,s):_k(u,"updateDoc",n._key,e),Jg(o,[f.toMutation(n._key,hi.exists(!0))])}function Nk(n,e){const t=Vi(n.firestore,nl),s=mr(n),o=sA(n.converter,e);return Jg(t,[WT(Ff(n.firestore),"addDoc",s._key,o,n.converter!==null,{}).toMutation(s._key,hi.exists(!1))]).then(()=>s)}function Jg(n,e){return function(s,o){const u=new wr;return s.asyncQueue.enqueueAndForget(async()=>Zx(await uk(s),o,u)),u.promise}(qg(n),e)}function xk(n,e,t){const s=t.docs.get(e._key),o=new oA(n);return new aA(n,o,e._key,s,new Eu(t.hasPendingWrites,t.fromCache),e.converter)}function kk(){return new Kg("serverTimestamp")}(function(e,t=!0){(function(o){Wo=o})(Yo),Vo(new wa("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),p=new nl(new EO(s.getProvider("auth-internal")),new AO(f,s.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new he(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mu(g.options.projectId,v)}(f,o),f);return u=Object.assign({useFetchStreams:t},u),p._setSettings(u),p},"PUBLIC").setMultipleInstances(!0)),Es(l0,u0,e),Es(l0,u0,"esm2017")})();const Mk={apiKey:"AIzaSyB_kWn5ZtonrQxeqnS8Ta97Dubr2nQgvog",authDomain:"project-attendance-1e593.firebaseapp.com",projectId:"project-attendance-1e593",storageBucket:"project-attendance-1e593.firebasestorage.app",messagingSenderId:"16976614955",appId:"1:16976614955:web:e32519e0a2134b4c733c6e",measurementId:"G-D759CH83G0"},lA=HE(Mk),Rr=pO(lA),Pk=new dr,bn=mk(lA),Vk=()=>{const[n,e]=G.useState(""),[t,s]=G.useState(""),o=Ca(),u=p=>{p.preventDefault(),eD(Rr,n,t).then(d=>{console.log("Login successful:",d.user),o("/SC310006_Sec1_Group6/dashboard")}).catch(d=>{console.error("Email/Password Login error:",d),alert(d.message)})},f=()=>{AD(Rr,Pk).then(p=>{console.log("Google Login successful:",p.user),o("/SC310006_Sec1_Group6/dashboard")}).catch(p=>{console.error("Google Login error:",p),alert(p.message)})};return H.jsxs("div",{className:"login-container",children:[H.jsx("h2",{children:"เข้าสู่ระบบ"}),H.jsxs("form",{className:"login-form",onSubmit:u,children:[H.jsx("input",{type:"email",placeholder:"อีเมล",value:n,onChange:p=>e(p.target.value),required:!0}),H.jsx("input",{type:"password",placeholder:"รหัสผ่าน",value:t,onChange:p=>s(p.target.value),required:!0}),H.jsx("button",{type:"submit",className:"login-button",children:"เข้าสู่ระบบ"})]}),H.jsx("div",{className:"separator",children:"หรือ"}),H.jsx("button",{className:"google-button",onClick:f,children:"Sign in with Google"}),H.jsx("div",{className:"signup-link",children:H.jsxs("p",{children:["ยังไม่มีบัญชี? ",H.jsx("span",{onClick:()=>o("/SC310006_Sec1_Group6/signup"),children:"สมัครสมาชิก"})]})})]})},Lk=()=>{const[n,e]=G.useState(""),[t,s]=G.useState(""),[o,u]=G.useState(""),f=Ca(),p=d=>{if(d.preventDefault(),t!==o){alert("รหัสผ่านทั้งสองช่องไม่ตรงกัน!");return}JI(Rr,n,t).then(g=>{console.log("Sign Up successful:",g.user),f("/SC310006_Sec1_Group6")}).catch(g=>{console.error("Sign Up error:",g),alert(g.message)})};return H.jsxs("div",{className:"signup-container",children:[H.jsx("h2",{children:"สมัครสมาชิก"}),H.jsxs("form",{className:"signup-form",onSubmit:p,children:[H.jsx("input",{type:"email",placeholder:"อีเมล",value:n,onChange:d=>e(d.target.value),required:!0}),H.jsx("input",{type:"password",placeholder:"รหัสผ่าน",value:t,onChange:d=>s(d.target.value),required:!0}),H.jsx("input",{type:"password",placeholder:"ยืนยันรหัสผ่าน",value:o,onChange:d=>u(d.target.value),required:!0}),H.jsx("button",{type:"submit",className:"signup-button",children:"สร้างบัญชี"})]}),H.jsxs("p",{className:"signup-hint",children:["มีบัญชีแล้ว? ",H.jsx("span",{onClick:()=>f("/SC310006_Sec1_Group6"),children:"เข้าสู่ระบบ"})]})]})},Uk=()=>{const n=Ca(),[e,t]=G.useState(null),[s,o]=G.useState([]);G.useEffect(()=>{const g=gg(Rr,v=>{v?(t({uid:v.uid,name:v.displayName,email:v.email,photo:v.photoURL}),(async()=>{try{const b=iA(Io(bn,"classroom"),Sk("owner","==",v.uid)),C=await bu(b),D=await Promise.all(C.docs.map(async U=>{const P=mr(bn,"classroom",U.id,"info","infoDoc"),Y=await Kp(P),ne=Y.exists()?Y.data():{};return{cid:U.id,info:ne}}));o(D)}catch(b){console.error("Error fetching courses:",b)}})()):n("/SC310006_Sec1_Group6")});return()=>g()},[n]);const u=()=>{Rr.signOut(),n("/SC310006_Sec1_Group6")},f=()=>{n("/SC310006_Sec1_Group6/add-classroom")},p=()=>{n("/SC310006_Sec1_Group6/profile")},d=g=>{n(`/SC310006_Sec1_Group6/classroom/${g}`)};return H.jsxs("div",{className:"dashboard",children:[H.jsxs("header",{className:"dashboard-header",children:[e&&H.jsxs("div",{className:"user-info",children:[H.jsx("img",{src:e.photo,alt:"User Photo",className:"user-photo"}),H.jsxs("div",{className:"user-details",children:[H.jsx("div",{className:"font-bold",children:e.name}),H.jsx("div",{className:"",children:e.email})]})]}),H.jsxs("div",{className:"header-actions",children:[H.jsx("button",{onClick:f,className:"button",children:"เพิ่มวิชา"}),H.jsx("button",{onClick:p,className:"button",children:"แก้ไขข้อมูลส่วนตัว"}),H.jsx("button",{onClick:u,className:"button",children:"Logout"})]})]}),H.jsxs("main",{className:"dashboard-content",children:[H.jsx("div",{className:"text-lg md:text-xl mb-2 md:mb-3",children:"วิชาที่สอน"}),s.length>0?H.jsx("ul",{className:"course-list",children:s.map(g=>H.jsxs("li",{className:"course-item",children:[H.jsx("img",{src:g.info.photo,alt:g.info.name,className:"course-photo"}),H.jsxs("div",{className:"course-info",children:[H.jsx("h3",{children:g.info.name}),H.jsxs("p",{children:["รหัสวิชา: ",g.info.code]}),H.jsxs("p",{children:["ห้องเรียน: ",g.info.room]})]}),H.jsx("button",{onClick:()=>d(g.cid),className:"button",children:"จัดการห้องเรียน"})]},g.cid))}):H.jsx("p",{children:"ยังไม่มีวิชาที่สอน"})]})]})},Bk=()=>{const[n,e]=G.useState(""),[t,s]=G.useState(""),[o,u]=G.useState(""),[f,p]=G.useState(null);G.useEffect(()=>{const g=gg(Rr,v=>{v&&(p(v),e(v.displayName||""),s(v.email||""),u(v.photoURL||""))});return()=>g()},[]);const d=g=>{if(g.preventDefault(),!f){alert("ไม่พบข้อมูลผู้ใช้");return}nD(f,{displayName:n,photoURL:o}).then(()=>{alert("อัปเดตโปรไฟล์สำเร็จ")}).catch(v=>{console.error("Update error:",v),alert(v.message)})};return H.jsxs("div",{className:"edit-profile-container",children:[H.jsx("div",{className:"text-lg font-medium md:text-xl mb-2 md:mb-4",children:"แก้ไขข้อมูลส่วนตัว"}),H.jsxs("form",{onSubmit:d,className:"edit-profile-form",children:[H.jsxs("div",{children:[H.jsx("label",{children:"ชื่อ:"}),H.jsx("input",{type:"text",value:n,onChange:g=>e(g.target.value),required:!0})]}),H.jsxs("div",{children:[H.jsx("label",{children:"อีเมล:"}),H.jsx("input",{type:"email",value:t,onChange:g=>s(g.target.value),required:!0})]}),H.jsxs("div",{children:[H.jsx("label",{children:"รูปภาพ:"}),H.jsx("input",{type:"text",placeholder:"URL รูปภาพหรือเลือกจากรายการ",value:o,onChange:g=>u(g.target.value)})]}),H.jsx("button",{type:"submit",children:"บันทึกข้อมูล"})]})]})},zk=()=>{const[n,e]=G.useState(""),[t,s]=G.useState(""),[o,u]=G.useState(""),[f,p]=G.useState(""),[d,g]=G.useState({}),[v,E]=G.useState(!1),b=Ca(),C=async U=>{U.preventDefault();try{const Y=(await Nk(Io(bn,"classroom"),{owner:Rr.currentUser.uid})).id;await Iu(mr(bn,"classroom",Y,"info","infoDoc"),{code:n,name:t,room:o,photo:f}),await Iu(mr(bn,"users",Rr.currentUser.uid,"classroom",Y),{status:1}),alert("เพิ่มวิชาใหม่สำเร็จ"),b("/SC310006_Sec1_Group6/dashboard")}catch(P){console.error("Add course error:",P),alert(P.message)}},D=U=>{p(U.target.value),U.target.value.match(/\.(jpeg|jpg|gif|png)$/i)!=null||U.target.value===""?(g({border:""}),E(!1)):(g({border:"1px solid red"}),E(!0))};return H.jsxs("div",{className:"add-course-container",children:[H.jsx("div",{className:"text-lg font-medium md:text-xl",children:"เพิ่มวิชาใหม่"}),H.jsxs("form",{onSubmit:C,className:"add-course-form",children:[H.jsxs("div",{children:[H.jsx("label",{style:{display:"block",textAlign:"left"},children:"รหัสวิชา:"}),H.jsx("input",{type:"text",value:n,onChange:U=>e(U.target.value),placeholder:"รหัสวิชา",required:!0})]}),H.jsxs("div",{children:[H.jsx("label",{style:{display:"block",textAlign:"left"},children:"ชื่อวิชา:"}),H.jsx("input",{type:"text",value:t,onChange:U=>s(U.target.value),placeholder:"ชื่อวิชา",required:!0})]}),H.jsxs("div",{children:[H.jsx("label",{style:{display:"block",textAlign:"left"},children:"ชื่อห้องเรียน:"}),H.jsx("input",{type:"text",value:o,onChange:U=>u(U.target.value),placeholder:"ชื่อห้องเรียน",required:!0})]}),H.jsxs("div",{children:[H.jsx("label",{style:{display:"block",textAlign:"left"},children:"Link รูปภาพ:"}),H.jsx("input",{style:d,type:"text",value:f,onChange:D,placeholder:"เช่น https://example.com/image.jpg"}),H.jsx("p",{className:"text-red-400 mb-4",children:v&&"Link รูปภาพไม่ถูกต้อง"})]}),H.jsx("button",{type:"submit",children:"บันทึกข้อมูล"})]})]})};/*!
* sweetalert2 v11.17.2
* Released under the MIT License.
*/function uA(n,e,t){if(typeof n=="function"?n===e:n.has(e))return arguments.length<3?e:t;throw new TypeError("Private element is not present on this object")}function jk(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function sE(n,e){return n.get(uA(n,e))}function Hk(n,e,t){jk(n,e),e.set(n,t)}function qk(n,e,t){return n.set(uA(n,e),t),t}const Fk=100,we={},Gk=()=>{we.previousActiveElement instanceof HTMLElement?(we.previousActiveElement.focus(),we.previousActiveElement=null):document.body&&document.body.focus()},$k=n=>new Promise(e=>{if(!n)return e();const t=window.scrollX,s=window.scrollY;we.restoreFocusTimeout=setTimeout(()=>{Gk(),e()},Fk),window.scrollTo(t,s)}),cA="swal2-",Kk=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],Q=Kk.reduce((n,e)=>(n[e]=cA+e,n),{}),Qk=["success","warning","info","question","error"],df=Qk.reduce((n,e)=>(n[e]=cA+e,n),{}),hA="SweetAlert2:",ey=n=>n.charAt(0).toUpperCase()+n.slice(1),yn=n=>{console.warn(`${hA} ${typeof n=="object"?n.join(" "):n}`)},Na=n=>{console.error(`${hA} ${n}`)},aE=[],Yk=n=>{aE.includes(n)||(aE.push(n),yn(n))},fA=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;Yk(`"${n}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},Qf=n=>typeof n=="function"?n():n,ty=n=>n&&typeof n.toPromise=="function",ec=n=>ty(n)?n.toPromise():Promise.resolve(n),ny=n=>n&&Promise.resolve(n)===n,vn=()=>document.body.querySelector(`.${Q.container}`),tc=n=>{const e=vn();return e?e.querySelector(n):null},Ln=n=>tc(`.${n}`),Qe=()=>Ln(Q.popup),il=()=>Ln(Q.icon),Xk=()=>Ln(Q["icon-content"]),dA=()=>Ln(Q.title),iy=()=>Ln(Q["html-container"]),mA=()=>Ln(Q.image),ry=()=>Ln(Q["progress-steps"]),Yf=()=>Ln(Q["validation-message"]),Li=()=>tc(`.${Q.actions} .${Q.confirm}`),rl=()=>tc(`.${Q.actions} .${Q.cancel}`),xa=()=>tc(`.${Q.actions} .${Q.deny}`),Wk=()=>Ln(Q["input-label"]),sl=()=>tc(`.${Q.loader}`),nc=()=>Ln(Q.actions),pA=()=>Ln(Q.footer),Xf=()=>Ln(Q["timer-progress-bar"]),sy=()=>Ln(Q.close),Zk=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,ay=()=>{const n=Qe();if(!n)return[];const e=n.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),t=Array.from(e).sort((u,f)=>{const p=parseInt(u.getAttribute("tabindex")||"0"),d=parseInt(f.getAttribute("tabindex")||"0");return p>d?1:p<d?-1:0}),s=n.querySelectorAll(Zk),o=Array.from(s).filter(u=>u.getAttribute("tabindex")!=="-1");return[...new Set(t.concat(o))].filter(u=>Sn(u))},oy=()=>Er(document.body,Q.shown)&&!Er(document.body,Q["toast-shown"])&&!Er(document.body,Q["no-backdrop"]),Wf=()=>{const n=Qe();return n?Er(n,Q.toast):!1},Jk=()=>{const n=Qe();return n?n.hasAttribute("data-loading"):!1},Un=(n,e)=>{if(n.textContent="",e){const s=new DOMParser().parseFromString(e,"text/html"),o=s.querySelector("head");o&&Array.from(o.childNodes).forEach(f=>{n.appendChild(f)});const u=s.querySelector("body");u&&Array.from(u.childNodes).forEach(f=>{f instanceof HTMLVideoElement||f instanceof HTMLAudioElement?n.appendChild(f.cloneNode(!0)):n.appendChild(f)})}},Er=(n,e)=>{if(!e)return!1;const t=e.split(/\s+/);for(let s=0;s<t.length;s++)if(!n.classList.contains(t[s]))return!1;return!0},eM=(n,e)=>{Array.from(n.classList).forEach(t=>{!Object.values(Q).includes(t)&&!Object.values(df).includes(t)&&!Object.values(e.showClass||{}).includes(t)&&n.classList.remove(t)})},Vn=(n,e,t)=>{if(eM(n,e),!e.customClass)return;const s=e.customClass[t];if(s){if(typeof s!="string"&&!s.forEach){yn(`Invalid type of customClass.${t}! Expected string or iterable object, got "${typeof s}"`);return}He(n,s)}},Zf=(n,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return n.querySelector(`.${Q.popup} > .${Q[e]}`);case"checkbox":return n.querySelector(`.${Q.popup} > .${Q.checkbox} input`);case"radio":return n.querySelector(`.${Q.popup} > .${Q.radio} input:checked`)||n.querySelector(`.${Q.popup} > .${Q.radio} input:first-child`);case"range":return n.querySelector(`.${Q.popup} > .${Q.range} input`);default:return n.querySelector(`.${Q.popup} > .${Q.input}`)}},gA=n=>{if(n.focus(),n.type!=="file"){const e=n.value;n.value="",n.value=e}},yA=(n,e,t)=>{!n||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(s=>{Array.isArray(n)?n.forEach(o=>{t?o.classList.add(s):o.classList.remove(s)}):t?n.classList.add(s):n.classList.remove(s)}))},He=(n,e)=>{yA(n,e,!0)},ii=(n,e)=>{yA(n,e,!1)},ys=(n,e)=>{const t=Array.from(n.children);for(let s=0;s<t.length;s++){const o=t[s];if(o instanceof HTMLElement&&Er(o,e))return o}},_a=(n,e,t)=>{t===`${parseInt(t)}`&&(t=parseInt(t)),t||parseInt(t)===0?n.style.setProperty(e,typeof t=="number"?`${t}px`:t):n.style.removeProperty(e)},Kt=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";n&&(n.style.display=e)},un=n=>{n&&(n.style.display="none")},ly=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";n&&new MutationObserver(()=>{ic(n,n.innerHTML,e)}).observe(n,{childList:!0,subtree:!0})},oE=(n,e,t,s)=>{const o=n.querySelector(e);o&&o.style.setProperty(t,s)},ic=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";e?Kt(n,t):un(n)},Sn=n=>!!(n&&(n.offsetWidth||n.offsetHeight||n.getClientRects().length)),tM=()=>!Sn(Li())&&!Sn(xa())&&!Sn(rl()),lE=n=>n.scrollHeight>n.clientHeight,vA=n=>{const e=window.getComputedStyle(n),t=parseFloat(e.getPropertyValue("animation-duration")||"0"),s=parseFloat(e.getPropertyValue("transition-duration")||"0");return t>0||s>0},uy=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const t=Xf();t&&Sn(t)&&(e&&(t.style.transition="none",t.style.width="100%"),setTimeout(()=>{t.style.transition=`width ${n/1e3}s linear`,t.style.width="0%"},10))},nM=()=>{const n=Xf();if(!n)return;const e=parseInt(window.getComputedStyle(n).width);n.style.removeProperty("transition"),n.style.width="100%";const t=parseInt(window.getComputedStyle(n).width),s=e/t*100;n.style.width=`${s}%`},iM=()=>typeof window>"u"||typeof document>"u",rM=`
 <div aria-labelledby="${Q.title}" aria-describedby="${Q["html-container"]}" class="${Q.popup}" tabindex="-1">
   <button type="button" class="${Q.close}"></button>
   <ul class="${Q["progress-steps"]}"></ul>
   <div class="${Q.icon}"></div>
   <img class="${Q.image}" />
   <h2 class="${Q.title}" id="${Q.title}"></h2>
   <div class="${Q["html-container"]}" id="${Q["html-container"]}"></div>
   <input class="${Q.input}" id="${Q.input}" />
   <input type="file" class="${Q.file}" />
   <div class="${Q.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${Q.select}" id="${Q.select}"></select>
   <div class="${Q.radio}"></div>
   <label class="${Q.checkbox}">
     <input type="checkbox" id="${Q.checkbox}" />
     <span class="${Q.label}"></span>
   </label>
   <textarea class="${Q.textarea}" id="${Q.textarea}"></textarea>
   <div class="${Q["validation-message"]}" id="${Q["validation-message"]}"></div>
   <div class="${Q.actions}">
     <div class="${Q.loader}"></div>
     <button type="button" class="${Q.confirm}"></button>
     <button type="button" class="${Q.deny}"></button>
     <button type="button" class="${Q.cancel}"></button>
   </div>
   <div class="${Q.footer}"></div>
   <div class="${Q["timer-progress-bar-container"]}">
     <div class="${Q["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),sM=()=>{const n=vn();return n?(n.remove(),ii([document.documentElement,document.body],[Q["no-backdrop"],Q["toast-shown"],Q["has-column"]]),!0):!1},ma=()=>{we.currentInstance.resetValidationMessage()},aM=()=>{const n=Qe(),e=ys(n,Q.input),t=ys(n,Q.file),s=n.querySelector(`.${Q.range} input`),o=n.querySelector(`.${Q.range} output`),u=ys(n,Q.select),f=n.querySelector(`.${Q.checkbox} input`),p=ys(n,Q.textarea);e.oninput=ma,t.onchange=ma,u.onchange=ma,f.onchange=ma,p.oninput=ma,s.oninput=()=>{ma(),o.value=s.value},s.onchange=()=>{ma(),o.value=s.value}},oM=n=>typeof n=="string"?document.querySelector(n):n,lM=n=>{const e=Qe();e.setAttribute("role",n.toast?"alert":"dialog"),e.setAttribute("aria-live",n.toast?"polite":"assertive"),n.toast||e.setAttribute("aria-modal","true")},uM=n=>{window.getComputedStyle(n).direction==="rtl"&&He(vn(),Q.rtl)},cM=n=>{const e=sM();if(iM()){Na("SweetAlert2 requires document to initialize");return}const t=document.createElement("div");t.className=Q.container,e&&He(t,Q["no-transition"]),Un(t,rM),t.dataset.swal2Theme=n.theme;const s=oM(n.target);s.appendChild(t),lM(n),uM(s),aM()},cy=(n,e)=>{n instanceof HTMLElement?e.appendChild(n):typeof n=="object"?hM(n,e):n&&Un(e,n)},hM=(n,e)=>{n.jquery?fM(e,n):Un(e,n.toString())},fM=(n,e)=>{if(n.textContent="",0 in e)for(let t=0;t in e;t++)n.appendChild(e[t].cloneNode(!0));else n.appendChild(e.cloneNode(!0))},dM=(n,e)=>{const t=nc(),s=sl();!t||!s||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?un(t):Kt(t),Vn(t,e,"actions"),mM(t,s,e),Un(s,e.loaderHtml||""),Vn(s,e,"loader"))};function mM(n,e,t){const s=Li(),o=xa(),u=rl();!s||!o||!u||(gp(s,"confirm",t),gp(o,"deny",t),gp(u,"cancel",t),pM(s,o,u,t),t.reverseButtons&&(t.toast?(n.insertBefore(u,s),n.insertBefore(o,s)):(n.insertBefore(u,e),n.insertBefore(o,e),n.insertBefore(s,e))))}function pM(n,e,t,s){if(!s.buttonsStyling){ii([n,e,t],Q.styled);return}He([n,e,t],Q.styled),s.confirmButtonColor&&(n.style.backgroundColor=s.confirmButtonColor,He(n,Q["default-outline"])),s.denyButtonColor&&(e.style.backgroundColor=s.denyButtonColor,He(e,Q["default-outline"])),s.cancelButtonColor&&(t.style.backgroundColor=s.cancelButtonColor,He(t,Q["default-outline"]))}function gp(n,e,t){const s=ey(e);ic(n,t[`show${s}Button`],"inline-block"),Un(n,t[`${e}ButtonText`]||""),n.setAttribute("aria-label",t[`${e}ButtonAriaLabel`]||""),n.className=Q[e],Vn(n,t,`${e}Button`)}const gM=(n,e)=>{const t=sy();t&&(Un(t,e.closeButtonHtml||""),Vn(t,e,"closeButton"),ic(t,e.showCloseButton),t.setAttribute("aria-label",e.closeButtonAriaLabel||""))},yM=(n,e)=>{const t=vn();t&&(vM(t,e.backdrop),_M(t,e.position),wM(t,e.grow),Vn(t,e,"container"))};function vM(n,e){typeof e=="string"?n.style.background=e:e||He([document.documentElement,document.body],Q["no-backdrop"])}function _M(n,e){e&&(e in Q?He(n,Q[e]):(yn('The "position" parameter is not valid, defaulting to "center"'),He(n,Q.center)))}function wM(n,e){e&&He(n,Q[`grow-${e}`])}var st={innerParams:new WeakMap,domCache:new WeakMap};const EM=["input","file","range","select","radio","checkbox","textarea"],bM=(n,e)=>{const t=Qe();if(!t)return;const s=st.innerParams.get(n),o=!s||e.input!==s.input;EM.forEach(u=>{const f=ys(t,Q[u]);f&&(SM(u,e.inputAttributes),f.className=Q[u],o&&un(f))}),e.input&&(o&&TM(e),RM(e))},TM=n=>{if(!n.input)return;if(!wt[n.input]){Na(`Unexpected type of input! Expected ${Object.keys(wt).join(" | ")}, got "${n.input}"`);return}const e=_A(n.input);if(!e)return;const t=wt[n.input](e,n);Kt(e),n.inputAutoFocus&&setTimeout(()=>{gA(t)})},AM=n=>{for(let e=0;e<n.attributes.length;e++){const t=n.attributes[e].name;["id","type","value","style"].includes(t)||n.removeAttribute(t)}},SM=(n,e)=>{const t=Qe();if(!t)return;const s=Zf(t,n);if(s){AM(s);for(const o in e)s.setAttribute(o,e[o])}},RM=n=>{if(!n.input)return;const e=_A(n.input);e&&Vn(e,n,"input")},hy=(n,e)=>{!n.placeholder&&e.inputPlaceholder&&(n.placeholder=e.inputPlaceholder)},rc=(n,e,t)=>{if(t.inputLabel){const s=document.createElement("label"),o=Q["input-label"];s.setAttribute("for",n.id),s.className=o,typeof t.customClass=="object"&&He(s,t.customClass.inputLabel),s.innerText=t.inputLabel,e.insertAdjacentElement("beforebegin",s)}},_A=n=>{const e=Qe();if(e)return ys(e,Q[n]||Q.input)},mf=(n,e)=>{["string","number"].includes(typeof e)?n.value=`${e}`:ny(e)||yn(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},wt={};wt.text=wt.email=wt.password=wt.number=wt.tel=wt.url=wt.search=wt.date=wt["datetime-local"]=wt.time=wt.week=wt.month=(n,e)=>(mf(n,e.inputValue),rc(n,n,e),hy(n,e),n.type=e.input,n);wt.file=(n,e)=>(rc(n,n,e),hy(n,e),n);wt.range=(n,e)=>{const t=n.querySelector("input"),s=n.querySelector("output");return mf(t,e.inputValue),t.type=e.input,mf(s,e.inputValue),rc(t,n,e),n};wt.select=(n,e)=>{if(n.textContent="",e.inputPlaceholder){const t=document.createElement("option");Un(t,e.inputPlaceholder),t.value="",t.disabled=!0,t.selected=!0,n.appendChild(t)}return rc(n,n,e),n};wt.radio=n=>(n.textContent="",n);wt.checkbox=(n,e)=>{const t=Zf(Qe(),"checkbox");t.value="1",t.checked=!!e.inputValue;const s=n.querySelector("span");return Un(s,e.inputPlaceholder||e.inputLabel),t};wt.textarea=(n,e)=>{mf(n,e.inputValue),hy(n,e),rc(n,n,e);const t=s=>parseInt(window.getComputedStyle(s).marginLeft)+parseInt(window.getComputedStyle(s).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const s=parseInt(window.getComputedStyle(Qe()).width),o=()=>{if(!document.body.contains(n))return;const u=n.offsetWidth+t(n);u>s?Qe().style.width=`${u}px`:_a(Qe(),"width",e.width)};new MutationObserver(o).observe(n,{attributes:!0,attributeFilter:["style"]})}}),n};const CM=(n,e)=>{const t=iy();t&&(ly(t),Vn(t,e,"htmlContainer"),e.html?(cy(e.html,t),Kt(t,"block")):e.text?(t.textContent=e.text,Kt(t,"block")):un(t),bM(n,e))},IM=(n,e)=>{const t=pA();t&&(ly(t),ic(t,e.footer,"block"),e.footer&&cy(e.footer,t),Vn(t,e,"footer"))},DM=(n,e)=>{const t=st.innerParams.get(n),s=il();if(!s)return;if(t&&e.icon===t.icon){cE(s,e),uE(s,e);return}if(!e.icon&&!e.iconHtml){un(s);return}if(e.icon&&Object.keys(df).indexOf(e.icon)===-1){Na(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),un(s);return}Kt(s),cE(s,e),uE(s,e),He(s,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",wA)},uE=(n,e)=>{for(const[t,s]of Object.entries(df))e.icon!==t&&ii(n,s);He(n,e.icon&&df[e.icon]),xM(n,e),wA(),Vn(n,e,"icon")},wA=()=>{const n=Qe();if(!n)return;const e=window.getComputedStyle(n).getPropertyValue("background-color"),t=n.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let s=0;s<t.length;s++)t[s].style.backgroundColor=e},OM=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,NM=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,cE=(n,e)=>{if(!e.icon&&!e.iconHtml)return;let t=n.innerHTML,s="";e.iconHtml?s=hE(e.iconHtml):e.icon==="success"?(s=OM,t=t.replace(/ style=".*?"/g,"")):e.icon==="error"?s=NM:e.icon&&(s=hE({question:"?",warning:"!",info:"i"}[e.icon])),t.trim()!==s.trim()&&Un(n,s)},xM=(n,e)=>{if(e.iconColor){n.style.color=e.iconColor,n.style.borderColor=e.iconColor;for(const t of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])oE(n,t,"background-color",e.iconColor);oE(n,".swal2-success-ring","border-color",e.iconColor)}},hE=n=>`<div class="${Q["icon-content"]}">${n}</div>`,kM=(n,e)=>{const t=mA();if(t){if(!e.imageUrl){un(t);return}Kt(t,""),t.setAttribute("src",e.imageUrl),t.setAttribute("alt",e.imageAlt||""),_a(t,"width",e.imageWidth),_a(t,"height",e.imageHeight),t.className=Q.image,Vn(t,e,"image")}};let fy=!1,EA=0,bA=0,TA=0,AA=0;const MM=n=>{n.addEventListener("mousedown",pf),document.body.addEventListener("mousemove",gf),n.addEventListener("mouseup",yf),n.addEventListener("touchstart",pf),document.body.addEventListener("touchmove",gf),n.addEventListener("touchend",yf)},PM=n=>{n.removeEventListener("mousedown",pf),document.body.removeEventListener("mousemove",gf),n.removeEventListener("mouseup",yf),n.removeEventListener("touchstart",pf),document.body.removeEventListener("touchmove",gf),n.removeEventListener("touchend",yf)},pf=n=>{const e=Qe();if(n.target===e||il().contains(n.target)){fy=!0;const t=SA(n);EA=t.clientX,bA=t.clientY,TA=parseInt(e.style.insetInlineStart)||0,AA=parseInt(e.style.insetBlockStart)||0,He(e,"swal2-dragging")}},gf=n=>{const e=Qe();if(fy){let{clientX:t,clientY:s}=SA(n);e.style.insetInlineStart=`${TA+(t-EA)}px`,e.style.insetBlockStart=`${AA+(s-bA)}px`}},yf=()=>{const n=Qe();fy=!1,ii(n,"swal2-dragging")},SA=n=>{let e=0,t=0;return n.type.startsWith("mouse")?(e=n.clientX,t=n.clientY):n.type.startsWith("touch")&&(e=n.touches[0].clientX,t=n.touches[0].clientY),{clientX:e,clientY:t}},VM=(n,e)=>{const t=vn(),s=Qe();if(!(!t||!s)){if(e.toast){_a(t,"width",e.width),s.style.width="100%";const o=sl();o&&s.insertBefore(o,il())}else _a(s,"width",e.width);_a(s,"padding",e.padding),e.color&&(s.style.color=e.color),e.background&&(s.style.background=e.background),un(Yf()),LM(s,e),e.draggable&&!e.toast?(He(s,Q.draggable),MM(s)):(ii(s,Q.draggable),PM(s))}},LM=(n,e)=>{const t=e.showClass||{};n.className=`${Q.popup} ${Sn(n)?t.popup:""}`,e.toast?(He([document.documentElement,document.body],Q["toast-shown"]),He(n,Q.toast)):He(n,Q.modal),Vn(n,e,"popup"),typeof e.customClass=="string"&&He(n,e.customClass),e.icon&&He(n,Q[`icon-${e.icon}`])},UM=(n,e)=>{const t=ry();if(!t)return;const{progressSteps:s,currentProgressStep:o}=e;if(!s||s.length===0||o===void 0){un(t);return}Kt(t),t.textContent="",o>=s.length&&yn("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),s.forEach((u,f)=>{const p=BM(u);if(t.appendChild(p),f===o&&He(p,Q["active-progress-step"]),f!==s.length-1){const d=zM(e);t.appendChild(d)}})},BM=n=>{const e=document.createElement("li");return He(e,Q["progress-step"]),Un(e,n),e},zM=n=>{const e=document.createElement("li");return He(e,Q["progress-step-line"]),n.progressStepsDistance&&_a(e,"width",n.progressStepsDistance),e},jM=(n,e)=>{const t=dA();t&&(ly(t),ic(t,e.title||e.titleText,"block"),e.title&&cy(e.title,t),e.titleText&&(t.innerText=e.titleText),Vn(t,e,"title"))},RA=(n,e)=>{VM(n,e),yM(n,e),UM(n,e),DM(n,e),kM(n,e),jM(n,e),gM(n,e),CM(n,e),dM(n,e),IM(n,e);const t=Qe();typeof e.didRender=="function"&&t&&e.didRender(t),we.eventEmitter.emit("didRender",t)},HM=()=>Sn(Qe()),CA=()=>{var n;return(n=Li())===null||n===void 0?void 0:n.click()},qM=()=>{var n;return(n=xa())===null||n===void 0?void 0:n.click()},FM=()=>{var n;return(n=rl())===null||n===void 0?void 0:n.click()},al=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),IA=n=>{n.keydownTarget&&n.keydownHandlerAdded&&(n.keydownTarget.removeEventListener("keydown",n.keydownHandler,{capture:n.keydownListenerCapture}),n.keydownHandlerAdded=!1)},GM=(n,e,t)=>{IA(n),e.toast||(n.keydownHandler=s=>KM(e,s,t),n.keydownTarget=e.keydownListenerCapture?window:Qe(),n.keydownListenerCapture=e.keydownListenerCapture,n.keydownTarget.addEventListener("keydown",n.keydownHandler,{capture:n.keydownListenerCapture}),n.keydownHandlerAdded=!0)},Qp=(n,e)=>{var t;const s=ay();if(s.length){n=n+e,n===s.length?n=0:n===-1&&(n=s.length-1),s[n].focus();return}(t=Qe())===null||t===void 0||t.focus()},DA=["ArrowRight","ArrowDown"],$M=["ArrowLeft","ArrowUp"],KM=(n,e,t)=>{n&&(e.isComposing||e.keyCode===229||(n.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?QM(e,n):e.key==="Tab"?YM(e):[...DA,...$M].includes(e.key)?XM(e.key):e.key==="Escape"&&WM(e,n,t)))},QM=(n,e)=>{if(!Qf(e.allowEnterKey))return;const t=Zf(Qe(),e.input);if(n.target&&t&&n.target instanceof HTMLElement&&n.target.outerHTML===t.outerHTML){if(["textarea","file"].includes(e.input))return;CA(),n.preventDefault()}},YM=n=>{const e=n.target,t=ay();let s=-1;for(let o=0;o<t.length;o++)if(e===t[o]){s=o;break}n.shiftKey?Qp(s,-1):Qp(s,1),n.stopPropagation(),n.preventDefault()},XM=n=>{const e=nc(),t=Li(),s=xa(),o=rl();if(!e||!t||!s||!o)return;const u=[t,s,o];if(document.activeElement instanceof HTMLElement&&!u.includes(document.activeElement))return;const f=DA.includes(n)?"nextElementSibling":"previousElementSibling";let p=document.activeElement;if(p){for(let d=0;d<e.children.length;d++){if(p=p[f],!p)return;if(p instanceof HTMLButtonElement&&Sn(p))break}p instanceof HTMLButtonElement&&p.focus()}},WM=(n,e,t)=>{Qf(e.allowEscapeKey)&&(n.preventDefault(),t(al.esc))};var Go={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const ZM=()=>{const n=vn();Array.from(document.body.children).forEach(t=>{t.contains(n)||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")||""),t.setAttribute("aria-hidden","true"))})},OA=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},NA=typeof window<"u"&&!!window.GestureEvent,JM=()=>{if(NA&&!Er(document.body,Q.iosfix)){const n=document.body.scrollTop;document.body.style.top=`${n*-1}px`,He(document.body,Q.iosfix),eP()}},eP=()=>{const n=vn();if(!n)return;let e;n.ontouchstart=t=>{e=tP(t)},n.ontouchmove=t=>{e&&(t.preventDefault(),t.stopPropagation())}},tP=n=>{const e=n.target,t=vn(),s=iy();return!t||!s||nP(n)||iP(n)?!1:e===t||!lE(t)&&e instanceof HTMLElement&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(lE(s)&&s.contains(e))},nP=n=>n.touches&&n.touches.length&&n.touches[0].touchType==="stylus",iP=n=>n.touches&&n.touches.length>1,rP=()=>{if(Er(document.body,Q.iosfix)){const n=parseInt(document.body.style.top,10);ii(document.body,Q.iosfix),document.body.style.top="",document.body.scrollTop=n*-1}},sP=()=>{const n=document.createElement("div");n.className=Q["scrollbar-measure"],document.body.appendChild(n);const e=n.getBoundingClientRect().width-n.clientWidth;return document.body.removeChild(n),e};let Mo=null;const aP=n=>{Mo===null&&(document.body.scrollHeight>window.innerHeight||n==="scroll")&&(Mo=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Mo+sP()}px`)},oP=()=>{Mo!==null&&(document.body.style.paddingRight=`${Mo}px`,Mo=null)};function xA(n,e,t,s){Wf()?fE(n,s):($k(t).then(()=>fE(n,s)),IA(we)),NA?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),oy()&&(oP(),rP(),OA()),lP()}function lP(){ii([document.documentElement,document.body],[Q.shown,Q["height-auto"],Q["no-backdrop"],Q["toast-shown"]])}function vs(n){n=cP(n);const e=Go.swalPromiseResolve.get(this),t=uP(this);this.isAwaitingPromise?n.isDismissed||(sc(this),e(n)):t&&e(n)}const uP=n=>{const e=Qe();if(!e)return!1;const t=st.innerParams.get(n);if(!t||Er(e,t.hideClass.popup))return!1;ii(e,t.showClass.popup),He(e,t.hideClass.popup);const s=vn();return ii(s,t.showClass.backdrop),He(s,t.hideClass.backdrop),hP(n,e,t),!0};function kA(n){const e=Go.swalPromiseReject.get(this);sc(this),e&&e(n)}const sc=n=>{n.isAwaitingPromise&&(delete n.isAwaitingPromise,st.innerParams.get(n)||n._destroy())},cP=n=>typeof n>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},n),hP=(n,e,t)=>{var s;const o=vn(),u=vA(e);typeof t.willClose=="function"&&t.willClose(e),(s=we.eventEmitter)===null||s===void 0||s.emit("willClose",e),u?fP(n,e,o,t.returnFocus,t.didClose):xA(n,o,t.returnFocus,t.didClose)},fP=(n,e,t,s,o)=>{we.swalCloseEventFinishedCallback=xA.bind(null,n,t,s,o);const u=function(f){if(f.target===e){var p;(p=we.swalCloseEventFinishedCallback)===null||p===void 0||p.call(we),delete we.swalCloseEventFinishedCallback,e.removeEventListener("animationend",u),e.removeEventListener("transitionend",u)}};e.addEventListener("animationend",u),e.addEventListener("transitionend",u)},fE=(n,e)=>{setTimeout(()=>{var t;typeof e=="function"&&e.bind(n.params)(),(t=we.eventEmitter)===null||t===void 0||t.emit("didClose"),n._destroy&&n._destroy()})},$o=n=>{let e=Qe();if(e||new kn,e=Qe(),!e)return;const t=sl();Wf()?un(il()):dP(e,n),Kt(t),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},dP=(n,e)=>{const t=nc(),s=sl();!t||!s||(!e&&Sn(Li())&&(e=Li()),Kt(t),e&&(un(e),s.setAttribute("data-button-to-replace",e.className),t.insertBefore(s,e)),He([n,t],Q.loading))},mP=(n,e)=>{e.input==="select"||e.input==="radio"?_P(n,e):["text","email","number","tel","textarea"].some(t=>t===e.input)&&(ty(e.inputValue)||ny(e.inputValue))&&($o(Li()),wP(n,e))},pP=(n,e)=>{const t=n.getInput();if(!t)return null;switch(e.input){case"checkbox":return gP(t);case"radio":return yP(t);case"file":return vP(t);default:return e.inputAutoTrim?t.value.trim():t.value}},gP=n=>n.checked?1:0,yP=n=>n.checked?n.value:null,vP=n=>n.files&&n.files.length?n.getAttribute("multiple")!==null?n.files:n.files[0]:null,_P=(n,e)=>{const t=Qe();if(!t)return;const s=o=>{e.input==="select"?EP(t,vf(o),e):e.input==="radio"&&bP(t,vf(o),e)};ty(e.inputOptions)||ny(e.inputOptions)?($o(Li()),ec(e.inputOptions).then(o=>{n.hideLoading(),s(o)})):typeof e.inputOptions=="object"?s(e.inputOptions):Na(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},wP=(n,e)=>{const t=n.getInput();t&&(un(t),ec(e.inputValue).then(s=>{t.value=e.input==="number"?`${parseFloat(s)||0}`:`${s}`,Kt(t),t.focus(),n.hideLoading()}).catch(s=>{Na(`Error in inputValue promise: ${s}`),t.value="",Kt(t),t.focus(),n.hideLoading()}))};function EP(n,e,t){const s=ys(n,Q.select);if(!s)return;const o=(u,f,p)=>{const d=document.createElement("option");d.value=p,Un(d,f),d.selected=MA(p,t.inputValue),u.appendChild(d)};e.forEach(u=>{const f=u[0],p=u[1];if(Array.isArray(p)){const d=document.createElement("optgroup");d.label=f,d.disabled=!1,s.appendChild(d),p.forEach(g=>o(d,g[1],g[0]))}else o(s,p,f)}),s.focus()}function bP(n,e,t){const s=ys(n,Q.radio);if(!s)return;e.forEach(u=>{const f=u[0],p=u[1],d=document.createElement("input"),g=document.createElement("label");d.type="radio",d.name=Q.radio,d.value=f,MA(f,t.inputValue)&&(d.checked=!0);const v=document.createElement("span");Un(v,p),v.className=Q.label,g.appendChild(d),g.appendChild(v),s.appendChild(g)});const o=s.querySelectorAll("input");o.length&&o[0].focus()}const vf=n=>{const e=[];return n instanceof Map?n.forEach((t,s)=>{let o=t;typeof o=="object"&&(o=vf(o)),e.push([s,o])}):Object.keys(n).forEach(t=>{let s=n[t];typeof s=="object"&&(s=vf(s)),e.push([t,s])}),e},MA=(n,e)=>!!e&&e.toString()===n.toString(),TP=n=>{const e=st.innerParams.get(n);n.disableButtons(),e.input?PA(n,"confirm"):my(n,!0)},AP=n=>{const e=st.innerParams.get(n);n.disableButtons(),e.returnInputValueOnDeny?PA(n,"deny"):dy(n,!1)},SP=(n,e)=>{n.disableButtons(),e(al.cancel)},PA=(n,e)=>{const t=st.innerParams.get(n);if(!t.input){Na(`The "input" parameter is needed to be set when using returnInputValueOn${ey(e)}`);return}const s=n.getInput(),o=pP(n,t);t.inputValidator?RP(n,o,e):s&&!s.checkValidity()?(n.enableButtons(),n.showValidationMessage(t.validationMessage||s.validationMessage)):e==="deny"?dy(n,o):my(n,o)},RP=(n,e,t)=>{const s=st.innerParams.get(n);n.disableInput(),Promise.resolve().then(()=>ec(s.inputValidator(e,s.validationMessage))).then(u=>{n.enableButtons(),n.enableInput(),u?n.showValidationMessage(u):t==="deny"?dy(n,e):my(n,e)})},dy=(n,e)=>{const t=st.innerParams.get(n||void 0);t.showLoaderOnDeny&&$o(xa()),t.preDeny?(n.isAwaitingPromise=!0,Promise.resolve().then(()=>ec(t.preDeny(e,t.validationMessage))).then(o=>{o===!1?(n.hideLoading(),sc(n)):n.close({isDenied:!0,value:typeof o>"u"?e:o})}).catch(o=>VA(n||void 0,o))):n.close({isDenied:!0,value:e})},dE=(n,e)=>{n.close({isConfirmed:!0,value:e})},VA=(n,e)=>{n.rejectPromise(e)},my=(n,e)=>{const t=st.innerParams.get(n||void 0);t.showLoaderOnConfirm&&$o(),t.preConfirm?(n.resetValidationMessage(),n.isAwaitingPromise=!0,Promise.resolve().then(()=>ec(t.preConfirm(e,t.validationMessage))).then(o=>{Sn(Yf())||o===!1?(n.hideLoading(),sc(n)):dE(n,typeof o>"u"?e:o)}).catch(o=>VA(n||void 0,o))):dE(n,e)};function _f(){const n=st.innerParams.get(this);if(!n)return;const e=st.domCache.get(this);un(e.loader),Wf()?n.icon&&Kt(il()):CP(e),ii([e.popup,e.actions],Q.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const CP=n=>{const e=n.popup.getElementsByClassName(n.loader.getAttribute("data-button-to-replace"));e.length?Kt(e[0],"inline-block"):tM()&&un(n.actions)};function LA(){const n=st.innerParams.get(this),e=st.domCache.get(this);return e?Zf(e.popup,n.input):null}function UA(n,e,t){const s=st.domCache.get(n);e.forEach(o=>{s[o].disabled=t})}function BA(n,e){const t=Qe();if(!(!t||!n))if(n.type==="radio"){const s=t.querySelectorAll(`[name="${Q.radio}"]`);for(let o=0;o<s.length;o++)s[o].disabled=e}else n.disabled=e}function zA(){UA(this,["confirmButton","denyButton","cancelButton"],!1)}function jA(){UA(this,["confirmButton","denyButton","cancelButton"],!0)}function HA(){BA(this.getInput(),!1)}function qA(){BA(this.getInput(),!0)}function FA(n){const e=st.domCache.get(this),t=st.innerParams.get(this);Un(e.validationMessage,n),e.validationMessage.className=Q["validation-message"],t.customClass&&t.customClass.validationMessage&&He(e.validationMessage,t.customClass.validationMessage),Kt(e.validationMessage);const s=this.getInput();s&&(s.setAttribute("aria-invalid","true"),s.setAttribute("aria-describedby",Q["validation-message"]),gA(s),He(s,Q.inputerror))}function GA(){const n=st.domCache.get(this);n.validationMessage&&un(n.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),ii(e,Q.inputerror))}const Po={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},IP=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],DP={allowEnterKey:void 0},OP=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],$A=n=>Object.prototype.hasOwnProperty.call(Po,n),KA=n=>IP.indexOf(n)!==-1,QA=n=>DP[n],NP=n=>{$A(n)||yn(`Unknown parameter "${n}"`)},xP=n=>{OP.includes(n)&&yn(`The parameter "${n}" is incompatible with toasts`)},kP=n=>{const e=QA(n);e&&fA(n,e)},YA=n=>{n.backdrop===!1&&n.allowOutsideClick&&yn('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),n.theme&&!["light","dark","auto","borderless"].includes(n.theme)&&yn(`Invalid theme "${n.theme}". Expected "light", "dark", "auto", or "borderless"`);for(const e in n)NP(e),n.toast&&xP(e),kP(e)};function XA(n){const e=vn(),t=Qe(),s=st.innerParams.get(this);if(!t||Er(t,s.hideClass.popup)){yn("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const o=MP(n),u=Object.assign({},s,o);YA(u),e.dataset.swal2Theme=u.theme,RA(this,u),st.innerParams.set(this,u),Object.defineProperties(this,{params:{value:Object.assign({},this.params,n),writable:!1,enumerable:!0}})}const MP=n=>{const e={};return Object.keys(n).forEach(t=>{KA(t)?e[t]=n[t]:yn(`Invalid parameter to update: ${t}`)}),e};function WA(){const n=st.domCache.get(this),e=st.innerParams.get(this);if(!e){ZA(this);return}n.popup&&we.swalCloseEventFinishedCallback&&(we.swalCloseEventFinishedCallback(),delete we.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),we.eventEmitter.emit("didDestroy"),PP(this)}const PP=n=>{ZA(n),delete n.params,delete we.keydownHandler,delete we.keydownTarget,delete we.currentInstance},ZA=n=>{n.isAwaitingPromise?(yp(st,n),n.isAwaitingPromise=!0):(yp(Go,n),yp(st,n),delete n.isAwaitingPromise,delete n.disableButtons,delete n.enableButtons,delete n.getInput,delete n.disableInput,delete n.enableInput,delete n.hideLoading,delete n.disableLoading,delete n.showValidationMessage,delete n.resetValidationMessage,delete n.close,delete n.closePopup,delete n.closeModal,delete n.closeToast,delete n.rejectPromise,delete n.update,delete n._destroy)},yp=(n,e)=>{for(const t in n)n[t].delete(e)};var VP=Object.freeze({__proto__:null,_destroy:WA,close:vs,closeModal:vs,closePopup:vs,closeToast:vs,disableButtons:jA,disableInput:qA,disableLoading:_f,enableButtons:zA,enableInput:HA,getInput:LA,handleAwaitingPromise:sc,hideLoading:_f,rejectPromise:kA,resetValidationMessage:GA,showValidationMessage:FA,update:XA});const LP=(n,e,t)=>{n.toast?UP(n,e,t):(zP(e),jP(e),HP(n,e,t))},UP=(n,e,t)=>{e.popup.onclick=()=>{n&&(BP(n)||n.timer||n.input)||t(al.close)}},BP=n=>!!(n.showConfirmButton||n.showDenyButton||n.showCancelButton||n.showCloseButton);let wf=!1;const zP=n=>{n.popup.onmousedown=()=>{n.container.onmouseup=function(e){n.container.onmouseup=()=>{},e.target===n.container&&(wf=!0)}}},jP=n=>{n.container.onmousedown=e=>{e.target===n.container&&e.preventDefault(),n.popup.onmouseup=function(t){n.popup.onmouseup=()=>{},(t.target===n.popup||t.target instanceof HTMLElement&&n.popup.contains(t.target))&&(wf=!0)}}},HP=(n,e,t)=>{e.container.onclick=s=>{if(wf){wf=!1;return}s.target===e.container&&Qf(n.allowOutsideClick)&&t(al.backdrop)}},qP=n=>typeof n=="object"&&n.jquery,mE=n=>n instanceof Element||qP(n),FP=n=>{const e={};return typeof n[0]=="object"&&!mE(n[0])?Object.assign(e,n[0]):["title","html","icon"].forEach((t,s)=>{const o=n[s];typeof o=="string"||mE(o)?e[t]=o:o!==void 0&&Na(`Unexpected type of ${t}! Expected "string" or "Element", got ${typeof o}`)}),e};function GP(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return new this(...e)}function $P(n){class e extends this{_main(s,o){return super._main(s,Object.assign({},n,o))}}return e}const KP=()=>we.timeout&&we.timeout.getTimerLeft(),JA=()=>{if(we.timeout)return nM(),we.timeout.stop()},eS=()=>{if(we.timeout){const n=we.timeout.start();return uy(n),n}},QP=()=>{const n=we.timeout;return n&&(n.running?JA():eS())},YP=n=>{if(we.timeout){const e=we.timeout.increase(n);return uy(e,!0),e}},XP=()=>!!(we.timeout&&we.timeout.isRunning());let pE=!1;const Yp={};function WP(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Yp[n]=this,pE||(document.body.addEventListener("click",ZP),pE=!0)}const ZP=n=>{for(let e=n.target;e&&e!==document;e=e.parentNode)for(const t in Yp){const s=e.getAttribute(t);if(s){Yp[t].fire({template:s});return}}};class JP{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,t){const s=this._getHandlersByEventName(e);s.includes(t)||s.push(t)}once(e,t){var s=this;const o=function(){s.removeListener(e,o);for(var u=arguments.length,f=new Array(u),p=0;p<u;p++)f[p]=arguments[p];t.apply(s,f)};this.on(e,o)}emit(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),o=1;o<t;o++)s[o-1]=arguments[o];this._getHandlersByEventName(e).forEach(u=>{try{u.apply(this,s)}catch(f){console.error(f)}})}removeListener(e,t){const s=this._getHandlersByEventName(e),o=s.indexOf(t);o>-1&&s.splice(o,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}we.eventEmitter=new JP;const eV=(n,e)=>{we.eventEmitter.on(n,e)},tV=(n,e)=>{we.eventEmitter.once(n,e)},nV=(n,e)=>{if(!n){we.eventEmitter.reset();return}e?we.eventEmitter.removeListener(n,e):we.eventEmitter.removeAllListeners(n)};var iV=Object.freeze({__proto__:null,argsToParams:FP,bindClickHandler:WP,clickCancel:FM,clickConfirm:CA,clickDeny:qM,enableLoading:$o,fire:GP,getActions:nc,getCancelButton:rl,getCloseButton:sy,getConfirmButton:Li,getContainer:vn,getDenyButton:xa,getFocusableElements:ay,getFooter:pA,getHtmlContainer:iy,getIcon:il,getIconContent:Xk,getImage:mA,getInputLabel:Wk,getLoader:sl,getPopup:Qe,getProgressSteps:ry,getTimerLeft:KP,getTimerProgressBar:Xf,getTitle:dA,getValidationMessage:Yf,increaseTimer:YP,isDeprecatedParameter:QA,isLoading:Jk,isTimerRunning:XP,isUpdatableParameter:KA,isValidParameter:$A,isVisible:HM,mixin:$P,off:nV,on:eV,once:tV,resumeTimer:eS,showLoading:$o,stopTimer:JA,toggleTimer:QP});class rV{constructor(e,t){this.callback=e,this.remaining=t,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const tS=["swal-title","swal-html","swal-footer"],sV=n=>{const e=typeof n.template=="string"?document.querySelector(n.template):n.template;if(!e)return{};const t=e.content;return dV(t),Object.assign(aV(t),oV(t),lV(t),uV(t),cV(t),hV(t),fV(t,tS))},aV=n=>{const e={};return Array.from(n.querySelectorAll("swal-param")).forEach(s=>{Sa(s,["name","value"]);const o=s.getAttribute("name"),u=s.getAttribute("value");!o||!u||(typeof Po[o]=="boolean"?e[o]=u!=="false":typeof Po[o]=="object"?e[o]=JSON.parse(u):e[o]=u)}),e},oV=n=>{const e={};return Array.from(n.querySelectorAll("swal-function-param")).forEach(s=>{const o=s.getAttribute("name"),u=s.getAttribute("value");!o||!u||(e[o]=new Function(`return ${u}`)())}),e},lV=n=>{const e={};return Array.from(n.querySelectorAll("swal-button")).forEach(s=>{Sa(s,["type","color","aria-label"]);const o=s.getAttribute("type");!o||!["confirm","cancel","deny"].includes(o)||(e[`${o}ButtonText`]=s.innerHTML,e[`show${ey(o)}Button`]=!0,s.hasAttribute("color")&&(e[`${o}ButtonColor`]=s.getAttribute("color")),s.hasAttribute("aria-label")&&(e[`${o}ButtonAriaLabel`]=s.getAttribute("aria-label")))}),e},uV=n=>{const e={},t=n.querySelector("swal-image");return t&&(Sa(t,["src","width","height","alt"]),t.hasAttribute("src")&&(e.imageUrl=t.getAttribute("src")||void 0),t.hasAttribute("width")&&(e.imageWidth=t.getAttribute("width")||void 0),t.hasAttribute("height")&&(e.imageHeight=t.getAttribute("height")||void 0),t.hasAttribute("alt")&&(e.imageAlt=t.getAttribute("alt")||void 0)),e},cV=n=>{const e={},t=n.querySelector("swal-icon");return t&&(Sa(t,["type","color"]),t.hasAttribute("type")&&(e.icon=t.getAttribute("type")),t.hasAttribute("color")&&(e.iconColor=t.getAttribute("color")),e.iconHtml=t.innerHTML),e},hV=n=>{const e={},t=n.querySelector("swal-input");t&&(Sa(t,["type","label","placeholder","value"]),e.input=t.getAttribute("type")||"text",t.hasAttribute("label")&&(e.inputLabel=t.getAttribute("label")),t.hasAttribute("placeholder")&&(e.inputPlaceholder=t.getAttribute("placeholder")),t.hasAttribute("value")&&(e.inputValue=t.getAttribute("value")));const s=Array.from(n.querySelectorAll("swal-input-option"));return s.length&&(e.inputOptions={},s.forEach(o=>{Sa(o,["value"]);const u=o.getAttribute("value");if(!u)return;const f=o.innerHTML;e.inputOptions[u]=f})),e},fV=(n,e)=>{const t={};for(const s in e){const o=e[s],u=n.querySelector(o);u&&(Sa(u,[]),t[o.replace(/^swal-/,"")]=u.innerHTML.trim())}return t},dV=n=>{const e=tS.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(n.children).forEach(t=>{const s=t.tagName.toLowerCase();e.includes(s)||yn(`Unrecognized element <${s}>`)})},Sa=(n,e)=>{Array.from(n.attributes).forEach(t=>{e.indexOf(t.name)===-1&&yn([`Unrecognized attribute "${t.name}" on <${n.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},nS=10,mV=n=>{const e=vn(),t=Qe();typeof n.willOpen=="function"&&n.willOpen(t),we.eventEmitter.emit("willOpen",t);const o=window.getComputedStyle(document.body).overflowY;yV(e,t,n),setTimeout(()=>{pV(e,t)},nS),oy()&&(gV(e,n.scrollbarPadding,o),ZM()),!Wf()&&!we.previousActiveElement&&(we.previousActiveElement=document.activeElement),typeof n.didOpen=="function"&&setTimeout(()=>n.didOpen(t)),we.eventEmitter.emit("didOpen",t),ii(e,Q["no-transition"])},Ef=n=>{const e=Qe();if(n.target!==e)return;const t=vn();e.removeEventListener("animationend",Ef),e.removeEventListener("transitionend",Ef),t.style.overflowY="auto"},pV=(n,e)=>{vA(e)?(n.style.overflowY="hidden",e.addEventListener("animationend",Ef),e.addEventListener("transitionend",Ef)):n.style.overflowY="auto"},gV=(n,e,t)=>{JM(),e&&t!=="hidden"&&aP(t),setTimeout(()=>{n.scrollTop=0})},yV=(n,e,t)=>{He(n,t.showClass.backdrop),t.animation?(e.style.setProperty("opacity","0","important"),Kt(e,"grid"),setTimeout(()=>{He(e,t.showClass.popup),e.style.removeProperty("opacity")},nS)):Kt(e,"grid"),He([document.documentElement,document.body],Q.shown),t.heightAuto&&t.backdrop&&!t.toast&&He([document.documentElement,document.body],Q["height-auto"])};var gE={email:(n,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(n)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(n,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(n)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function vV(n){n.inputValidator||(n.input==="email"&&(n.inputValidator=gE.email),n.input==="url"&&(n.inputValidator=gE.url))}function _V(n){(!n.target||typeof n.target=="string"&&!document.querySelector(n.target)||typeof n.target!="string"&&!n.target.appendChild)&&(yn('Target parameter is not valid, defaulting to "body"'),n.target="body")}function wV(n){vV(n),n.showLoaderOnConfirm&&!n.preConfirm&&yn(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),_V(n),typeof n.title=="string"&&(n.title=n.title.split(`
`).join("<br />")),cM(n)}let Ni;var Mh=new WeakMap;class bt{constructor(){if(Hk(this,Mh,void 0),typeof window>"u")return;Ni=this;for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];const o=Object.freeze(this.constructor.argsToParams(t));this.params=o,this.isAwaitingPromise=!1,qk(Mh,this,this._main(Ni.params))}_main(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(YA(Object.assign({},t,e)),we.currentInstance){const u=Go.swalPromiseResolve.get(we.currentInstance),{isAwaitingPromise:f}=we.currentInstance;we.currentInstance._destroy(),f||u({isDismissed:!0}),oy()&&OA()}we.currentInstance=Ni;const s=bV(e,t);wV(s),Object.freeze(s),we.timeout&&(we.timeout.stop(),delete we.timeout),clearTimeout(we.restoreFocusTimeout);const o=TV(Ni);return RA(Ni,s),st.innerParams.set(Ni,s),EV(Ni,o,s)}then(e){return sE(Mh,this).then(e)}finally(e){return sE(Mh,this).finally(e)}}const EV=(n,e,t)=>new Promise((s,o)=>{const u=f=>{n.close({isDismissed:!0,dismiss:f})};Go.swalPromiseResolve.set(n,s),Go.swalPromiseReject.set(n,o),e.confirmButton.onclick=()=>{TP(n)},e.denyButton.onclick=()=>{AP(n)},e.cancelButton.onclick=()=>{SP(n,u)},e.closeButton.onclick=()=>{u(al.close)},LP(t,e,u),GM(we,t,u),mP(n,t),mV(t),AV(we,t,u),SV(e,t),setTimeout(()=>{e.container.scrollTop=0})}),bV=(n,e)=>{const t=sV(n),s=Object.assign({},Po,e,t,n);return s.showClass=Object.assign({},Po.showClass,s.showClass),s.hideClass=Object.assign({},Po.hideClass,s.hideClass),s.animation===!1&&(s.showClass={backdrop:"swal2-noanimation"},s.hideClass={}),s},TV=n=>{const e={popup:Qe(),container:vn(),actions:nc(),confirmButton:Li(),denyButton:xa(),cancelButton:rl(),loader:sl(),closeButton:sy(),validationMessage:Yf(),progressSteps:ry()};return st.domCache.set(n,e),e},AV=(n,e,t)=>{const s=Xf();un(s),e.timer&&(n.timeout=new rV(()=>{t("timer"),delete n.timeout},e.timer),e.timerProgressBar&&(Kt(s),Vn(s,e,"timerProgressBar"),setTimeout(()=>{n.timeout&&n.timeout.running&&uy(e.timer)})))},SV=(n,e)=>{if(!e.toast){if(!Qf(e.allowEnterKey)){fA("allowEnterKey"),IV();return}RV(n)||CV(n,e)||Qp(-1,1)}},RV=n=>{const e=Array.from(n.popup.querySelectorAll("[autofocus]"));for(const t of e)if(t instanceof HTMLElement&&Sn(t))return t.focus(),!0;return!1},CV=(n,e)=>e.focusDeny&&Sn(n.denyButton)?(n.denyButton.focus(),!0):e.focusCancel&&Sn(n.cancelButton)?(n.cancelButton.focus(),!0):e.focusConfirm&&Sn(n.confirmButton)?(n.confirmButton.focus(),!0):!1,IV=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const n=new Date,e=localStorage.getItem("swal-initiation");e?(n.getTime()-Date.parse(e))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const t=document.createElement("audio");t.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",t.loop=!0,document.body.appendChild(t),setTimeout(()=>{t.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${n}`)}bt.prototype.disableButtons=jA;bt.prototype.enableButtons=zA;bt.prototype.getInput=LA;bt.prototype.disableInput=qA;bt.prototype.enableInput=HA;bt.prototype.hideLoading=_f;bt.prototype.disableLoading=_f;bt.prototype.showValidationMessage=FA;bt.prototype.resetValidationMessage=GA;bt.prototype.close=vs;bt.prototype.closePopup=vs;bt.prototype.closeModal=vs;bt.prototype.closeToast=vs;bt.prototype.rejectPromise=kA;bt.prototype.update=XA;bt.prototype._destroy=WA;Object.assign(bt,iV);Object.keys(VP).forEach(n=>{bt[n]=function(){return Ni&&Ni[n]?Ni[n](...arguments):null}});bt.DismissReason=al;bt.version="11.17.2";const kn=bt;kn.default=kn;typeof document<"u"&&function(n,e){var t=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}}(document,':root{--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-footer-border-color: #eee;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-input-background: transparent;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);color:inherit;font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:var(--swal2-border-radius);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:var(--swal2-input-background);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:var(--swal2-background);box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');var DV=Object.defineProperty,bf=Object.getOwnPropertySymbols,iS=Object.prototype.hasOwnProperty,rS=Object.prototype.propertyIsEnumerable,yE=(n,e,t)=>e in n?DV(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Xp=(n,e)=>{for(var t in e||(e={}))iS.call(e,t)&&yE(n,t,e[t]);if(bf)for(var t of bf(e))rS.call(e,t)&&yE(n,t,e[t]);return n},Wp=(n,e)=>{var t={};for(var s in n)iS.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&bf)for(var s of bf(n))e.indexOf(s)<0&&rS.call(n,s)&&(t[s]=n[s]);return t};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Ra;(n=>{const e=class ke{constructor(d,g,v,E){if(this.version=d,this.errorCorrectionLevel=g,this.modules=[],this.isFunction=[],d<ke.MIN_VERSION||d>ke.MAX_VERSION)throw new RangeError("Version value out of range");if(E<-1||E>7)throw new RangeError("Mask value out of range");this.size=d*4+17;let b=[];for(let D=0;D<this.size;D++)b.push(!1);for(let D=0;D<this.size;D++)this.modules.push(b.slice()),this.isFunction.push(b.slice());this.drawFunctionPatterns();const C=this.addEccAndInterleave(v);if(this.drawCodewords(C),E==-1){let D=1e9;for(let U=0;U<8;U++){this.applyMask(U),this.drawFormatBits(U);const P=this.getPenaltyScore();P<D&&(E=U,D=P),this.applyMask(U)}}o(0<=E&&E<=7),this.mask=E,this.applyMask(E),this.drawFormatBits(E),this.isFunction=[]}static encodeText(d,g){const v=n.QrSegment.makeSegments(d);return ke.encodeSegments(v,g)}static encodeBinary(d,g){const v=n.QrSegment.makeBytes(d);return ke.encodeSegments([v],g)}static encodeSegments(d,g,v=1,E=40,b=-1,C=!0){if(!(ke.MIN_VERSION<=v&&v<=E&&E<=ke.MAX_VERSION)||b<-1||b>7)throw new RangeError("Invalid value");let D,U;for(D=v;;D++){const K=ke.getNumDataCodewords(D,g)*8,oe=f.getTotalBits(d,D);if(oe<=K){U=oe;break}if(D>=E)throw new RangeError("Data too long")}for(const K of[ke.Ecc.MEDIUM,ke.Ecc.QUARTILE,ke.Ecc.HIGH])C&&U<=ke.getNumDataCodewords(D,K)*8&&(g=K);let P=[];for(const K of d){t(K.mode.modeBits,4,P),t(K.numChars,K.mode.numCharCountBits(D),P);for(const oe of K.getData())P.push(oe)}o(P.length==U);const Y=ke.getNumDataCodewords(D,g)*8;o(P.length<=Y),t(0,Math.min(4,Y-P.length),P),t(0,(8-P.length%8)%8,P),o(P.length%8==0);for(let K=236;P.length<Y;K^=253)t(K,8,P);let ne=[];for(;ne.length*8<P.length;)ne.push(0);return P.forEach((K,oe)=>ne[oe>>>3]|=K<<7-(oe&7)),new ke(D,g,ne,b)}getModule(d,g){return 0<=d&&d<this.size&&0<=g&&g<this.size&&this.modules[g][d]}getModules(){return this.modules}drawFunctionPatterns(){for(let v=0;v<this.size;v++)this.setFunctionModule(6,v,v%2==0),this.setFunctionModule(v,6,v%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const d=this.getAlignmentPatternPositions(),g=d.length;for(let v=0;v<g;v++)for(let E=0;E<g;E++)v==0&&E==0||v==0&&E==g-1||v==g-1&&E==0||this.drawAlignmentPattern(d[v],d[E]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(d){const g=this.errorCorrectionLevel.formatBits<<3|d;let v=g;for(let b=0;b<10;b++)v=v<<1^(v>>>9)*1335;const E=(g<<10|v)^21522;o(E>>>15==0);for(let b=0;b<=5;b++)this.setFunctionModule(8,b,s(E,b));this.setFunctionModule(8,7,s(E,6)),this.setFunctionModule(8,8,s(E,7)),this.setFunctionModule(7,8,s(E,8));for(let b=9;b<15;b++)this.setFunctionModule(14-b,8,s(E,b));for(let b=0;b<8;b++)this.setFunctionModule(this.size-1-b,8,s(E,b));for(let b=8;b<15;b++)this.setFunctionModule(8,this.size-15+b,s(E,b));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let d=this.version;for(let v=0;v<12;v++)d=d<<1^(d>>>11)*7973;const g=this.version<<12|d;o(g>>>18==0);for(let v=0;v<18;v++){const E=s(g,v),b=this.size-11+v%3,C=Math.floor(v/3);this.setFunctionModule(b,C,E),this.setFunctionModule(C,b,E)}}drawFinderPattern(d,g){for(let v=-4;v<=4;v++)for(let E=-4;E<=4;E++){const b=Math.max(Math.abs(E),Math.abs(v)),C=d+E,D=g+v;0<=C&&C<this.size&&0<=D&&D<this.size&&this.setFunctionModule(C,D,b!=2&&b!=4)}}drawAlignmentPattern(d,g){for(let v=-2;v<=2;v++)for(let E=-2;E<=2;E++)this.setFunctionModule(d+E,g+v,Math.max(Math.abs(E),Math.abs(v))!=1)}setFunctionModule(d,g,v){this.modules[g][d]=v,this.isFunction[g][d]=!0}addEccAndInterleave(d){const g=this.version,v=this.errorCorrectionLevel;if(d.length!=ke.getNumDataCodewords(g,v))throw new RangeError("Invalid argument");const E=ke.NUM_ERROR_CORRECTION_BLOCKS[v.ordinal][g],b=ke.ECC_CODEWORDS_PER_BLOCK[v.ordinal][g],C=Math.floor(ke.getNumRawDataModules(g)/8),D=E-C%E,U=Math.floor(C/E);let P=[];const Y=ke.reedSolomonComputeDivisor(b);for(let K=0,oe=0;K<E;K++){let Z=d.slice(oe,oe+U-b+(K<D?0:1));oe+=Z.length;const fe=ke.reedSolomonComputeRemainder(Z,Y);K<D&&Z.push(0),P.push(Z.concat(fe))}let ne=[];for(let K=0;K<P[0].length;K++)P.forEach((oe,Z)=>{(K!=U-b||Z>=D)&&ne.push(oe[K])});return o(ne.length==C),ne}drawCodewords(d){if(d.length!=Math.floor(ke.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let g=0;for(let v=this.size-1;v>=1;v-=2){v==6&&(v=5);for(let E=0;E<this.size;E++)for(let b=0;b<2;b++){const C=v-b,U=(v+1&2)==0?this.size-1-E:E;!this.isFunction[U][C]&&g<d.length*8&&(this.modules[U][C]=s(d[g>>>3],7-(g&7)),g++)}}o(g==d.length*8)}applyMask(d){if(d<0||d>7)throw new RangeError("Mask value out of range");for(let g=0;g<this.size;g++)for(let v=0;v<this.size;v++){let E;switch(d){case 0:E=(v+g)%2==0;break;case 1:E=g%2==0;break;case 2:E=v%3==0;break;case 3:E=(v+g)%3==0;break;case 4:E=(Math.floor(v/3)+Math.floor(g/2))%2==0;break;case 5:E=v*g%2+v*g%3==0;break;case 6:E=(v*g%2+v*g%3)%2==0;break;case 7:E=((v+g)%2+v*g%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[g][v]&&E&&(this.modules[g][v]=!this.modules[g][v])}}getPenaltyScore(){let d=0;for(let b=0;b<this.size;b++){let C=!1,D=0,U=[0,0,0,0,0,0,0];for(let P=0;P<this.size;P++)this.modules[b][P]==C?(D++,D==5?d+=ke.PENALTY_N1:D>5&&d++):(this.finderPenaltyAddHistory(D,U),C||(d+=this.finderPenaltyCountPatterns(U)*ke.PENALTY_N3),C=this.modules[b][P],D=1);d+=this.finderPenaltyTerminateAndCount(C,D,U)*ke.PENALTY_N3}for(let b=0;b<this.size;b++){let C=!1,D=0,U=[0,0,0,0,0,0,0];for(let P=0;P<this.size;P++)this.modules[P][b]==C?(D++,D==5?d+=ke.PENALTY_N1:D>5&&d++):(this.finderPenaltyAddHistory(D,U),C||(d+=this.finderPenaltyCountPatterns(U)*ke.PENALTY_N3),C=this.modules[P][b],D=1);d+=this.finderPenaltyTerminateAndCount(C,D,U)*ke.PENALTY_N3}for(let b=0;b<this.size-1;b++)for(let C=0;C<this.size-1;C++){const D=this.modules[b][C];D==this.modules[b][C+1]&&D==this.modules[b+1][C]&&D==this.modules[b+1][C+1]&&(d+=ke.PENALTY_N2)}let g=0;for(const b of this.modules)g=b.reduce((C,D)=>C+(D?1:0),g);const v=this.size*this.size,E=Math.ceil(Math.abs(g*20-v*10)/v)-1;return o(0<=E&&E<=9),d+=E*ke.PENALTY_N4,o(0<=d&&d<=2568888),d}getAlignmentPatternPositions(){if(this.version==1)return[];{const d=Math.floor(this.version/7)+2,g=this.version==32?26:Math.ceil((this.version*4+4)/(d*2-2))*2;let v=[6];for(let E=this.size-7;v.length<d;E-=g)v.splice(1,0,E);return v}}static getNumRawDataModules(d){if(d<ke.MIN_VERSION||d>ke.MAX_VERSION)throw new RangeError("Version number out of range");let g=(16*d+128)*d+64;if(d>=2){const v=Math.floor(d/7)+2;g-=(25*v-10)*v-55,d>=7&&(g-=36)}return o(208<=g&&g<=29648),g}static getNumDataCodewords(d,g){return Math.floor(ke.getNumRawDataModules(d)/8)-ke.ECC_CODEWORDS_PER_BLOCK[g.ordinal][d]*ke.NUM_ERROR_CORRECTION_BLOCKS[g.ordinal][d]}static reedSolomonComputeDivisor(d){if(d<1||d>255)throw new RangeError("Degree out of range");let g=[];for(let E=0;E<d-1;E++)g.push(0);g.push(1);let v=1;for(let E=0;E<d;E++){for(let b=0;b<g.length;b++)g[b]=ke.reedSolomonMultiply(g[b],v),b+1<g.length&&(g[b]^=g[b+1]);v=ke.reedSolomonMultiply(v,2)}return g}static reedSolomonComputeRemainder(d,g){let v=g.map(E=>0);for(const E of d){const b=E^v.shift();v.push(0),g.forEach((C,D)=>v[D]^=ke.reedSolomonMultiply(C,b))}return v}static reedSolomonMultiply(d,g){if(d>>>8||g>>>8)throw new RangeError("Byte out of range");let v=0;for(let E=7;E>=0;E--)v=v<<1^(v>>>7)*285,v^=(g>>>E&1)*d;return o(v>>>8==0),v}finderPenaltyCountPatterns(d){const g=d[1];o(g<=this.size*3);const v=g>0&&d[2]==g&&d[3]==g*3&&d[4]==g&&d[5]==g;return(v&&d[0]>=g*4&&d[6]>=g?1:0)+(v&&d[6]>=g*4&&d[0]>=g?1:0)}finderPenaltyTerminateAndCount(d,g,v){return d&&(this.finderPenaltyAddHistory(g,v),g=0),g+=this.size,this.finderPenaltyAddHistory(g,v),this.finderPenaltyCountPatterns(v)}finderPenaltyAddHistory(d,g){g[0]==0&&(d+=this.size),g.pop(),g.unshift(d)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],n.QrCode=e;function t(p,d,g){if(d<0||d>31||p>>>d)throw new RangeError("Value out of range");for(let v=d-1;v>=0;v--)g.push(p>>>v&1)}function s(p,d){return(p>>>d&1)!=0}function o(p){if(!p)throw new Error("Assertion error")}const u=class yt{constructor(d,g,v){if(this.mode=d,this.numChars=g,this.bitData=v,g<0)throw new RangeError("Invalid argument");this.bitData=v.slice()}static makeBytes(d){let g=[];for(const v of d)t(v,8,g);return new yt(yt.Mode.BYTE,d.length,g)}static makeNumeric(d){if(!yt.isNumeric(d))throw new RangeError("String contains non-numeric characters");let g=[];for(let v=0;v<d.length;){const E=Math.min(d.length-v,3);t(parseInt(d.substring(v,v+E),10),E*3+1,g),v+=E}return new yt(yt.Mode.NUMERIC,d.length,g)}static makeAlphanumeric(d){if(!yt.isAlphanumeric(d))throw new RangeError("String contains unencodable characters in alphanumeric mode");let g=[],v;for(v=0;v+2<=d.length;v+=2){let E=yt.ALPHANUMERIC_CHARSET.indexOf(d.charAt(v))*45;E+=yt.ALPHANUMERIC_CHARSET.indexOf(d.charAt(v+1)),t(E,11,g)}return v<d.length&&t(yt.ALPHANUMERIC_CHARSET.indexOf(d.charAt(v)),6,g),new yt(yt.Mode.ALPHANUMERIC,d.length,g)}static makeSegments(d){return d==""?[]:yt.isNumeric(d)?[yt.makeNumeric(d)]:yt.isAlphanumeric(d)?[yt.makeAlphanumeric(d)]:[yt.makeBytes(yt.toUtf8ByteArray(d))]}static makeEci(d){let g=[];if(d<0)throw new RangeError("ECI assignment value out of range");if(d<128)t(d,8,g);else if(d<16384)t(2,2,g),t(d,14,g);else if(d<1e6)t(6,3,g),t(d,21,g);else throw new RangeError("ECI assignment value out of range");return new yt(yt.Mode.ECI,0,g)}static isNumeric(d){return yt.NUMERIC_REGEX.test(d)}static isAlphanumeric(d){return yt.ALPHANUMERIC_REGEX.test(d)}getData(){return this.bitData.slice()}static getTotalBits(d,g){let v=0;for(const E of d){const b=E.mode.numCharCountBits(g);if(E.numChars>=1<<b)return 1/0;v+=4+b+E.bitData.length}return v}static toUtf8ByteArray(d){d=encodeURI(d);let g=[];for(let v=0;v<d.length;v++)d.charAt(v)!="%"?g.push(d.charCodeAt(v)):(g.push(parseInt(d.substring(v+1,v+3),16)),v+=2);return g}};u.NUMERIC_REGEX=/^[0-9]*$/,u.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,u.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let f=u;n.QrSegment=u})(Ra||(Ra={}));(n=>{(e=>{const t=class{constructor(o,u){this.ordinal=o,this.formatBits=u}};t.LOW=new t(0,1),t.MEDIUM=new t(1,0),t.QUARTILE=new t(2,3),t.HIGH=new t(3,2),e.Ecc=t})(n.QrCode||(n.QrCode={}))})(Ra||(Ra={}));(n=>{(e=>{const t=class{constructor(o,u){this.modeBits=o,this.numBitsCharCount=u}numCharCountBits(o){return this.numBitsCharCount[Math.floor((o+7)/17)]}};t.NUMERIC=new t(1,[10,12,14]),t.ALPHANUMERIC=new t(2,[9,11,13]),t.BYTE=new t(4,[8,16,16]),t.KANJI=new t(8,[8,10,12]),t.ECI=new t(7,[0,0,0]),e.Mode=t})(n.QrSegment||(n.QrSegment={}))})(Ra||(Ra={}));var Do=Ra;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var OV={L:Do.QrCode.Ecc.LOW,M:Do.QrCode.Ecc.MEDIUM,Q:Do.QrCode.Ecc.QUARTILE,H:Do.QrCode.Ecc.HIGH},sS=128,aS="L",oS="#FFFFFF",lS="#000000",uS=!1,cS=1,NV=4,xV=0,kV=.1;function hS(n,e=0){const t=[];return n.forEach(function(s,o){let u=null;s.forEach(function(f,p){if(!f&&u!==null){t.push(`M${u+e} ${o+e}h${p-u}v1H${u+e}z`),u=null;return}if(p===s.length-1){if(!f)return;u===null?t.push(`M${p+e},${o+e} h1v1H${p+e}z`):t.push(`M${u+e},${o+e} h${p+1-u}v1H${u+e}z`);return}f&&u===null&&(u=p)})}),t.join("")}function fS(n,e){return n.slice().map((t,s)=>s<e.y||s>=e.y+e.h?t:t.map((o,u)=>u<e.x||u>=e.x+e.w?o:!1))}function MV(n,e,t,s){if(s==null)return null;const o=n.length+t*2,u=Math.floor(e*kV),f=o/e,p=(s.width||u)*f,d=(s.height||u)*f,g=s.x==null?n.length/2-p/2:s.x*f,v=s.y==null?n.length/2-d/2:s.y*f,E=s.opacity==null?1:s.opacity;let b=null;if(s.excavate){let D=Math.floor(g),U=Math.floor(v),P=Math.ceil(p+g-D),Y=Math.ceil(d+v-U);b={x:D,y:U,w:P,h:Y}}const C=s.crossOrigin;return{x:g,y:v,h:d,w:p,excavation:b,opacity:E,crossOrigin:C}}function PV(n,e){return e!=null?Math.max(Math.floor(e),0):n?NV:xV}function dS({value:n,level:e,minVersion:t,includeMargin:s,marginSize:o,imageSettings:u,size:f,boostLevel:p}){let d=Pt.useMemo(()=>{const D=(Array.isArray(n)?n:[n]).reduce((U,P)=>(U.push(...Do.QrSegment.makeSegments(P)),U),[]);return Do.QrCode.encodeSegments(D,OV[e],t,void 0,void 0,p)},[n,e,t,p]);const{cells:g,margin:v,numCells:E,calculatedImageSettings:b}=Pt.useMemo(()=>{let C=d.getModules();const D=PV(s,o),U=C.length+D*2,P=MV(C,f,D,u);return{cells:C,margin:D,numCells:U,calculatedImageSettings:P}},[d,f,u,s,o]);return{qrcode:d,margin:v,cells:g,numCells:E,calculatedImageSettings:b}}var VV=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),mS=Pt.forwardRef(function(e,t){const s=e,{value:o,size:u=sS,level:f=aS,bgColor:p=oS,fgColor:d=lS,includeMargin:g=uS,minVersion:v=cS,boostLevel:E,marginSize:b,imageSettings:C}=s,U=Wp(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:P}=U,Y=Wp(U,["style"]),ne=C==null?void 0:C.src,K=Pt.useRef(null),oe=Pt.useRef(null),Z=Pt.useCallback(tt=>{K.current=tt,typeof t=="function"?t(tt):t&&(t.current=tt)},[t]),[fe,x]=Pt.useState(!1),{margin:R,cells:S,numCells:O,calculatedImageSettings:k}=dS({value:o,level:f,minVersion:v,boostLevel:E,includeMargin:g,marginSize:b,imageSettings:C,size:u});Pt.useEffect(()=>{if(K.current!=null){const tt=K.current,Ye=tt.getContext("2d");if(!Ye)return;let ae=S;const ve=oe.current,ge=k!=null&&ve!==null&&ve.complete&&ve.naturalHeight!==0&&ve.naturalWidth!==0;ge&&k.excavation!=null&&(ae=fS(S,k.excavation));const qe=window.devicePixelRatio||1;tt.height=tt.width=u*qe;const M=u/O*qe;Ye.scale(M,M),Ye.fillStyle=p,Ye.fillRect(0,0,O,O),Ye.fillStyle=d,VV?Ye.fill(new Path2D(hS(ae,R))):S.forEach(function(re,me){re.forEach(function(le,ue){le&&Ye.fillRect(ue+R,me+R,1,1)})}),k&&(Ye.globalAlpha=k.opacity),ge&&Ye.drawImage(ve,k.x+R,k.y+R,k.w,k.h)}}),Pt.useEffect(()=>{x(!1)},[ne]);const z=Xp({height:u,width:u},P);let N=null;return ne!=null&&(N=Pt.createElement("img",{src:ne,key:ne,style:{display:"none"},onLoad:()=>{x(!0)},ref:oe,crossOrigin:k==null?void 0:k.crossOrigin})),Pt.createElement(Pt.Fragment,null,Pt.createElement("canvas",Xp({style:z,height:u,width:u,ref:Z,role:"img"},Y)),N)});mS.displayName="QRCodeCanvas";var LV=Pt.forwardRef(function(e,t){const s=e,{value:o,size:u=sS,level:f=aS,bgColor:p=oS,fgColor:d=lS,includeMargin:g=uS,minVersion:v=cS,boostLevel:E,title:b,marginSize:C,imageSettings:D}=s,U=Wp(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:P,cells:Y,numCells:ne,calculatedImageSettings:K}=dS({value:o,level:f,minVersion:v,boostLevel:E,includeMargin:g,marginSize:C,imageSettings:D,size:u});let oe=Y,Z=null;D!=null&&K!=null&&(K.excavation!=null&&(oe=fS(Y,K.excavation)),Z=Pt.createElement("image",{href:D.src,height:K.h,width:K.w,x:K.x+P,y:K.y+P,preserveAspectRatio:"none",opacity:K.opacity,crossOrigin:K.crossOrigin}));const fe=hS(oe,P);return Pt.createElement("svg",Xp({height:u,width:u,viewBox:`0 0 ${ne} ${ne}`,ref:t,role:"img"},U),!!b&&Pt.createElement("title",null,b),Pt.createElement("path",{fill:p,d:`M0,0 h${ne}v${ne}H0z`,shapeRendering:"crispEdges"}),Pt.createElement("path",{fill:d,d:fe,shapeRendering:"crispEdges"}),Z)});LV.displayName="QRCodeSVG";const UV=()=>{var oe;const{cid:n}=S1(),e=Ca(),[t]=gR(),[s,o]=G.useState(null),[u,f]=G.useState([]),[p,d]=G.useState([]),[g,v]=G.useState([]),[E,b]=G.useState(null),[C,D]=G.useState(!0);G.useEffect(()=>{const Z=gg(Rr,fe=>{fe?(U(),P(fe)):kn.fire("แจ้งเตือน","กรุณาเข้าสู่ระบบก่อน","warning").then(()=>{e("/")})});return()=>Z()},[n]);const U=async()=>{D(!0);try{const Z=mr(bn,"classroom",n,"info","infoDoc"),fe=await Kp(Z);fe.exists()&&o(fe.data());const x=Io(bn,`classroom/${n}/students`),R=await bu(x);f(R.docs.map(k=>k.data()));const S=iA(Io(bn,"classroom",n,"checkin"),Rk("date","desc")),O=await bu(S);d(O.docs.map(k=>({cno:k.id,...k.data()})))}catch{kn.fire("เกิดข้อผิดพลาด","ไม่สามารถโหลดข้อมูลได้","error")}finally{D(!1)}},P=async Z=>{if(t.get("join")==="true")try{const x=mr(bn,`classroom/${n}/students`,Z.uid);(await Kp(x)).exists()?kn.fire("แจ้งเตือน","คุณอยู่ในห้องเรียนนี้แล้ว","info"):(await Iu(x,{name:Z.displayName||"ไม่ทราบชื่อ",stdid:Z.uid,status:1}),await Iu(mr(bn,`users/${Z.uid}/classroom`,n),{status:2}),kn.fire("สำเร็จ!","คุณเข้าร่วมห้องเรียนเรียบร้อยแล้ว","success")),e(`/classroom/${n}`)}catch{kn.fire("เกิดข้อผิดพลาด","ไม่สามารถเข้าห้องเรียนได้","error")}},Y=async()=>{try{const Z=Io(bn,"classroom",n,"checkin"),x=(await bu(Z)).docs.length+1,R=Math.random().toString(36).substring(2,8).toUpperCase(),S=mr(bn,"classroom",n,"checkin",x.toString());await Iu(S,{code:R,date:kk(),status:1,count:0}),kn.fire("สำเร็จ","สร้างการเช็คชื่อใหม่เรียบร้อยแล้ว","success"),U()}catch{kn.fire("เกิดข้อผิดพลาด","ไม่สามารถสร้างการเช็คชื่อใหม่ได้","error")}},ne=async(Z,fe)=>{try{const x=fe===1?2:1;await Ok(mr(bn,"classroom",n,"checkin",Z),{status:x}),kn.fire("สำเร็จ",`เช็คชื่อถูก ${x===1?"เปิด":"ปิด"} แล้ว`,"success"),U()}catch{kn.fire("เกิดข้อผิดพลาด","ไม่สามารถเปลี่ยนสถานะเช็คชื่อได้","error")}},K=async Z=>{try{const fe=Io(bn,`classroom/${n}/checkin/${Z}/students`),R=(await bu(fe)).docs.map(S=>({id:S.id,...S.data()}));v(R),b(Z)}catch{kn.fire("เกิดข้อผิดพลาด","ไม่สามารถโหลดรายชื่อได้","error")}};return H.jsx("div",{className:"manage-classroom-container max-w-5xl mx-auto",children:C?H.jsx("p",{children:"กำลังโหลดข้อมูล..."}):H.jsxs(H.Fragment,{children:[s&&H.jsx("div",{className:"course-details shadow-xl p-4 md:p-8 rounded-3xl",children:H.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 md:gap-6",children:[H.jsxs("div",{children:[H.jsxs("div",{children:[H.jsx("div",{className:"text-xl md:text-3xl font-bold mb-1",children:s.name}),H.jsxs("div",{className:"text-md md:text-xl md:mb-4",children:["รหัสวิชา: ",s.code]})]}),H.jsxs("div",{className:"qrcode-container",children:[H.jsx("h3",{children:"QR Code สำหรับเข้าห้องเรียน"}),H.jsx(mS,{value:`${window.location.origin}/classroom/${n}?join=true`,size:128})]})]}),H.jsx("div",{className:"overflow-hidden rounded-2xl mt-4 md:mt-0 max-w-md",children:H.jsx("img",{src:s.photo,alt:s.name,className:"course-bg w-full min-w-sm"})})]})}),H.jsx("button",{onClick:Y,className:"btn-primary mb-5 mt-10",children:"+ เพิ่มการเช็คชื่อใหม่"}),H.jsx("div",{className:"text-md md:text-xl mt-6",children:"รายชื่อนักเรียนที่ลงทะเบียน"}),H.jsxs("table",{className:"students-table mt-2 w-full",children:[H.jsx("thead",{children:H.jsxs("tr",{children:[H.jsx("th",{children:"ลำดับ"}),H.jsx("th",{children:"รหัส"}),H.jsx("th",{children:"ชื่อ"}),H.jsx("th",{children:"รูปภาพ"}),H.jsx("th",{children:"สถานะ"})]})}),H.jsx("tbody",{children:u.length>0?u.map((Z,fe)=>H.jsxs("tr",{children:[H.jsx("td",{children:fe+1}),H.jsx("td",{children:Z.stdid||Z.id}),H.jsx("td",{children:Z.name}),H.jsx("td",{children:Z.photo?H.jsx("img",{src:Z.photo,alt:Z.name,width:"50"}):"ไม่มี"}),H.jsx("td",{children:Z.status})]},Z.id)):H.jsx("tr",{children:H.jsx("td",{colSpan:"5",children:"ยังไม่มีนักเรียนลงทะเบียน"})})})]}),H.jsxs("table",{className:"students-table mt-2 w-full",children:[H.jsx("thead",{children:H.jsxs("tr",{children:[H.jsx("th",{children:"ลำดับ"}),H.jsx("th",{children:"วัน-เวลา"}),H.jsx("th",{children:"รหัสเช็คชื่อ"}),H.jsx("th",{children:"จำนวนเข้าเรียน"}),H.jsx("th",{children:"สถานะ"}),H.jsx("th",{children:"เปลี่ยนสถานะ"}),H.jsx("th",{children:"ดูรายชื่อ"})]})}),H.jsx("tbody",{children:p.map((Z,fe)=>H.jsxs("tr",{children:[H.jsx("td",{children:fe+1}),H.jsx("td",{children:new Date(Z.date.toDate()).toLocaleString()}),H.jsx("td",{children:Z.code}),H.jsx("td",{children:Z.count||0}),H.jsx("td",{children:Z.status===1?"กำลังเช็คชื่อ":"ปิดเช็คชื่อ"}),H.jsx("td",{children:H.jsx("button",{onClick:()=>ne(Z.cno,Z.status),children:Z.status===1?"ปิด":"เปิด"})}),H.jsx("td",{children:H.jsx("button",{onClick:()=>K(Z.cno),children:"ดูรายชื่อ"})})]},Z.cno))})]}),E&&H.jsxs("div",{className:"checked-in-students mt-4",children:[H.jsxs("div",{className:"text-md md:text-xl",children:["รายชื่อนักเรียนที่เช็คชื่อแล้ว (รหัสเช็คชื่อ: ",(oe=p.find(Z=>Z.cno===E))==null?void 0:oe.code,")"]}),g.length>0?H.jsxs("table",{className:"students-table mt-2 w-full",children:[H.jsx("thead",{children:H.jsxs("tr",{children:[H.jsx("th",{children:"ลำดับ"}),H.jsx("th",{children:"ชื่อ"}),H.jsx("th",{children:"รหัสนักศึกษา"}),H.jsx("th",{children:"วันที่และเวลาเช็คชื่อ"})]})}),H.jsx("tbody",{children:g.map((Z,fe)=>H.jsxs("tr",{children:[H.jsx("td",{children:fe+1}),H.jsx("td",{children:Z.name}),H.jsx("td",{children:Z.stdid}),H.jsx("td",{children:Z.date?new Date(Z.date).toLocaleString():"ไม่พบข้อมูลเวลา"})]},Z.id))})]}):H.jsx("p",{children:"ยังไม่มีนักเรียนเช็คชื่อสำหรับรหัสนี้"})]})]})})};function BV(){return H.jsx(hR,{children:H.jsxs(z1,{children:[H.jsx(pa,{path:"/SC310006_Sec1_Group6/",element:H.jsx(Vk,{})}),H.jsx(pa,{path:"/SC310006_Sec1_Group6/signup",element:H.jsx(Lk,{})}),H.jsx(pa,{path:"/SC310006_Sec1_Group6/dashboard",element:H.jsx(Uk,{})}),H.jsx(pa,{path:"/SC310006_Sec1_Group6/profile",element:H.jsx(Bk,{})}),H.jsx(pa,{path:"/SC310006_Sec1_Group6/classroom/:cid",element:H.jsx(UV,{})}),H.jsx(pa,{path:"/SC310006_Sec1_Group6/add-classroom",element:H.jsx(zk,{})})]})})}Y2.createRoot(document.getElementById("root")).render(H.jsx(G.StrictMode,{children:H.jsx(BV,{})}));
